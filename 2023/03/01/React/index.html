

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Trumen">
  <meta name="keywords" content="">
  
    <meta name="description" content="1. React å…¥é—¨æ¦‚è¿°1.1 ä»‹ç»ç”¨äºåŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºè§†å›¾) 1.å‘é€è¯·æ±‚è·å–æ•°æ® 2.å¤„ç†æ•°æ®ï¼ˆè¿‡æ»¤ï¼Œæ•´ç†æ ¼å¼ç­‰ï¼‰ 3.æ“ä½œDOMå‘ˆç°é¡µé¢ï¼ˆReactåšçš„äº‹æƒ…ï¼‰  Reactæ˜¯ä¸€ä¸ªå°†æ•°æ®æ¸²æŸ“ä¸ºHTMLè§†å›¾çš„å¼€æºJavaScriptåº“ 1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹1. åŸç”ŸJavaScriptæ“ä½œDOMç¹çï¼Œæ•ˆç‡ä½ï¼ˆDOM-APIæ“ä½œUIï¼‰ 2.">
<meta property="og:type" content="article">
<meta property="og:title" content="ğŸ¦•React">
<meta property="og:url" content="https://trumen1219.github.io/2023/03/01/React/index.html">
<meta property="og:site_name" content="Trumen&#39;s blog">
<meta property="og:description" content="1. React å…¥é—¨æ¦‚è¿°1.1 ä»‹ç»ç”¨äºåŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºè§†å›¾) 1.å‘é€è¯·æ±‚è·å–æ•°æ® 2.å¤„ç†æ•°æ®ï¼ˆè¿‡æ»¤ï¼Œæ•´ç†æ ¼å¼ç­‰ï¼‰ 3.æ“ä½œDOMå‘ˆç°é¡µé¢ï¼ˆReactåšçš„äº‹æƒ…ï¼‰  Reactæ˜¯ä¸€ä¸ªå°†æ•°æ®æ¸²æŸ“ä¸ºHTMLè§†å›¾çš„å¼€æºJavaScriptåº“ 1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹1. åŸç”ŸJavaScriptæ“ä½œDOMç¹çï¼Œæ•ˆç‡ä½ï¼ˆDOM-APIæ“ä½œUIï¼‰ 2.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/216939381-0451d71f-c024-46bf-8fb1-ff25e775c093.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/216941884-1eb6f1e5-c9f2-429b-b6e0-38214ffd8a06.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/216941911-7af3b347-61b2-4a52-93a3-c98240f22c6d.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217765611-333f4b51-104d-478c-a907-c875c5ba30e0.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217765681-3219dbba-ba4e-430b-89ab-491304411957.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217765719-0818ccdb-4d40-40c7-84ba-1556b6028719.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217765896-b98139ee-c913-4141-9b3f-52c687cd07c8.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217765963-ceed33e2-9a84-4e6e-b591-ee0873ff1c45.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/217766032-9d58d0cf-c11c-44d5-8a96-8d2d1681b4c0.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/218298374-9f3931c3-ea0d-45a5-80c2-cd4b15e1a51f.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/218298384-a6b30e7b-a208-408e-b0ca-27d979d71fe6.png">
<meta property="og:image" content="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/218704757-f4bd7825-9d5d-4eb6-89fe-2c33532ac4aa.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/218704847-ae672973-44d9-44c1-b65c-45a8751596e1.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/218704968-244b5f61-9cad-4458-8fcf-fa62ba1e00ab.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043507-be6a541b-0555-45ef-9f6b-3b4d3d7f2933.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043555-34074e8d-6f6e-4465-b3f4-3b66839e455d.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043678-0443345f-4ad2-4437-a593-ef3bd9cba086.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043748-e4348946-70a0-4c1b-b839-a110a2ef6382.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043789-c8f7da4b-7405-4279-b1fd-f644c920d5dc.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043844-498fe04c-4675-4891-81b3-fcee7c9c1a97.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220043913-c6f6f826-a2e6-46d8-b6d6-befc49fc5948.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220586710-8cda4354-1d15-44b3-8d2e-1196c43a9679.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220586632-ce9102cb-724b-472c-b580-74e5c67dd91b.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220586897-9993ceae-c17b-4db0-b1fb-f51317040f25.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220587169-d8c3072c-e800-46c0-8db2-83abd26f2911.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220587280-1a81ccc3-a9b7-4012-aeed-b8959acf65a0.png">
<meta property="og:image" content="https://user-images.githubusercontent.com/117837871/220587310-7b5ec9e9-8c6b-4929-b215-130d49d0e17a.png">
<meta property="article:published_time" content="2023-02-28T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-30T15:01:28.072Z">
<meta property="article:author" content="Trumen">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/117837871/216939381-0451d71f-c024-46bf-8fb1-ff25e775c093.png">
  
  
  
  <title>ğŸ¦•React - Trumen&#39;s blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"trumen1219.github.io","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Trumen</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ğŸ¦•React"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-01 00:00" pubdate>
          2023å¹´3æœˆ1æ—¥ å‡Œæ™¨
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          78k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          651 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ğŸ¦•React</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="1-React-å…¥é—¨æ¦‚è¿°"><a href="#1-React-å…¥é—¨æ¦‚è¿°" class="headerlink" title="1. React å…¥é—¨æ¦‚è¿°"></a>1. React å…¥é—¨æ¦‚è¿°</h1><h2 id="1-1-ä»‹ç»"><a href="#1-1-ä»‹ç»" class="headerlink" title="1.1 ä»‹ç»"></a>1.1 ä»‹ç»</h2><p>ç”¨äºåŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºè§†å›¾)</p>
<pre><code class="hljs">1.å‘é€è¯·æ±‚è·å–æ•°æ®
2.å¤„ç†æ•°æ®ï¼ˆè¿‡æ»¤ï¼Œæ•´ç†æ ¼å¼ç­‰ï¼‰
3.æ“ä½œDOMå‘ˆç°é¡µé¢ï¼ˆReactåšçš„äº‹æƒ…ï¼‰
</code></pre>
<p>Reactæ˜¯ä¸€ä¸ªå°†æ•°æ®æ¸²æŸ“ä¸ºHTMLè§†å›¾çš„å¼€æºJavaScriptåº“</p>
<h2 id="1-2-åŸç”ŸJavaScriptçš„ç¼ºç‚¹"><a href="#1-2-åŸç”ŸJavaScriptçš„ç¼ºç‚¹" class="headerlink" title="1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹"></a>1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹</h2><pre><code class="hljs">1. åŸç”ŸJavaScriptæ“ä½œDOMç¹çï¼Œæ•ˆç‡ä½ï¼ˆDOM-APIæ“ä½œUIï¼‰
2. ä½¿ç”¨JavaScriptç›´æ¥æ“ä½œDOMï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œå¤§é‡çš„é‡ç»˜é‡æ’
3. åŸç”ŸJavaScriptæ²¡æœ‰ç»„ä»¶åŒ–ç¼–ç æ–¹æ¡ˆï¼Œä»£ç å¤ç”¨ç‡å¾ˆä½
</code></pre>
<p>ã€è¡¥å……ã€‘æµè§ˆå™¨é‡ç»˜é‡æ’</p>
<p>æµè§ˆå™¨é‡ç»˜(repaint)é‡æ’(reflow)ä¸ä¼˜åŒ–[æµè§ˆå™¨æœºåˆ¶]</p>
<p><strong>é‡ç»˜</strong>(repaint)ï¼šå½“ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚å‘ç”Ÿæ”¹å˜ï¼Œä½†æ²¡æœ‰æ”¹å˜å¸ƒå±€,é‡æ–°æŠŠå…ƒç´ å¤–è§‚ç»˜åˆ¶å‡ºæ¥çš„è¿‡ç¨‹ï¼Œå«åšé‡ç»˜</p>
<p><strong>é‡æ’</strong>(reflow)ï¼šå½“DOMçš„å˜åŒ–å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯(DOMå¯¹è±¡çš„ä½ç½®å’Œå°ºå¯¸å¤§å°)ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå°†å…¶å®‰æ”¾åœ¨ç•Œé¢ä¸­çš„æ­£ç¡®ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’</p>
<p>##ã€è¡¥å……ã€‘æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–</p>
<pre><code class="hljs">â€¢ æ¨¡å—
    1. ç†è§£ï¼šå‘å¤–æä¾›ç‰¹å®šåŠŸèƒ½çš„jsç¨‹åº, ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶
    2. ä¸ºä»€ä¹ˆè¦æ‹†æˆæ¨¡å—ï¼šéšç€ä¸šåŠ¡é€»è¾‘å¢åŠ ï¼Œä»£ç è¶Šæ¥è¶Šå¤šä¸”å¤æ‚ã€‚
    3. ä½œç”¨ï¼šå¤ç”¨js, ç®€åŒ–jsçš„ç¼–å†™, æé«˜jsè¿è¡Œæ•ˆç‡
    
â€¢ ç»„ä»¶
    1. ç†è§£ï¼šç”¨æ¥å®ç°å±€éƒ¨åŠŸèƒ½æ•ˆæœçš„ä»£ç å’Œèµ„æºçš„é›†åˆ(html/css/js/imageç­‰ç­‰)
    2. ä¸ºä»€ä¹ˆè¦ç”¨ç»„ä»¶ï¼š ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½æ›´å¤æ‚
    3. ä½œç”¨ï¼šå¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡
    
</code></pre>
<p>æ¨¡å—åŒ–ï¼šå½“åº”ç”¨çš„jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™çš„, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨</p>
<p>ç»„ä»¶åŒ–ï¼šå½“åº”ç”¨æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼å®ç°, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨</p>
<h2 id="1-3-Reactçš„ç‰¹ç‚¹"><a href="#1-3-Reactçš„ç‰¹ç‚¹" class="headerlink" title="1.3 Reactçš„ç‰¹ç‚¹"></a>1.3 Reactçš„ç‰¹ç‚¹</h2><pre><code class="hljs">1. é‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼ã€å£°æ˜å¼ç¼–ç ï¼Œæé«˜å¼€å‘æ•ˆç‡åŠç»„ä»¶å¤ç”¨ç‡
2. åœ¨ React Nativeä¸­å¯ä»¥ä½¿ç”¨Reactè¯­æ³•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘
3. ä½¿ç”¨è™šæ‹ŸDOM+Diffç®—æ³•ï¼Œå°½é‡å‡å°‘ä¸çœŸå®DOMçš„äº¤äº’
</code></pre>
<h2 id="1-4-Reacté«˜æ•ˆçš„åŸå› "><a href="#1-4-Reacté«˜æ•ˆçš„åŸå› " class="headerlink" title="1.4. Reacté«˜æ•ˆçš„åŸå› "></a>1.4. Reacté«˜æ•ˆçš„åŸå› </h2><pre><code class="hljs">1. ä½¿ç”¨è™šæ‹Ÿ(virtual)DOM, ä¸æ€»æ˜¯ç›´æ¥æ“ä½œé¡µé¢çœŸå®DOMã€‚

2. DOM Diffingç®—æ³•, æœ€å°åŒ–é¡µé¢é‡ç»˜ã€‚
</code></pre>
<h1 id="2-Hello-React"><a href="#2-Hello-React" class="headerlink" title="2. Hello React"></a>2. Hello React</h1><h2 id="2-1-ç›¸å…³åº“ä»‹ç»"><a href="#2-1-ç›¸å…³åº“ä»‹ç»" class="headerlink" title="2.1 ç›¸å…³åº“ä»‹ç»"></a>2.1 ç›¸å…³åº“ä»‹ç»</h2><pre><code class="hljs">â€¢ æ—§ç‰ˆæœ¬ 16.8.4 (March 5, 2019)
â€¢ æ–°ç‰ˆæœ¬ æœ‰ä¸ä¸€æ ·çš„ä¼šè¯´æ˜

1. react.jsï¼šReactæ ¸å¿ƒåº“ã€‚
2. react-dom.jsï¼šæä¾›æ“ä½œDOMçš„Reactæ‰©å±•åº“ã€‚
3. babel.min.jsï¼šè§£æJSXè¯­æ³•ä»£ç è½¬ä¸ºJSä»£ç çš„åº“ã€‚
</code></pre>
<h2 id="ã€è¡¥å……ã€‘babel-jsçš„ä½œç”¨"><a href="#ã€è¡¥å……ã€‘babel-jsçš„ä½œç”¨" class="headerlink" title="ã€è¡¥å……ã€‘babel.jsçš„ä½œç”¨"></a>ã€è¡¥å……ã€‘babel.jsçš„ä½œç”¨</h2><pre><code class="hljs">1. æµè§ˆå™¨ä¸èƒ½ç›´æ¥è§£æJSXä»£ç , éœ€è¦babelè½¬è¯‘ä¸ºçº¯JSçš„ä»£ç æ‰èƒ½è¿è¡Œ
2. åªè¦ç”¨äº†JSXï¼Œéƒ½è¦åŠ ä¸Štype=&quot;text/babel&quot;, å£°æ˜éœ€è¦babelæ¥å¤„ç†
</code></pre>
<h2 id="2-2-ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM"><a href="#2-2-ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM" class="headerlink" title="2.2 ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM"></a>2.2 ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">const VDOM= &lt;h1&gt;Hello,React&lt;/h1&gt;<br></code></pre></td></tr></table></figure>
<h2 id="2-3-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ "><a href="#2-3-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ " class="headerlink" title="2.3 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )"></a>2.3 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )</h2><pre><code class="hljs">1. è¯­æ³•: 
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">ReactDOM.render(virtualDOM, containerDOM)<br></code></pre></td></tr></table></figure>

<pre><code class="hljs">2. ä½œç”¨: å°†è™šæ‹ŸDOMå…ƒç´ æ¸²æŸ“åˆ°é¡µé¢ä¸­çš„çœŸå®å®¹å™¨DOMä¸­æ˜¾ç¤º


3. å‚æ•°è¯´æ˜ 

    1. å‚æ•°ä¸€: çº¯jsæˆ–jsxåˆ›å»ºçš„è™šæ‹Ÿdomå¯¹è±¡
    
    2. å‚æ•°äºŒ: ç”¨æ¥åŒ…å«è™šæ‹ŸDOMå…ƒç´ çš„çœŸå®domå…ƒç´ å¯¹è±¡(ä¸€èˆ¬æ˜¯ä¸€ä¸ªdiv)
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>hello_react<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªâ€œå®¹å™¨â€ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œDOM --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šè¦å†™babel */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<h2 id="2-4-é¡µé¢æ˜¾ç¤º"><a href="#2-4-é¡µé¢æ˜¾ç¤º" class="headerlink" title="2.4 é¡µé¢æ˜¾ç¤º"></a>2.4 é¡µé¢æ˜¾ç¤º</h2><img width="451" alt="image" src="https://user-images.githubusercontent.com/117837871/216939381-0451d71f-c024-46bf-8fb1-ff25e775c093.png" srcset="/img/loading.gif" lazyload>

<h1 id="3-åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼"><a href="#3-åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼" class="headerlink" title="3. åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼"></a>3. åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼</h1><h2 id="3-1-çº¯JSæ–¹å¼-ä¸€èˆ¬ä¸ç”¨"><a href="#3-1-çº¯JSæ–¹å¼-ä¸€èˆ¬ä¸ç”¨" class="headerlink" title="3.1 çº¯JSæ–¹å¼(ä¸€èˆ¬ä¸ç”¨)"></a>3.1 çº¯JSæ–¹å¼(ä¸€èˆ¬ä¸ç”¨)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">&lt;div id=<span class="hljs-string">&quot;test&quot;</span>&gt;&lt;/div&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"> </span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;h1&#x27;</span>,&#123;<span class="hljs-attr">id</span>:<span class="hljs-string">&#x27;title&#x27;</span>&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;span&#x27;</span>,&#123;&#125;,<span class="hljs-string">&#x27;Hello,React&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br></code></pre></td></tr></table></figure>

<h2 id="3-2-JSXæ–¹å¼"><a href="#3-2-JSXæ–¹å¼" class="headerlink" title="3.2 JSXæ–¹å¼"></a>3.2 JSXæ–¹å¼</h2><pre><code class="hljs">JSXæ–¹å¼å°±æ˜¯jsåˆ›å»ºè™šæ‹ŸDOMçš„è¯­æ³•ç³–
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div id=<span class="hljs-string">&quot;test&quot;</span>&gt;&lt;/div&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span> &gt;</span><span class="language-javascript"> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šè¦å†™babel */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (  <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span></span></span><br><span class="language-xml"><span class="language-javascript"><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></span></span><br><span class="language-xml"><span class="language-javascript"><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span></span><br><span class="language-javascript"><span class="language-xml">    )</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>![image](<span class="hljs-attr">https</span>:<span class="hljs-comment">//user-images.githubusercontent.com/117837871/216940180-3b28dbc4-3910-4119-845f-4f3b124ecc95.png)</span><br></code></pre></td></tr></table></figure>

<h1 id="4-è™šæ‹ŸDOMä¸çœŸå®DOM"><a href="#4-è™šæ‹ŸDOMä¸çœŸå®DOM" class="headerlink" title="4. è™šæ‹ŸDOMä¸çœŸå®DOM"></a>4. è™šæ‹ŸDOMä¸çœŸå®DOM</h1><p>æ‰“å°è¾“å‡ºè™šæ‹ŸDOMå’ŒçœŸå®DOMè¿›è¡Œæ¯”è¾ƒ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (  <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>)<br><span class="hljs-comment">// æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br>constTDOM= <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;demo&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è™šæ‹ŸDOM&#x27;</span>,<span class="hljs-variable constant_">VDOM</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;çœŸå®DOM&#x27;</span>,<span class="hljs-variable constant_">TDOM</span>);<br><span class="hljs-keyword">debugger</span>;<br></code></pre></td></tr></table></figure>
<p>çœ‹çœ‹è™šæ‹ŸDOMèº«ä¸Šæœ‰å“ªäº›å±æ€§<br><img width="433" alt="image" src="https://user-images.githubusercontent.com/117837871/216941884-1eb6f1e5-c9f2-429b-b6e0-38214ffd8a06.png" srcset="/img/loading.gif" lazyload></p>
<p>çœ‹çœ‹çœŸå®DOMèº«ä¸Šæœ‰å“ªäº›å±æ€§<br><img width="448" alt="image" src="https://user-images.githubusercontent.com/117837871/216941911-7af3b347-61b2-4a52-93a3-c98240f22c6d.png" srcset="/img/loading.gif" lazyload></p>
<pre><code class="hljs">1. è™šæ‹ŸDOMæœ¬è´¨æ˜¯Objectç±»å‹çš„å¯¹è±¡ï¼ˆä¸€èˆ¬å¯¹è±¡ï¼‰

2. è™šæ‹ŸDOMæ¯”è¾ƒ â€œè½»â€ï¼ŒçœŸå®DOMæ¯”è¾ƒ â€œé‡â€ï¼Œå› ä¸ºè™šæ‹ŸDOMæ˜¯Reactå†…éƒ¨åœ¨ç”¨ï¼Œæ— éœ€çœŸå®DOMä¸Šé‚£ä¹ˆå¤šçš„å±æ€§

3. è™šæ‹ŸDOMæœ€ç»ˆä¼šè¢«Reactè½¬åŒ–ä¸ºçœŸå®DOMï¼Œå‘ˆç°åœ¨é¡µé¢ä¸Š
</code></pre>
<h1 id="5-JSXå…¥é—¨"><a href="#5-JSXå…¥é—¨" class="headerlink" title="5. JSXå…¥é—¨"></a>5. JSXå…¥é—¨</h1><h2 id="5-1-æ¦‚è¿°"><a href="#5-1-æ¦‚è¿°" class="headerlink" title="5.1 æ¦‚è¿°"></a>5.1 æ¦‚è¿°</h2><pre><code class="hljs">1. å…¨ç§°: JavaScript XML

2. Reactå®šä¹‰çš„ä¸€ç§ç±»ä¼¼äºXMLçš„JSæ‰©å±•è¯­æ³•: JS + XMLæœ¬è´¨æ˜¯React.createElement(component, props, ...children)æ–¹æ³•çš„è¯­æ³•ç³–

3. ä½œç”¨: ç”¨æ¥ç®€åŒ–åˆ›å»ºè™šæ‹ŸDOM 

    1. å†™æ³•ï¼švar ele = &lt;h1&gt;Hello JSX!&lt;/h1&gt;
    
    2. æ³¨æ„1ï¼šå®ƒä¸æ˜¯å­—ç¬¦ä¸², ä¹Ÿä¸æ˜¯HTML/XMLæ ‡ç­¾
    
    3. æ³¨æ„2ï¼šå®ƒæœ€ç»ˆäº§ç”Ÿçš„å°±æ˜¯ä¸€ä¸ªJSå¯¹è±¡
    
4. æ ‡ç­¾åä»»æ„: HTMLæ ‡ç­¾æˆ–å…¶å®ƒæ ‡ç­¾

5. æ ‡ç­¾å±æ€§ä»»æ„: HTMLæ ‡ç­¾å±æ€§æˆ–å…¶å®ƒ
</code></pre>
<h2 id="5-2-åŸºæœ¬è¯­æ³•è§„åˆ™"><a href="#5-2-åŸºæœ¬è¯­æ³•è§„åˆ™" class="headerlink" title="5.2 åŸºæœ¬è¯­æ³•è§„åˆ™"></a>5.2 åŸºæœ¬è¯­æ³•è§„åˆ™</h2><pre><code class="hljs">1. å®šä¹‰è™šæ‹ŸDOMæ—¶ï¼Œä¸è¦å†™å¼•å·ã€‚

2. æ ‡ç­¾ä¸­æ··å…¥JSè¡¨è¾¾å¼æ—¶è¦ç”¨ &#123; &#125;ã€‚

3. æ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨ classï¼Œè¦ç”¨ classNameã€‚ï¼ˆå› ä¸ºclassæ˜¯ES6ä¸­ç±»çš„å…³é”®å­—ï¼Œæ‰€ä»¥ä¸è®©ç”¨ï¼‰

4. å†…è”æ ·å¼ï¼Œè¦ç”¨ style=&#123;&#123; key:value &#125;&#125; çš„å½¢å¼å»å†™ã€‚

5. åªæœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾

6. æ ‡ç­¾å¿…é¡»é—­åˆ

7. æ ‡ç­¾é¦–å­—æ¯ 

    1. è‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†è¯¥æ ‡ç­¾è½¬ä¸ºhtmlä¸­åŒåå…ƒç´ ï¼Œè‹¥htmlä¸­æ— è¯¥æ ‡ç­¾å¯¹åº”çš„åŒåå…ƒç´ ï¼Œåˆ™æŠ¥é”™ã€‚

    2. è‹¥å¤§å†™å­—æ¯å¼€å¤´ï¼ŒReactå°±å»æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œè‹¥ç»„ä»¶æ²¡æœ‰å®šä¹‰ï¼Œåˆ™æŠ¥é”™ã€‚
    
</code></pre>
<h2 id="ã€è¡¥å……ã€‘-åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥"><a href="#ã€è¡¥å……ã€‘-åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥" class="headerlink" title="ã€è¡¥å……ã€‘ åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥"></a>ã€è¡¥å……ã€‘ åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥</h2><pre><code class="hljs">1. è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼Œä¸‹é¢è¿™äº›éƒ½æ˜¯è¡¨è¾¾å¼ï¼š

    1. a
    
    2. a+b
    
    3. demo(1) // å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼
    
    4. arr.map()
    
    5. function test () &#123;&#125;
    
2. è¯­å¥(ä»£ç )ï¼Œä¸‹é¢è¿™äº›éƒ½æ˜¯è¯­å¥(ä»£ç )ï¼šã€æ§åˆ¶è¯­å¥ï¼Œæ§åˆ¶ä»£ç èµ°å‘ï¼Œè€Œä¸æ˜¯äº§ç”Ÿå€¼ã€‘

    1. if()&#123; &#125;
    
    2. for()&#123; &#125;
    
    3. switch( )&#123;case:xxxx&#125;
    
</code></pre>
<h2 id="5-3-æ€»ç»“"><a href="#5-3-æ€»ç»“" class="headerlink" title="5.3 æ€»ç»“"></a>5.3 æ€»ç»“</h2><pre><code class="hljs">1. é‡åˆ° &lt; å¼€å¤´çš„ä»£ç , ä»¥æ ‡ç­¾çš„è¯­æ³•è§£æ: htmlåŒåæ ‡ç­¾è½¬æ¢ä¸ºhtmlåŒåå…ƒç´ , å…¶å®ƒæ ‡ç­¾éœ€è¦ç‰¹åˆ«è§£æ

2. é‡åˆ°ä»¥ &#123; å¼€å¤´çš„ä»£ç ï¼Œä»¥JSè¯­æ³•è§£æ: æ ‡ç­¾ä¸­çš„jsè¡¨è¾¾å¼å¿…é¡»ç”¨&#123; &#125;åŒ…å«
</code></pre>
<h1 id="ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹-åŸºæœ¬ç†è§£å’Œä½¿ç”¨-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs-äº‹ä»¶å¤„ç†-éå—æ§ç»„ä»¶-å—æ§ç»„ä»¶-é«˜é˜¶å‡½æ•°"><a href="#ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹-åŸºæœ¬ç†è§£å’Œä½¿ç”¨-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs-äº‹ä»¶å¤„ç†-éå—æ§ç»„ä»¶-å—æ§ç»„ä»¶-é«˜é˜¶å‡½æ•°" class="headerlink" title="ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹ - åŸºæœ¬ç†è§£å’Œä½¿ç”¨ - ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs - äº‹ä»¶å¤„ç† - éå—æ§ç»„ä»¶ - å—æ§ç»„ä»¶ - é«˜é˜¶å‡½æ•°"></a>ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹ - åŸºæœ¬ç†è§£å’Œä½¿ç”¨ - ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs - äº‹ä»¶å¤„ç† - éå—æ§ç»„ä»¶ - å—æ§ç»„ä»¶ - é«˜é˜¶å‡½æ•°</h1><h2 id="1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨"><a href="#1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨" class="headerlink" title="1 . åŸºæœ¬ç†è§£å’Œä½¿ç”¨"></a>1 . åŸºæœ¬ç†è§£å’Œä½¿ç”¨</h2><h3 id="1-1-å‡½æ•°å¼ç»„ä»¶"><a href="#1-1-å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="1.1 å‡½æ•°å¼ç»„ä»¶"></a>1.1 å‡½æ•°å¼ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºå‡½æ•°å¼ç»„ä»¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyCompontent</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<span class="hljs-comment">//è¿™é‡Œçš„thisæ˜¯undefinedï¼Œå› ä¸ºbabelç¼–è¯‘åå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨å‡½æ•°å®šä¹‰çš„ç»„ä»¶ï¼ˆé€‚ç”¨äºç®€å•ç»„ä»¶çš„å®šä¹‰ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyCompontent</span>/&gt;</span></span>,docement.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/217765611-333f4b51-104d-478c-a907-c875c5ba30e0.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<pre><code class="hljs">æ‰§è¡Œäº†ReactDOM.render(&lt;MyComponent/&gt;.......ä¹‹åï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

Reactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyComponentç»„ä»¶ã€‚

å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ï¼Œéšåè°ƒç”¨è¯¥å‡½æ•°ï¼Œå°†è¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­ã€‚
</code></pre>
<p>ã€è¡¥å……ã€‘ä¸¥æ ¼æ¨¡å¼ä¸­çš„this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayThis</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)<br>&#125;<br><span class="hljs-title function_">sayThis</span>() <span class="hljs-comment">// Window &#123;...&#125;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayThis2</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-string">&#x27;use strict&#x27;</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)<br>&#125;<br><span class="hljs-title function_">sayThis2</span>() <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœä¸å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘window</p>
<p>å¦‚æœå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„thisæ˜¯undefined</p>
<h3 id="1-2-ç±»å¼ç»„ä»¶"><a href="#1-2-ç±»å¼ç»„ä»¶" class="headerlink" title="1.2 ç±»å¼ç»„ä»¶"></a>1.2 ç±»å¼ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç±»å¼ç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCompontent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.compontent</span> &#123;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>	    <span class="hljs-comment">//renderæ˜¯æ”¾åœ¨å“ªé‡Œçš„ï¼Ÿâ€”â€” MyComponentçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨ã€‚</span><br>	    <span class="hljs-comment">//renderä¸­çš„thisæ˜¯è°ï¼Ÿâ€”â€” MyComponentçš„å®ä¾‹å¯¹è±¡ &lt;=&gt; MyComponentç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br>        <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨ç±»å®šä¹‰çš„ç»„ä»¶(é€‚ç”¨äºã€å¤æ‚ç»„ä»¶ã€‘çš„å®šä¹‰)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>    &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyCompontent</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>))<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/217765681-3219dbba-ba4e-430b-89ab-491304411957.png" srcset="/img/loading.gif" lazyload alt="image"><br><img src="https://user-images.githubusercontent.com/117837871/217765719-0818ccdb-4d40-40c7-84ba-1556b6028719.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<pre><code class="hljs">æ‰§è¡Œäº†ReactDOM.render(&lt;MyComponent/&gt;.......ä¹‹åï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

Reactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyComponentç»„ä»¶ã€‚

å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨ç±»å®šä¹‰çš„ï¼Œéšånewå‡ºæ¥è¯¥ç±»çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡è¯¥å®ä¾‹è°ƒç”¨åˆ°åŸå‹ä¸Šçš„renderæ–¹æ³•ã€‚

å°†renderè¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­ã€‚
</code></pre>
<p>ã€è¡¥å……ã€‘å…³äºES6ä¸­ç±»çš„æ³¨æ„äº‹é¡¹</p>
<p>ç±»ä¸­çš„æ„é€ å™¨ä¸æ˜¯å¿…é¡»è¦å†™çš„ï¼Œè¦å¯¹å®ä¾‹è¿›è¡Œä¸€äº›åˆå§‹åŒ–çš„æ“ä½œï¼Œå¦‚æ·»åŠ æŒ‡å®šå±æ€§æ—¶æ‰å†™ã€‚</p>
<p>å¦‚æœAç±»ç»§æ‰¿äº†Bç±»ï¼Œä¸”Aç±»ä¸­å†™äº†æ„é€ å™¨ï¼Œé‚£ä¹ˆAç±»æ„é€ å™¨ä¸­çš„superæ˜¯å¿…é¡»è¦è°ƒç”¨çš„ã€‚</p>
<p>ç±»ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ”¾åœ¨äº†ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹å»ä½¿ç”¨ã€‚</p>
<h3 id="1-3-æ³¨æ„"><a href="#1-3-æ³¨æ„" class="headerlink" title="1.3 æ³¨æ„"></a>1.3 æ³¨æ„</h3><p>ç»„ä»¶åå¿…é¡»é¦–å­—æ¯å¤§å†™</p>
<p>è™šæ‹ŸDOMå…ƒç´ åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p>
<p>è™šæ‹ŸDOMå…ƒç´ å¿…é¡»æœ‰ç»“æŸæ ‡ç­¾</p>
<p>é‡ç‚¹å…³æ³¨ä¸‹æ¸²æŸ“ç±»ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹</p>
<ul>
<li>Reactå†…éƒ¨ä¼šåˆ›å»ºç»„ä»¶å®ä¾‹å¯¹è±¡</li>
<li>è°ƒç”¨render()å¾—åˆ°è™šæ‹ŸDOM, å¹¶è§£æä¸ºçœŸå®DOM</li>
<li>æ’å…¥åˆ°æŒ‡å®šçš„é¡µé¢å…ƒç´ å†…éƒ¨</li>
</ul>
<h2 id="2-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1-state-çŠ¶æ€"><a href="#2-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1-state-çŠ¶æ€" class="headerlink" title="2. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1: state çŠ¶æ€"></a>2. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1: state çŠ¶æ€</h2><h3 id="2-1-ç†è§£"><a href="#2-1-ç†è§£" class="headerlink" title="2.1 ç†è§£"></a>2.1 ç†è§£</h3><p>stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)</p>
<p>ç»„ä»¶è¢«ç§°ä¸ºâ€çŠ¶æ€æœºâ€, é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</p>
<h3 id="2-2-åº”ç”¨"><a href="#2-2-åº”ç”¨" class="headerlink" title="2.2 åº”ç”¨"></a>2.2 åº”ç”¨</h3><p>éœ€æ±‚: å®šä¹‰ä¸€ä¸ªå±•ç¤ºå¤©æ°”ä¿¡æ¯çš„ç»„ä»¶</p>
<p>é»˜è®¤å±•ç¤ºå¤©æ°”ç‚çƒ­ æˆ– å‡‰çˆ½</p>
<p>ç‚¹å‡»æ–‡å­—åˆ‡æ¢å¤©æ°”</p>
<h4 id="2-2-1-æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ"><a href="#2-2-1-æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ" class="headerlink" title="2.2.1 æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ"></a>2.2.1 æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ</h4><p>ç±»å¼ç»„ä»¶ï¼Œåœ¨æ„é€ å™¨ä¸­ åˆå§‹åŒ–çŠ¶æ€ï¼Œåœ¨renderä¸­é€šè¿‡this.state è¯»å–çŠ¶æ€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Copmpontent</span>&#123;<br>    <span class="hljs-title function_">contructor</span>(<span class="hljs-params">prop</span>)&#123;<br>        <span class="hljs-variable language_">super</span>(prop);<br>        <span class="hljs-comment">//åˆå§‹åŒ–çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>            <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//è¯»å–çŠ¶æ€</span><br>        <span class="hljs-keyword">const</span> &#123;isHot&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>        <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>    &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;&lt;Weather/&gt;&#x27;</span>,docement.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>));<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/217765896-b98139ee-c913-4141-9b3f-52c687cd07c8.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>ã€è¡¥å……ã€‘åŸç”ŸJavaScriptç»‘å®šäº‹ä»¶ç›‘å¬çš„ä¸‰ç§æ–¹å¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;button id=<span class="hljs-string">&quot;btn1&quot;</span>&gt;æŒ‰é’®<span class="hljs-number">1</span>&lt;/button&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;demo()&quot;</span>&gt;</span>æŒ‰é’®3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> btn1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn1&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  btn1.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®1è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> btn2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn2&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  btn2.<span class="hljs-property">onclick</span> = <span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®2è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®3è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>ã€è¡¥å……ã€‘ç±»ä¸­æ–¹æ³•çš„thisæŒ‡å‘é—®é¢˜</p>
<p>ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œåœ¨å†…éƒ¨é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼</p>
<p>å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå‡½æ•°å¦‚æœç›´æ¥è°ƒç”¨ï¼Œthisä¸ä¼šæŒ‡å‘windowï¼Œè€Œæ˜¯undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>  &#125;<br>  <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//studyæ–¹æ³•æ”¾åœ¨äº†å“ªé‡Œï¼Ÿâ€”â€”ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨</span><br>    <span class="hljs-comment">//é€šè¿‡Personå®ä¾‹è°ƒç”¨studyæ—¶ï¼Œstudyä¸­çš„thiså°±æ˜¯Personå®ä¾‹</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;tom&#x27;</span>,<span class="hljs-number">18</span>)<br>p1.<span class="hljs-title function_">study</span>() <span class="hljs-comment">//é€šè¿‡å®ä¾‹è°ƒç”¨studyæ–¹æ³•  Person</span><br><span class="hljs-keyword">const</span> x = p1.<span class="hljs-property">study</span><br><span class="hljs-title function_">x</span>() <span class="hljs-comment">// ç›´æ¥è°ƒç”¨ undefined</span><br></code></pre></td></tr></table></figure>
<h4 id="2-2-2-ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™"><a href="#2-2-2-ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™" class="headerlink" title="2.2.2 ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™"></a>2.2.2 ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1.åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>	<br>  <span class="hljs-comment">// æ„é€ å™¨è°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” 1æ¬¡</span><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;constructor&#x27;</span>);<br>    <span class="hljs-variable language_">super</span>(props)<br>    <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<span class="hljs-attr">isHot</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">wind</span>:<span class="hljs-string">&#x27;å¾®é£&#x27;</span>&#125;<br>    <span class="hljs-comment">// è§£å†³ changeWeather ä¸­ this æŒ‡å‘é—®é¢˜</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">changeWeather</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">changeWeather</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)<br>  &#125;<br><br>  <span class="hljs-comment">// renderè°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” 1+næ¬¡ 1æ˜¯åˆå§‹åŒ–çš„é‚£æ¬¡ næ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•°</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;render&#x27;</span>);<br>    <span class="hljs-comment">//è¯»å–çŠ¶æ€</span><br>    <span class="hljs-keyword">const</span> &#123;isHot,wind&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;ï¼Œ&#123;wind&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &#125;<br><br>  <span class="hljs-comment">// changeWeatherè°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” ç‚¹å‡ æ¬¡è°ƒå‡ æ¬¡</span><br>  <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// changeWeatheræ”¾åœ¨å“ªé‡Œï¼Ÿ â€”â€”â€”â€” Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨</span><br>    <span class="hljs-comment">// ç”±äºchangeWeatheræ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨</span><br>    <span class="hljs-comment">// ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥changeWeatherä¸­çš„thisä¸ºundefined</span><br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;changeWeather&#x27;</span>);<br>    <span class="hljs-comment">// è·å–åŸæ¥çš„isHotå€¼</span><br>    <span class="hljs-keyword">const</span> isHot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isHot</span><br>    <span class="hljs-comment">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€å¿…é¡»é€šè¿‡setStateè¿›è¡Œæ›´æ–°,ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢ã€‚</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">isHot</span>:!isHot&#125;)<br>    <span class="hljs-comment">// console.log(this);</span><br><br>    <span class="hljs-comment">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€(state)ä¸å¯ç›´æ¥æ›´æ”¹ï¼Œä¸‹é¢è¿™è¡Œå°±æ˜¯ç›´æ¥æ›´æ”¹ï¼ï¼ï¼</span><br>    <span class="hljs-comment">// this.state.isHot = !isHot //è¿™æ˜¯é”™è¯¯çš„å†™æ³•</span><br>  &#125;<br>&#125;<br><span class="hljs-comment">//2.æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Weather</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/217765963-ceed33e2-9a84-4e6e-b591-ee0873ff1c45.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h4 id="2-2-3-ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰"><a href="#2-2-3-ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰" class="headerlink" title="2.2.3 ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰"></a>2.2.3 ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰</h4><p>å¯ä»¥ä¸å†™æ„é€ å™¨ï¼Œç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥æ¥åˆå§‹åŒ–çŠ¶æ€</p>
<p>ä¸ç”¨bindæ¥ç»‘å®šthisï¼ˆèµ‹å€¼è¯­å¥çš„å½¢å¼+ç®­å¤´å‡½æ•°ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1.åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<span class="hljs-attr">isHot</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">wind</span>:<span class="hljs-string">&#x27;å¾®é£&#x27;</span>&#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> &#123;isHot,wind&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;ï¼Œ&#123;wind&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &#125;<br><br>  <span class="hljs-comment">// è‡ªå®šä¹‰æ–¹æ³•â€”â€”â€”â€”è¦ç”¨èµ‹å€¼è¯­å¥çš„å½¢å¼ + ç®­å¤´å‡½æ•°</span><br>  <span class="hljs-comment">// æ²¡æœ‰æ”¾åœ¨åŸå‹ä¸Šï¼Œè€Œæ˜¯æ”¾åœ¨å®ä¾‹ä¸Š</span><br>  changeWeather = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> isHot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isHot</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">isHot</span>:!isHot&#125;)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// 2.æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Weather</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>
<p>ã€è¡¥å……ã€‘ç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥</p>
<p>åœ¨ç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥ï¼Œç­‰äºæ˜¯ç»™ç±»çš„å®ä¾‹å¯¹è±¡æ·»åŠ å±æ€§ä¸”èµ‹å€¼</p>
<h2 id="2-3-æ³¨æ„"><a href="#2-3-æ³¨æ„" class="headerlink" title="#2.3 æ³¨æ„"></a>#2.3 æ³¨æ„</h2><p>ç»„ä»¶ä¸­renderæ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡</p>
<p>ç»„ä»¶è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­thisä¸ºundefinedï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p>
<pre><code class="hljs">a)	å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()

b)	ç®­å¤´å‡½æ•° + èµ‹å€¼è¯­å¥
</code></pre>
<p>çŠ¶æ€æ•°æ®stateï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°ã€‚çŠ¶æ€å¿…é¡»é€šè¿‡  setState() è¿›è¡Œæ›´æ–°, ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢ã€‚</p>
<h2 id="3-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2-props"><a href="#3-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2-props" class="headerlink" title="3. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2: props"></a>3. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2: props</h2><h3 id="3-1-ç†è§£"><a href="#3-1-ç†è§£" class="headerlink" title="3.1 ç†è§£"></a>3.1 ç†è§£</h3><p>æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰props(propertiesçš„ç®€å†™)å±æ€§</p>
<p>ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</p>
<h3 id="3-2-ä½œç”¨"><a href="#3-2-ä½œç”¨" class="headerlink" title="3.2 ä½œç”¨"></a>3.2 ä½œç”¨</h3><p>é€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤–å‘ç»„ä»¶å†…ä¼ é€’å˜åŒ–çš„æ•°æ®</p>
<p>æ³¨æ„: ç»„ä»¶å†…éƒ¨ä¸å¯ä¿®æ”¹propsæ•°æ®ï¼Œæ˜¯åªè¯»çš„</p>
<h3 id="3-3-å°è¯•ä¸€ä¸‹"><a href="#3-3-å°è¯•ä¸€ä¸‹" class="headerlink" title="3.3 å°è¯•ä¸€ä¸‹"></a>3.3 å°è¯•ä¸€ä¸‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶ </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//const &#123;name, sex, age&#125; = this.props </span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        &#123;/* <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>  */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;this.props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;this.props.sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;this.props.age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢ä¸Š</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;yk&quot;</span> <span class="hljs-attr">age</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">sex</span>=<span class="hljs-string">&quot;ç”·&quot;</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/217766032-9d58d0cf-c11c-44d5-8a96-8d2d1681b4c0.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h3 id="3-4-ä½¿ç”¨æŒ‡å—"><a href="#3-4-ä½¿ç”¨æŒ‡å—" class="headerlink" title="3.4 ä½¿ç”¨æŒ‡å—"></a>3.4 ä½¿ç”¨æŒ‡å—</h3><h4 id="3-4-1-å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼"><a href="#3-4-1-å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼" class="headerlink" title="3.4.1 å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼"></a>3.4.1 å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼</h4><p>this.props.name</p>
<h3 id="3-4-2-æ‰©å±•å±æ€§-å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰"><a href="#3-4-2-æ‰©å±•å±æ€§-å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰" class="headerlink" title="3.4.2 æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰"></a>3.4.2 æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;yk&quot;</span> <span class="hljs-attr">age</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">sex</span>=<span class="hljs-string">&quot;ç”·&quot;</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br><br><span class="hljs-keyword">const</span> person = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;yk&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;ç”·&#x27;</span>&#125;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> &#123; <span class="hljs-attr">...person</span> &#125;/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<p>ã€è¡¥å……ã€‘å±•å¼€è¿ç®—ç¬¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br><br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br><br><span class="hljs-comment">// 1. å±•å¼€ä¸€ä¸ªæ•°ç»„</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...arr1); <span class="hljs-comment">// 1 3 5 7 9</span><br><br><span class="hljs-comment">// 2. è¿æ¥æ•°ç»„</span><br><br><span class="hljs-keyword">let</span> arr3 = [...arr1, ...arr2] <span class="hljs-comment">// [1,3,5,7,9,2,4,6,8,10]</span><br><br><span class="hljs-comment">// 3. åœ¨å‡½æ•°ä¸­ä½¿ç”¨</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...numbers</span>) &#123;<br>    <span class="hljs-comment">//æ±‚å’Œï¼preValueå‰ä¸€ä¸ªæ•°ï¼ŒcurrentValueå½“å‰æ•°</span><br>  <span class="hljs-keyword">return</span> numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">preValue, currentValue</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> preValue + currentValue<br>  &#125;)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// 10</span><br><br><span class="hljs-comment">// 4. æ„é€ å­—é¢é‡å¯¹è±¡æ—¶ä½¿ç”¨å±•å¼€è¯­æ³•</span><br><span class="hljs-keyword">let</span> person = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tom&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>&#125;<br><br><span class="hljs-comment">// console.log(...person); // æŠ¥é”™ï¼Œå±•å¼€è¿ç®—ç¬¦ä¸èƒ½å±•å¼€å¯¹è±¡</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;...person&#125;) <span class="hljs-comment">// &#123;name: &quot;tom&quot;, age: 18&#125;</span><br><span class="hljs-comment">//babel+reactä½¿å¾—å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ï¼Œä½†ä»…ä»…å®ç”¨äºæ ‡ç­¾å±æ€§çš„ä¼ é€’ï¼Œå¦‚ä¸‹â¬‡ï¸</span><br><span class="hljs-keyword">let</span> person2 = &#123; ...person &#125; <span class="hljs-comment">// å¯ä»¥æ‹·è´ä¸€ä¸ªå¯¹è±¡</span><br>person.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;jerry&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person2); <span class="hljs-comment">// &#123;name: &quot;tom&quot;, age: 18&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person); <span class="hljs-comment">// &#123;name: &quot;jerry&quot;, age: 18&#125;</span><br><br><span class="hljs-comment">// 5. åˆå¹¶å¯¹è±¡</span><br><span class="hljs-keyword">let</span> person3 = &#123;<br>  ...person,<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;trumen&#x27;</span>,<br>  <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;ä¸Šæµ·&quot;</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person3); <span class="hljs-comment">// &#123;name: &quot;trumen&quot;, age: 18, address: &quot;ä¸Šæµ·&quot;&#125;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-4-3-å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶"><a href="#3-4-3-å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶" class="headerlink" title="3.4.3 å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶"></a>3.4.3 å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</h3><ul>
<li><ol>
<li>ç¬¬ä¸€ç§æ–¹å¼ï¼ˆReact v15.5 å¼€å§‹å·²å¼ƒç”¨ï¼‰</li>
</ol>
</li>
</ul>
<p>ç›´æ¥å†™</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">PropTypes</span>.<span class="hljs-property">number</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><ol start="2">
<li>ç¬¬äºŒç§æ–¹å¼ï¼ˆæ–°ï¼‰ï¼šä½¿ç”¨prop-typesåº“è¿›é™åˆ¶ï¼ˆéœ€è¦å¼•å…¥prop-typesåº“ï¼‰</li>
</ol>
</li>
</ul>
<!-- å¼•å…¥prop-typesï¼Œç”¨äºå¯¹ç»„ä»¶æ ‡ç­¾å±æ€§è¿›è¡Œé™åˆ¶ -->

<script type="text/javascript" src="../js/prop-types.js"></script>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">// é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>, <span class="hljs-comment">// é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>, <span class="hljs-comment">// é™åˆ¶ageä¸ºæ•°å€¼</span><br>  <span class="hljs-attr">speak</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>, <span class="hljs-comment">// é™åˆ¶speakä¸ºå‡½æ•°</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥å†™åœ¨ç±»çš„é‡Œé¢ï¼Œå‰é¢åŠ staticå…³é”®å­—</p>
<h4 id="3-4-4-é»˜è®¤å±æ€§å€¼"><a href="#3-4-4-é»˜è®¤å±æ€§å€¼" class="headerlink" title="3.4.4 é»˜è®¤å±æ€§å€¼"></a>3.4.4 é»˜è®¤å±æ€§å€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">defaultProps</span> = &#123;<br>  <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-comment">// sexé»˜è®¤å€¼ä¸ºç”·</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">//ageé»˜è®¤å€¼ä¸º18</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥å†™åœ¨ç±»çš„é‡Œé¢ï¼Œå‰é¢åŠ staticå…³é”®å­—</p>
<h4 id="3-4-5-ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°"><a href="#3-4-5-ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°" class="headerlink" title="3.4.5 ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°"></a>3.4.5 ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>  <span class="hljs-variable language_">super</span>(props)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>)<span class="hljs-comment">//æ‰“å°æ‰€æœ‰å±æ€§</span><br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>æ„é€ å™¨æ˜¯å¦æ¥æ”¶propsï¼Œæ˜¯å¦ä¼ é€’ç»™superï¼Œå–å†³äºï¼šæ˜¯å¦å¸Œæœ›åœ¨æ„é€ å™¨ä¸­é€šè¿‡thisè®¿é—®props</li>
</ul>
<h3 id="3-5-åº”ç”¨"><a href="#3-5-åº”ç”¨" class="headerlink" title="3.5 åº”ç”¨"></a>3.5 åº”ç”¨</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶</p>
<p>å§“åå¿…é¡»æŒ‡å®šï¼Œä¸”ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼›</p>
<p>æ€§åˆ«ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºç”·</p>
<p>å¹´é¾„ä¸ºæ•°å­—ç±»å‹ï¼Œé»˜è®¤å€¼ä¸º18</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">//é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>,<span class="hljs-comment">//é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>,<span class="hljs-comment">//é™åˆ¶ageä¸ºæ•°å€¼</span><br>  &#125;<br><br>  <span class="hljs-comment">//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br>  <span class="hljs-keyword">static</span> defaultProps = &#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-comment">//sexé»˜è®¤å€¼ä¸ºç”·</span><br>    <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">//ageé»˜è®¤å€¼ä¸º18</span><br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// console.log(this);</span><br>    <span class="hljs-keyword">const</span> &#123;name,age,sex&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-comment">//propsæ˜¯åªè¯»çš„</span><br>    <span class="hljs-comment">//this.props.name = &#x27;jack&#x27; //æ­¤è¡Œä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age+1&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jerry&quot;</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test1&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h3 id="3-6-å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props"><a href="#3-6-å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props" class="headerlink" title="3.6 å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props"></a>3.6 å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span> (props)&#123;<br>  <span class="hljs-keyword">const</span> &#123;name,age,sex&#125; = props<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>&#125;<br><br><span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">//é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>,  <span class="hljs-comment">//é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>,  <span class="hljs-comment">//é™åˆ¶ageä¸ºæ•°å€¼</span><br>&#125;<br><br><span class="hljs-comment">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">defaultProps</span> = &#123;<br>  <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-comment">// sexé»˜è®¤å€¼ä¸ºç”·</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">// ageé»˜è®¤å€¼ä¸º18</span><br>&#125;<br><br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jerry&quot;</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test1&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h2 id="4-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3-refsä¸äº‹ä»¶å¤„ç†"><a href="#4-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3-refsä¸äº‹ä»¶å¤„ç†" class="headerlink" title="4. ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3: refsä¸äº‹ä»¶å¤„ç†"></a>4. ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3: refsä¸äº‹ä»¶å¤„ç†</h2><h3 id="4-1-ç†è§£"><a href="#4-1-ç†è§£" class="headerlink" title="4.1 ç†è§£"></a>4.1 ç†è§£</h3><p>ç»„ä»¶å†…çš„æ ‡ç­¾å¯ä»¥å®šä¹‰refå±æ€§æ¥æ ‡è¯†è‡ªå·±</p>
<h3 id="4-2-åº”ç”¨"><a href="#4-2-åº”ç”¨" class="headerlink" title="4.2 åº”ç”¨"></a>4.2 åº”ç”¨</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹</p>
<p>ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</p>
<p>å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</p>
<h2 id="4-3-ç¼–ç "><a href="#4-3-ç¼–ç " class="headerlink" title="4.3 ç¼–ç "></a>4.3 ç¼–ç </h2><h3 id="4-3-1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ-æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº†-ï¼‰"><a href="#4-3-1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ-æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº†-ï¼‰" class="headerlink" title="4.3.1 å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ** æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº† **ï¼‰"></a>4.3.1 å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ** æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº† **ï¼‰</h3><ol>
<li><p>å®šä¹‰</p>
<input ref="input1"/>
</li>
<li><p>ä½¿ç”¨<br>this.refs.input1</p>
</li>
<li><p>ç¤ºä¾‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input1&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span><br>    <span class="hljs-title function_">alert</span>(input1.<span class="hljs-property">value</span>)<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input2&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span><br>    <span class="hljs-title function_">alert</span>(input2.<span class="hljs-property">value</span>)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;input1&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;input2&quot;</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-3-2-å›è°ƒå½¢å¼çš„ref"><a href="#4-3-2-å›è°ƒå½¢å¼çš„ref" class="headerlink" title="4.3.2 å›è°ƒå½¢å¼çš„ref"></a>4.3.2 å›è°ƒå½¢å¼çš„ref</h3><ol>
<li>å®šä¹‰</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;input ref=&#123;<span class="hljs-function">(<span class="hljs-params">currentNode</span>)=&gt;</span>&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">input1</span> = currentNode&#125;&#125; /&gt;<br></code></pre></td></tr></table></figure>

<p>ç®€å†™ä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;input ref=&#123; <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">input1</span> = c &#125; /&gt;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>ä½¿ç”¨</li>
</ol>
<p>this.input1</p>
<ol start="3">
<li>ç¤ºä¾‹</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-comment">//ä»å®ä¾‹è‡ªèº«å–</span><br>    <span class="hljs-keyword">const</span> &#123;input1&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(input1.<span class="hljs-property">value</span>)<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input2&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(input2.<span class="hljs-property">value</span>)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">c</span> =&gt;</span> this.input1 = c &#125; type=&quot;text&quot; placeholder=&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;/&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.input2 = c &#125; type=&quot;text&quot; placeholder=&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;/&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<ol start="4">
<li>å›è°ƒæ‰§è¡Œæ¬¡æ•°</li>
</ol>
<p><img src="https://user-images.githubusercontent.com/117837871/218298374-9f3931c3-ea0d-45a5-80c2-cd4b15e1a51f.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/117837871/218298384-a6b30e7b-a208-408e-b0ca-27d979d71fe6.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>å†…è”çš„å›è°ƒï¼Œæ¸²æŸ“æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡æ›´æ–°éƒ½ä¼šæ‰§è¡Œä¸¤æ¬¡</p>
<p>ç±»ç»‘å®šçš„å›è°ƒï¼Œå°±åœ¨åˆå§‹æ¸²æŸ“æ—¶è°ƒç”¨ä¸€æ¬¡</p>
<p>å½±å“ä¸å¤§ï¼Œæ—¥å¸¸å¼€å‘åŸºæœ¬éƒ½ç”¨å†…è”ï¼Œæ–¹ä¾¿ä¸€ç‚¹</p>
<h3 id="4-3-3-createRefåˆ›å»ºrefå®¹å™¨"><a href="#4-3-3-createRefåˆ›å»ºrefå®¹å™¨" class="headerlink" title="4.3.3 createRefåˆ›å»ºrefå®¹å™¨"></a>4.3.3 createRefåˆ›å»ºrefå®¹å™¨</h3><ol>
<li>å®šä¹‰</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// React.createRefè°ƒç”¨åå¯ä»¥è¿”å›ä¸€ä¸ªå®¹å™¨</span><br><span class="hljs-comment">// è¯¥å®¹å™¨å¯ä»¥å­˜å‚¨è¢«refæ‰€æ ‡è¯†çš„èŠ‚ç‚¹,è¯¥å®¹å™¨æ˜¯â€œä¸“äººä¸“ç”¨â€çš„</span><br>myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>() <br><br>&lt;input ref=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>&#125;/&gt;<br></code></pre></td></tr></table></figure>
<ol start="2">
<li>ä½¿ç”¨</li>
</ol>
<p>this.myRef.current</p>
<ol start="3">
<li>ç¤ºä¾‹</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  myRef2 = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef2</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h2 id="5-Reactä¸­çš„äº‹ä»¶å¤„ç†"><a href="#5-Reactä¸­çš„äº‹ä»¶å¤„ç†" class="headerlink" title="5. Reactä¸­çš„äº‹ä»¶å¤„ç†"></a>5. Reactä¸­çš„äº‹ä»¶å¤„ç†</h2><p>é€šè¿‡onXxxå±æ€§æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°(æ³¨æ„å¤§å°å†™)</p>
<p>Reactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰(åˆæˆ)äº‹ä»¶, è€Œä¸æ˜¯ä½¿ç”¨çš„åŸç”ŸDOMäº‹ä»¶â€”-ä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§</p>
<p>Reactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼å¤„ç†çš„(å§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ ) â€”-ä¸ºäº†çš„é«˜æ•ˆ</p>
<p>é€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡â€”-ä¸è¦è¿‡åº¦ä½¿ç”¨ref</p>
<p>å‘ç”Ÿäº‹ä»¶çš„å…ƒç´ æ˜¯éœ€è¦æ“ä½œçš„å…ƒç´ æ—¶ï¼Œå¯ä»¥é¿å…ä½¿ç”¨ref</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">//åˆ›å»ºrefå®¹å™¨</span><br>  myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  <span class="hljs-comment">// myRef2 = React.createRef()</span><br><br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>); <span class="hljs-comment">// &lt;button&gt;ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®&lt;/button&gt;</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>


<h2 id="6-æ”¶é›†è¡¨å•æ•°æ®"><a href="#6-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="6. æ”¶é›†è¡¨å•æ•°æ®"></a>6. æ”¶é›†è¡¨å•æ•°æ®</h2><h3 id="6-1-ç†è§£"><a href="#6-1-ç†è§£" class="headerlink" title="6.1 ç†è§£"></a>6.1 ç†è§£</h3><p>åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»</p>
<p>å—æ§ç»„ä»¶</p>
<p>éå—æ§ç»„ä»¶</p>
<h3 id="6-2-åº”ç”¨"><a href="#6-2-åº”ç”¨" class="headerlink" title="6.2 åº”ç”¨"></a>6.2 åº”ç”¨</h3><p>éœ€æ±‚:</p>
<p>å®šä¹‰ä¸€ä¸ªåŒ…å«è¡¨å•çš„ç»„ä»¶</p>
<p>è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»å½•æç¤ºè¾“å…¥ä¿¡æ¯</p>
<h3 id="6-3-éå—æ§ç»„ä»¶"><a href="#6-3-éå—æ§ç»„ä»¶" class="headerlink" title="6.3 éå—æ§ç»„ä»¶"></a>6.3 éå—æ§ç»„ä»¶</h3><p>é¡µé¢ä¸­æ‰€æœ‰è¾“å…¥ç±»DOMçš„å€¼ï¼Œéƒ½æ˜¯ç°ç”¨ç°å–çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    event.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">// é˜»æ­¢è¡¨å•æäº¤</span><br>    <span class="hljs-keyword">const</span> &#123;username, password&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨è¾“å…¥çš„ç”¨æˆ·åæ˜¯ <span class="hljs-subst">$&#123;username.value&#125;</span>ï¼Œæ‚¨è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password.value&#125;</span>`</span>)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot; /&gt;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h2 id="6-4-å—æ§ç»„ä»¶"><a href="#6-4-å—æ§ç»„ä»¶" class="headerlink" title="6.4 å—æ§ç»„ä»¶"></a>6.4 å—æ§ç»„ä»¶</h2><p>é¡µé¢ä¸­è¾“å…¥ç±»çš„DOMï¼Œéšç€è¾“å…¥çš„è¿‡ç¨‹ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨çŠ¶æ€stateä¸­ï¼Œéœ€è¦ç”¨çš„æ—¶å€™åœ¨ä»çŠ¶æ€stateä¸­å–ï¼ˆæœ‰ç‚¹ç±»ä¼¼Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span><br>  &#125;<br>  <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·ååˆ°çŠ¶æ€ä¸­</span><br>  saveUsername = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">username</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>  &#125;<br>  <span class="hljs-comment">// ä¿å­˜å¯†ç åˆ°çŠ¶æ€ä¸­</span><br>  savePassword = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">password</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>  &#125;<br>  <span class="hljs-comment">// è¡¨å•æäº¤çš„å›è°ƒ</span><br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    event.<span class="hljs-title function_">preventDefault</span>()<br>    <span class="hljs-keyword">const</span> &#123;username, password&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨è¾“å…¥çš„ç”¨æˆ·åæ˜¯ <span class="hljs-subst">$&#123;username&#125;</span>ï¼Œæ‚¨è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password&#125;</span>`</span>)<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveUsername&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span></span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.savePassword&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h2 id="7-é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–"><a href="#7-é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–" class="headerlink" title="7. é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–"></a>7. é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–</h2><h3 id="7-1-é«˜é˜¶å‡½æ•°"><a href="#7-1-é«˜é˜¶å‡½æ•°" class="headerlink" title="7.1 é«˜é˜¶å‡½æ•°"></a>7.1 é«˜é˜¶å‡½æ•°</h3><p>é«˜é˜¶å‡½æ•°ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ç¬¦åˆä¸‹é¢2ä¸ªè§„èŒƒä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œé‚£è¯¥å‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•°ã€‚</p>
<p>è‹¥Aå‡½æ•°ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±å¯ä»¥ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚</p>
<p>è‹¥Aå‡½æ•°ï¼Œè°ƒç”¨çš„è¿”å›å€¼ä¾ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±å¯ä»¥ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚</p>
<p>å¸¸è§çš„é«˜é˜¶å‡½æ•°æœ‰ï¼šPromiseã€setTimeoutã€arr.map()ç­‰ç­‰</p>
<h3 id="7-2-å‡½æ•°çš„æŸ¯é‡ŒåŒ–"><a href="#7-2-å‡½æ•°çš„æŸ¯é‡ŒåŒ–" class="headerlink" title="7.2 å‡½æ•°çš„æŸ¯é‡ŒåŒ–"></a>7.2 å‡½æ•°çš„æŸ¯é‡ŒåŒ–</h3><p>å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum1</span>(<span class="hljs-params">a, b, c</span>)&#123;<br>  <span class="hljs-keyword">return</span> a + b + c;<br>&#125;<br><span class="hljs-title function_">sum1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment">// æŸ¯é‡ŒåŒ–å</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">a</span>)&#123;<br>  <span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">b</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">c</span>)=&gt;</span>&#123;<br>      <span class="hljs-keyword">return</span> a+b+c<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>

<h3 id="7-3-åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6-4çš„ä»£ç "><a href="#7-3-åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6-4çš„ä»£ç " class="headerlink" title="7.3 åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6.4çš„ä»£ç "></a>7.3 åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6.4çš„ä»£ç </h3><p>å¿…é¡»ä¼ ä¸€ä¸ªå‡½æ•°ä½œä¸ºonChangeäº‹ä»¶çš„å›è°ƒ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">username</span>:<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-comment">//ç”¨æˆ·å</span><br>    <span class="hljs-attr">password</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">//å¯†ç </span><br>  &#125;<br><br>  <span class="hljs-comment">//ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­ ï¼ˆé«˜é˜¶å‡½æ•°+å‡½æ•°æŸ¯é‡ŒåŒ–ï¼‰</span><br>  saveFormData = <span class="hljs-function">(<span class="hljs-params">dataType</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;[dataType]:event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">//è¡¨å•æäº¤çš„å›è°ƒ</span><br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    event.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">//é˜»æ­¢è¡¨å•æäº¤</span><br>    <span class="hljs-keyword">const</span> &#123;username,password&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ è¾“å…¥çš„ç”¨æˆ·åæ˜¯ï¼š<span class="hljs-subst">$&#123;username&#125;</span>,ä½ è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password&#125;</span>`</span>)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveFormData(</span>&#x27;<span class="hljs-attr">username</span>&#x27;)&#125; <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span></span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveFormData(</span>&#x27;<span class="hljs-attr">password</span>&#x27;)&#125; <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h3 id="7-4-ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7-3"><a href="#7-4-ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7-3" class="headerlink" title="7.4 ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7.3"></a>7.4 ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7.3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­</span><br>saveFormData = <span class="hljs-function">(<span class="hljs-params">dataType,event</span>)=&gt;</span>&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;[dataType]:event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>&#125;<br><br><span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">return</span>(<br>	<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">	  ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">event</span> =&gt;</span> this.saveFormData(&#x27;username&#x27;,event) &#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span><br><span class="language-xml">	  å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">event</span> =&gt;</span> this.saveFormData(&#x27;password&#x27;,event) &#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span><br><span class="language-xml">	  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ-è™šæ‹ŸDOM-DOM-Diffingç®—æ³•"><a href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ-è™šæ‹ŸDOM-DOM-Diffingç®—æ³•" class="headerlink" title="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ - è™šæ‹ŸDOM - DOM Diffingç®—æ³•"></a>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ - è™šæ‹ŸDOM - DOM Diffingç®—æ³•</h1><h2 id="1-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#1-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1. ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>1. ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="1-1-ç†è§£"><a href="#1-1-ç†è§£" class="headerlink" title="1.1 ç†è§£"></a>1.1 ç†è§£</h3><p>ç»„ä»¶ä»åˆ›å»ºåˆ°æ­»äº¡å®ƒä¼šç»å†ä¸€äº›ç‰¹å®šçš„é˜¶æ®µã€‚</p>
<p>Reactç»„ä»¶ä¸­åŒ…å«ä¸€ç³»åˆ—å‹¾å­å‡½æ•°(ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°), ä¼šåœ¨ç‰¹å®šçš„æ—¶åˆ»è°ƒç”¨ã€‚</p>
<p>æˆ‘ä»¬åœ¨å®šä¹‰ç»„ä»¶æ—¶ï¼Œä¼šåœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ä¸­ï¼Œåšç‰¹å®šçš„å·¥ä½œã€‚</p>
<h3 id="1-2-å¼•å…¥æ¡ˆä¾‹"><a href="#1-2-å¼•å…¥æ¡ˆä¾‹" class="headerlink" title="1.2 å¼•å…¥æ¡ˆä¾‹"></a>1.2 å¼•å…¥æ¡ˆä¾‹</h3><p>éœ€æ±‚:å®šä¹‰ç»„ä»¶å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<p>è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º &#x2F; éšè—çš„æ¸å˜åŠ¨ç”»</p>
<p>ä»å®Œå…¨å¯è§ï¼Œåˆ°å½»åº•æ¶ˆå¤±ï¼Œè€—æ—¶2S</p>
<p>ç‚¹å‡»â€œä¸æ´»äº†â€æŒ‰é’®ä»ç•Œé¢ä¸­å¸è½½ç»„ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-comment">//ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸå‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸé’©å­</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Life</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  state = &#123;<span class="hljs-attr">opacity</span>:<span class="hljs-number">1</span>&#125;<br><br>  death = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨</span><br>    <span class="hljs-comment">// clearInterval(this.timer)</span><br>    <span class="hljs-comment">// å¸è½½ç»„ä»¶</span><br>    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">unmountComponentAtNode</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br>  &#125;<br><br>  <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½å®Œæ¯•</span><br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;componentDidMount&#x27;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//è·å–åŸçŠ¶æ€</span><br>      <span class="hljs-keyword">let</span> &#123;opacity&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>      <span class="hljs-comment">//å‡å°0.1</span><br>      opacity -= <span class="hljs-number">0.1</span><br>      <span class="hljs-keyword">if</span>(opacity &lt;= <span class="hljs-number">0</span>) opacity = <span class="hljs-number">1</span><br>      <span class="hljs-comment">//è®¾ç½®æ–°çš„é€æ˜åº¦</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;opacity&#125;)<br>    &#125;, <span class="hljs-number">200</span>);<br>  &#125;<br><br>  <span class="hljs-comment">// ç»„ä»¶å°†è¦å¸è½½</span><br>  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨</span><br>    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>)<br>  &#125;<br><br>  <span class="hljs-comment">// åˆå§‹åŒ–æ¸²æŸ“ã€çŠ¶æ€æ›´æ–°ä¹‹å è°ƒç”¨1+næ¬¡</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;render&#x27;</span>);<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;opacity:this.state.opacity&#125;&#125;</span>&gt;</span>Reactå­¦ä¸ä¼šæ€ä¹ˆåŠï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.death&#125;</span>&gt;</span>ä¸æ´»äº†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Life</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image</a></p>
<h3 id="1-3-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰"><a href="#1-3-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰" class="headerlink" title="1.3 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰"></a>1.3 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰</h3><p><img src="https://user-images.githubusercontent.com/117837871/218704757-f4bd7825-9d5d-4eb6-89fe-2c33532ac4aa.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>v16.8.4</p>
<h4 id="1-3-1-åˆå§‹åŒ–é˜¶æ®µ"><a href="#1-3-1-åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="1.3.1 åˆå§‹åŒ–é˜¶æ®µ"></a>1.3.1 åˆå§‹åŒ–é˜¶æ®µ</h4><p>ç”±**ReactDOM.render()**è§¦å‘â€”åˆæ¬¡æ¸²æŸ“</p>
<p>1.**constructor()**â€”â€” ç±»ç»„ä»¶ä¸­çš„æ„é€ å‡½æ•°</p>
<p>2.<strong>componentWillMount()</strong> â€”â€” ç»„ä»¶å°†è¦æŒ‚è½½ ã€å³å°†åºŸå¼ƒã€‘</p>
<p>3.<strong>render()</strong>  â€”â€” æŒ‚è½½ç»„ä»¶</p>
<p>4.<strong>componentDidMount()</strong> â€”â€” ç»„ä»¶æŒ‚è½½å®Œæˆ æ¯”è¾ƒå¸¸ç”¨ï¼š</p>
<p>ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼Œä¾‹å¦‚ï¼šå¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Count</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">// æ„é€ å™¨</span><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;constructor&#x27;</span>)<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---constructor&#x27;</span>);<br>	<span class="hljs-variable language_">super</span>(props)<br>	<span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>	<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<span class="hljs-attr">count</span>:<span class="hljs-number">0</span>&#125;<br>  &#125;<br>  <span class="hljs-comment">// state = &#123;count:0&#125;</span><br>  add = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">count</span>: count+<span class="hljs-number">1</span>&#125;)<br>  &#125;<br>  <br>  <span class="hljs-comment">//ç»„ä»¶å°†è¦æŒ‚è½½çš„é’©å­ã€å³å°†åºŸå¼ƒã€‘</span><br>  <span class="hljs-title function_">componentWillMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;componentWillMount&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---componentWillMount&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-comment">// æŒ‚è½½ç»„ä»¶</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;render&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---render&#x27;</span>);<br>    <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å½“å‰è®¡æ•°å€¼ï¼š&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.add&#125;</span>&gt;</span>ç‚¹æˆ‘+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br><br>  <span class="hljs-comment">//ç»„ä»¶æŒ‚è½½å®Œæ¯•çš„é’©å­</span><br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;componentDidMount&#x27;</span>)<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---componentDidMount&#x27;</span>);<br>  &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Count</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/117837871/218704847-ae672973-44d9-44c1-b65c-45a8751596e1.png" srcset="/img/loading.gif" lazyload alt="image"><br><a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7505801778224e368ee9f40edf2d2642~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7505801778224e368ee9f40edf2d2642~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image</a></p>
<h4 id="1-3-2-æ›´æ–°é˜¶æ®µ"><a href="#1-3-2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="1.3.2 æ›´æ–°é˜¶æ®µ"></a>1.3.2 æ›´æ–°é˜¶æ®µ</h4><p>ã€ç¬¬ä¸€ç§æƒ…å†µã€‘çˆ¶ç»„ä»¶é‡æ–°<strong>render</strong>è§¦å‘</p>
<p><strong>componentWillReceiveProps()</strong> â€”â€” æ¥æ”¶å±æ€§å‚æ•°ï¼ˆéé¦–æ¬¡ï¼‰ã€å³å°†åºŸå¼ƒã€‘</p>
<p>ç„¶åè°ƒç”¨ä¸‹é¢çš„é’©å­å‡½æ•°*</p>
<p>ã€ç¬¬äºŒç§æƒ…å†µã€‘ç”±ç»„ä»¶å†…éƒ¨<strong>this.setSate()</strong></p>
<p><strong>shouldComponentUpdate()</strong> â€”â€” ç»„ä»¶æ˜¯å¦åº”è¯¥è¢«æ›´æ–°ï¼ˆé»˜è®¤è¿”å›trueï¼‰</p>
<p>ç„¶åè°ƒç”¨ä¸‹é¢çš„é’©å­å‡½æ•°</p>
<p>ã€ç¬¬ä¸‰ç§æƒ…å†µã€‘å¼ºåˆ¶æ›´æ–° <strong>forceUpdate()</strong></p>
<p><strong>componentWillUpdate()</strong> â€”â€”ç»„ä»¶å°†è¦æ›´æ–° ã€å³å°†åºŸå¼ƒã€‘</p>
<p><strong>render()</strong> â€”â€” ç»„ä»¶æ›´æ–°</p>
<p><strong>componentDidUpdate()</strong> â€”â€” ç»„ä»¶å®Œæˆæ›´æ–°</p>
<h4 id="1-3-3-å¸è½½ç»„ä»¶"><a href="#1-3-3-å¸è½½ç»„ä»¶" class="headerlink" title="1.3.3 å¸è½½ç»„ä»¶"></a>1.3.3 å¸è½½ç»„ä»¶</h4><p>ç”±**ReactDOM.unmountComponentAtNode()**è§¦å‘</p>
<p><strong>componentWillUnmount()</strong> â€”â€” ç»„ä»¶å³å°†å¸è½½</p>
<h3 id="1-4-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰"><a href="#1-4-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰" class="headerlink" title="1.4 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰"></a>1.4 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰</h3><p>![image](<a target="_blank" rel="noopener" href="https://user-images.githubusercontent.com/11783">https://user-images.githubusercontent.com/11783</a>  7871&#x2F;218704912-83a52735-9acc-42e0-9cc6-83e6d752122f.png)</p>
<p>v17.0.1</p>
<h5 id="1-åˆå§‹åŒ–é˜¶æ®µ"><a href="#1-åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="1. åˆå§‹åŒ–é˜¶æ®µ"></a>1. åˆå§‹åŒ–é˜¶æ®µ</h5><p>ç”±**ReactDOM.render()**è§¦å‘ â€”â€” åˆæ¬¡æ¸²æŸ“</p>
<ul>
<li><p><strong>constructor()</strong> â€”â€” ç±»ç»„ä»¶ä¸­çš„æ„é€ å‡½æ•°</p>
</li>
<li><p><strong>static getDerivedStateFromProps(props, state)</strong> ä»propså¾—åˆ°ä¸€ä¸ªæ´¾ç”Ÿçš„çŠ¶æ€ã€æ–°å¢ã€‘</p>
</li>
<li><p><strong>render()</strong> â€”â€” æŒ‚è½½ç»„ä»¶</p>
</li>
<li><p><strong>componentDidMount()</strong> â€”â€” ç»„ä»¶æŒ‚è½½å®Œæˆ æ¯”è¾ƒ&#x3D;&#x3D;å¸¸ç”¨&#x3D;&#x3D;</p>
</li>
</ul>
<h5 id="2-æ›´æ–°é˜¶æ®µ"><a href="#2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="2. æ›´æ–°é˜¶æ®µ"></a>2. æ›´æ–°é˜¶æ®µ</h5><p>ç”±ç»„ä»¶å†…éƒ¨<strong>this.setSate()<strong>æˆ–çˆ¶ç»„ä»¶</strong>é‡æ–°render</strong>è§¦å‘æˆ–å¼ºåˆ¶æ›´æ–°<strong>forceUpdate()</strong></p>
<ul>
<li><p><strong>getDerivedStateFromProps()</strong> â€”â€” ä»propså¾—åˆ°ä¸€ä¸ªæ´¾ç”Ÿçš„çŠ¶æ€  ã€æ–°å¢ã€‘</p>
</li>
<li><p><strong>shouldComponentUpdate()</strong> â€”â€” ç»„ä»¶æ˜¯å¦åº”è¯¥è¢«æ›´æ–°ï¼ˆé»˜è®¤è¿”å›trueï¼‰</p>
</li>
<li><p><strong>render()</strong> â€”â€” æŒ‚è½½ç»„ä»¶</p>
</li>
<li><p><strong>getSnapshotBeforeUpdate()</strong> â€”â€” åœ¨æ›´æ–°ä¹‹å‰è·å–å¿«ç…§ã€æ–°å¢ã€‘</p>
</li>
<li><p><strong>componentDidUpdate(prevProps, prevState, snapshotValue)</strong> â€”â€” ç»„ä»¶å®Œæˆæ›´æ–°</p>
</li>
</ul>
<h5 id="3-å¸è½½ç»„ä»¶"><a href="#3-å¸è½½ç»„ä»¶" class="headerlink" title="3. å¸è½½ç»„ä»¶"></a>3. å¸è½½ç»„ä»¶</h5><ul>
<li><p>ç”±ReactDOM.unmountComponentAtNode()è§¦å‘</p>
</li>
<li><p><strong>componentWillUnmount()</strong> â€”â€” ç»„ä»¶å³å°†å¸è½½</p>
</li>
</ul>
<h3 id="1-5-é‡è¦çš„å‹¾å­"><a href="#1-5-é‡è¦çš„å‹¾å­" class="headerlink" title="1.5 é‡è¦çš„å‹¾å­"></a>1.5 é‡è¦çš„å‹¾å­</h3><p><strong>render</strong>ï¼šåˆå§‹åŒ–æ¸²æŸ“æˆ–æ›´æ–°æ¸²æŸ“è°ƒç”¨</p>
<p><strong>componentDidMount</strong>ï¼šå¼€å¯ç›‘å¬, å‘é€ajaxè¯·æ±‚</p>
<p><strong>componentWillUnmount</strong>ï¼šåšä¸€äº›æ”¶å°¾å·¥ä½œ, å¦‚: æ¸…ç†å®šæ—¶å™¨</p>
<h3 id="1-6-å³å°†åºŸå¼ƒçš„å‹¾å­"><a href="#1-6-å³å°†åºŸå¼ƒçš„å‹¾å­" class="headerlink" title="1.6 å³å°†åºŸå¼ƒçš„å‹¾å­"></a>1.6 å³å°†åºŸå¼ƒçš„å‹¾å­</h3><p>componentWillMount</p>
<p>componentWillReceiveProps</p>
<p>componentWillUpdate</p>
<p>ç°åœ¨ä½¿ç”¨ä¼šå‡ºç°è­¦å‘Šï¼Œä¸‹ä¸€ä¸ªå¤§ç‰ˆæœ¬éœ€è¦åŠ ä¸ŠUNSAFE_å‰ç¼€æ‰èƒ½ä½¿ç”¨ï¼Œä»¥åå¯èƒ½ä¼šè¢«å½»åº•åºŸå¼ƒï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p>
<h2 id="2-è™šæ‹ŸDOMä¸DOM-Diffingç®—æ³•"><a href="#2-è™šæ‹ŸDOMä¸DOM-Diffingç®—æ³•" class="headerlink" title="2. è™šæ‹ŸDOMä¸DOM Diffingç®—æ³•"></a>2. è™šæ‹ŸDOMä¸DOM Diffingç®—æ³•</h2><h3 id="2-1-åŸºæœ¬åŸç†å›¾"><a href="#2-1-åŸºæœ¬åŸç†å›¾" class="headerlink" title="2.1 åŸºæœ¬åŸç†å›¾"></a>2.1 åŸºæœ¬åŸç†å›¾</h3><p><img src="https://user-images.githubusercontent.com/117837871/218704968-244b5f61-9cad-4458-8fcf-fa62ba1e00ab.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>è¯¦ç»†çš„åŸç†å¯ä»¥çœ‹ä¹‹å‰åœ¨å­¦Vueæºç æ—¶çš„å…³äºdiffçš„ç¬”è®°ã€Vueæºç ã€‘å›¾è§£ diffç®—æ³• ä¸ è™šæ‹ŸDOM-snabbdom-æœ€å°é‡æ›´æ–°åŸç†è§£æ-æ‰‹å†™æºç -</p>
<h3 id="2-2-å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜"><a href="#2-2-å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜" class="headerlink" title="2.2 å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜"></a>2.2 å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜</h3><p>react&#x2F;vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼‰</p>
<p>ä¸ºä»€ä¹ˆéå†åˆ—è¡¨æ—¶ï¼Œkeyæœ€å¥½ä¸è¦ç”¨index?</p>
<h4 id="2-2-1-è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨"><a href="#2-2-1-è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨" class="headerlink" title="2.2.1 è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨"></a>2.2.1 è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨</h4><p>ç®€å•çš„è¯´: keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†, åœ¨æ›´æ–°æ˜¾ç¤ºæ—¶keyèµ·ç€æå…¶é‡è¦çš„ä½œç”¨ã€‚</p>
<p>è¯¦ç»†çš„è¯´: å½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œreactä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, éšåReactè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„diffæ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</p>
<p>æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š</p>
<p>è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOM</p>
<p>è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOM</p>
<p>æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</p>
<p>æ ¹æ®æ•°æ®åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢</p>
<h4 id="2-2-2-ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜"><a href="#2-2-2-ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜" class="headerlink" title="2.2.2 ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜"></a>2.2.2 ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜</h4><p>è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ: ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½</p>
<p>å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼šä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æœ‰é—®é¢˜</p>
<p>æ³¨æ„ï¼å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„</p>
<p>2.2.3 å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?</p>
<p>æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼</p>
<p>å¦‚æœç¡®å®šåªæ˜¯ç®€å•çš„å±•ç¤ºæ•°æ®ï¼Œç”¨indexä¹Ÿæ˜¯å¯ä»¥çš„</p>
<h1 id="ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h1><h2 id="1-1-reactè„šæ‰‹æ¶"><a href="#1-1-reactè„šæ‰‹æ¶" class="headerlink" title="1.1. reactè„šæ‰‹æ¶"></a>1.1. reactè„šæ‰‹æ¶</h2><p>1.xxxè„šæ‰‹æ¶: ç”¨æ¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸºäºxxxåº“çš„æ¨¡æ¿é¡¹ç›®</p>
<ul>
<li><p>åŒ…å«äº†æ‰€æœ‰éœ€è¦çš„é…ç½®ï¼ˆè¯­æ³•æ£€æŸ¥ã€jsxç¼–è¯‘ã€devServerâ€¦ï¼‰</p>
</li>
<li><p>ä¸‹è½½å¥½äº†æ‰€æœ‰ç›¸å…³çš„ä¾èµ–</p>
</li>
<li><p>å¯ä»¥ç›´æ¥è¿è¡Œä¸€ä¸ªç®€å•æ•ˆæœ</p>
</li>
</ul>
<p>2.reactæä¾›äº†ä¸€ä¸ªç”¨äºåˆ›å»ºreacté¡¹ç›®çš„è„šæ‰‹æ¶åº“: create-react-app</p>
<p>3.é¡¹ç›®çš„æ•´ä½“æŠ€æœ¯æ¶æ„ä¸º:  react + webpack + es6 + eslint</p>
<p>4.ä½¿ç”¨è„šæ‰‹æ¶å¼€å‘çš„é¡¹ç›®çš„ç‰¹ç‚¹: æ¨¡å—åŒ–, ç»„ä»¶åŒ–, å·¥ç¨‹åŒ–</p>
<h2 id="1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"><a href="#1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨" class="headerlink" title="1.2. åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"></a>1.2. åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨</h2><p>å…¨å±€å®‰è£…ï¼š<strong>npm install -g create-react-app</strong></p>
<p>åˆ‡æ¢åˆ°æƒ³åˆ›é¡¹ç›®çš„ç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<strong>create-react-app hello-react</strong></p>
<p>è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼š<strong>cd hello-react</strong></p>
<p>å¯åŠ¨é¡¹ç›®ï¼š<strong>npm start</strong></p>
<p><img src="https://user-images.githubusercontent.com/117837871/220043507-be6a541b-0555-45ef-9f6b-3b4d3d7f2933.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/117837871/220043555-34074e8d-6f6e-4465-b3f4-3b66839e455d.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h2 id="1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="1.3. reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>1.3. reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h2><p>public â€”- é™æ€èµ„æºæ–‡ä»¶å¤¹</p>
<pre><code class="hljs">favicon.icon ------ ç½‘ç«™é¡µç­¾å›¾æ ‡

index.html -------- ä¸»é¡µé¢

logo192.png ------- logoå›¾

logo512.png ------- logoå›¾

manifest.json ----- åº”ç”¨åŠ å£³çš„é…ç½®æ–‡ä»¶

robots.txt -------- çˆ¬è™«åè®®æ–‡ä»¶
</code></pre>
<p>src â€”- æºç æ–‡ä»¶å¤¹</p>
<pre><code class="hljs">App.css -------- Appç»„ä»¶çš„æ ·å¼

App.js --------- Appç»„ä»¶

App.test.js ---- ç”¨äºç»™Appåšæµ‹è¯•
</code></pre>
<p>  index.css â€”â€” æ ·å¼</p>
<p>  index.js â€”â€”- å…¥å£æ–‡ä»¶</p>
<p>  logo.svg â€”â€”- logoå›¾</p>
<p>  reportWebVitals.js â€” é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶(éœ€è¦web-vitalsåº“çš„æ”¯æŒ)</p>
<p>  setupTests.js â€”- ç»„ä»¶å•å…ƒæµ‹è¯•çš„æ–‡ä»¶(éœ€è¦jest-domåº“çš„æ”¯æŒ)</p>
<p><strong>&gt;&gt;index.html</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- %PUBLIC_URL%ä»£è¡¨publicæ–‡ä»¶å¤¹çš„è·¯å¾„ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼€å¯ç†æƒ³è§†å£ï¼Œç”¨äºåšç§»åŠ¨ç«¯ç½‘é¡µçš„é€‚é… --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- ç”¨äºé…ç½®æµè§ˆå™¨é¡µç­¾+åœ°å€æ çš„é¢œè‰²(ä»…æ”¯æŒå®‰å“æ‰‹æœºæµè§ˆå™¨) --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;theme-color&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;red&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;Web site created using create-react-app&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- ç”¨äºæŒ‡å®šç½‘é¡µæ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•åçš„å›¾æ ‡ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;apple-touch-icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/logo192.png&quot;</span> /&gt;</span></span><br><span class="language-xml">  </span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    manifest.json provides metadata used when your web app is installed on a</span></span><br><span class="hljs-comment"><span class="language-xml">    user&#x27;s mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- åº”ç”¨åŠ å£³æ—¶çš„é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;manifest&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/manifest.json&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    Notice the use of %PUBLIC_URL% in the tags above.</span></span><br><span class="hljs-comment"><span class="language-xml">    It will be replaced with the URL of the `public` folder during the build.</span></span><br><span class="hljs-comment"><span class="language-xml">    Only files inside the `public` folder can be referenced from the HTML.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    Unlike &quot;/favicon.ico&quot; or &quot;favicon.ico&quot;, &quot;%PUBLIC_URL%/favicon.ico&quot; will</span></span><br><span class="hljs-comment"><span class="language-xml">    work correctly both with client-side routing and a non-root public URL.</span></span><br><span class="hljs-comment"><span class="language-xml">    Learn how to configure a non-root public URL by running `npm run build`.</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- è‹¥æµè§ˆå™¨ä¸æ”¯æŒjsåˆ™å±•ç¤ºæ ‡ç­¾ä¸­çš„å†…å®¹ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    This HTML file is a template.</span></span><br><span class="hljs-comment"><span class="language-xml">    If you open it directly in the browser, you will see an empty page.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    You can add webfonts, meta tags, or analytics to this file.</span></span><br><span class="hljs-comment"><span class="language-xml">    The build step will place the bundled scripts into the &lt;body&gt; tag.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    To begin the development, run `npm start` or `yarn start`.</span></span><br><span class="hljs-comment"><span class="language-xml">    To create a production bundle, use `npm run build` or `yarn build`.</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>;<br><span class="hljs-keyword">import</span> reportWebVitals <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reportWebVitals&#x27;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)<br>);<br><br><span class="hljs-comment">// If you want to start measuring performance in your app, pass a function</span><br><span class="hljs-comment">// to log results (for example: reportWebVitals(console.log))</span><br><span class="hljs-comment">// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals</span><br><span class="hljs-title function_">reportWebVitals</span>();<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> logo <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./logo.svg&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.css&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;logo&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-logo&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;logo&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">          Edit <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>src/App.js<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> and save to reload.</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">a</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-link&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://reactjs.org&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noopener noreferrer&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        &gt;</span></span><br><span class="language-xml">          Learn React</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure>

<h2 id="1-4-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰"><a href="#1-4-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰" class="headerlink" title="1.4. åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰"></a>1.4. åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰</h2><p>1.æ‹†åˆ†ç»„ä»¶: æ‹†åˆ†ç•Œé¢,æŠ½å–ç»„ä»¶</p>
<p>2.å®ç°é™æ€ç»„ä»¶: ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ</p>
<p>3.å®ç°åŠ¨æ€ç»„ä»¶</p>
<ul>
<li><p>åŠ¨æ€æ˜¾ç¤ºåˆå§‹åŒ–æ•°æ®</p>
<ul>
<li><p>æ•°æ®ç±»å‹</p>
</li>
<li><p>æ•°æ®åç§°</p>
</li>
<li><p>ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶</p>
</li>
</ul>
</li>
<li><p>äº¤äº’(ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹)</p>
</li>
</ul>
<h1 id="2-è„šæ‰‹æ¶ç‰ˆ-Hello-React"><a href="#2-è„šæ‰‹æ¶ç‰ˆ-Hello-React" class="headerlink" title="2. è„šæ‰‹æ¶ç‰ˆ Hello React"></a>2. è„šæ‰‹æ¶ç‰ˆ Hello React</h1><h2 id="2-1-æ³¨æ„äº‹é¡¹"><a href="#2-1-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.1 æ³¨æ„äº‹é¡¹"></a>2.1 æ³¨æ„äº‹é¡¹</h2><p>  1.ä¸ºäº†åŒºåˆ†ç»„ä»¶å’Œæ™®é€šjsæ–‡ä»¶ï¼Œå¯ä»¥æŠŠå®šä¹‰ç»„ä»¶çš„jsæ–‡ä»¶åç¼€æ”¹æˆjsx</p>
<p>  2.ä¸€ä¸ªç»„ä»¶ä¸€ä¸ªæ–‡ä»¶å¤¹</p>
<p>  3.å¼•å…¥jsæ–‡ä»¶æˆ–è€…jsxæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä¸å†™åç¼€å</p>
<p>  4.ç»„ä»¶æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å¯ä»¥éƒ½å‘½åä¸ºindexï¼Œä¾‹å¦‚ index.jsx&#x2F;index.cssï¼Œå¼•å…¥çš„æ—¶å€™å¯ä»¥ç›´æ¥å¼•åˆ°ç›®å½•åå°±è¡Œäº†</p>
<h2 id="2-2-æ–‡ä»¶ç›®å½•"><a href="#2-2-æ–‡ä»¶ç›®å½•" class="headerlink" title="2.2 æ–‡ä»¶ç›®å½•"></a>2.2 æ–‡ä»¶ç›®å½•</h2><p><img src="https://user-images.githubusercontent.com/117837871/220043678-0443345f-4ad2-4437-a593-ef3bd9cba086.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h2 id="2-3-ä»£ç "><a href="#2-3-ä»£ç " class="headerlink" title="2.3 ä»£ç "></a>2.3 ä»£ç </h2><p><strong>&gt;&gt;index.html</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>)<br>);<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Hello/Hello&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Welcome</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Welcome/Welcome&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Hello</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Welcome</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Welcome</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Hello.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./Hello.css&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>Hello React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Hello.css</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.<span class="hljs-property">title</span> &#123;<br>  background-<span class="hljs-attr">color</span>: pink;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Welcome.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./Welcome.css&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Welcome</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Welcome.css</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.<span class="hljs-property">demo</span> &#123;<br>  background-<span class="hljs-attr">color</span>: skyblue;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="2-4-é¡µé¢"><a href="#2-4-é¡µé¢" class="headerlink" title="2.4 é¡µé¢"></a>2.4 é¡µé¢</h2><p><img src="https://user-images.githubusercontent.com/117837871/220043748-e4348946-70a0-4c1b-b839-a110a2ef6382.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h1 id="3-VSCodeç”Ÿæˆä»£ç æ¨¡æ¿"><a href="#3-VSCodeç”Ÿæˆä»£ç æ¨¡æ¿" class="headerlink" title="3. VSCodeç”Ÿæˆä»£ç æ¨¡æ¿"></a>3. VSCodeç”Ÿæˆä»£ç æ¨¡æ¿</h1><p><img src="https://user-images.githubusercontent.com/117837871/220043789-c8f7da4b-7405-4279-b1fd-f644c920d5dc.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>rcc+å›è½¦ ï¼ˆreact class componentï¼‰</p>
<p><img src="https://user-images.githubusercontent.com/117837871/220043844-498fe04c-4675-4891-81b3-fcee7c9c1a97.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>rfcï¼ˆreact function componentï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="https://user-images.githubusercontent.com/117837871/220043913-c6f6f826-a2e6-46d8-b6d6-befc49fc5948.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h1 id="4-æ ·å¼çš„æ¨¡å—åŒ–"><a href="#4-æ ·å¼çš„æ¨¡å—åŒ–" class="headerlink" title="4. æ ·å¼çš„æ¨¡å—åŒ–"></a>4. æ ·å¼çš„æ¨¡å—åŒ–</h1><p>æ–‡ä»¶åä¿å­˜ä¸º <strong>index.module.css</strong></p>
<p>å¼•å…¥æ–‡ä»¶ <strong>import hello from â€˜.&#x2F;index.module.cssâ€™</strong></p>
<p>ä½¿ç”¨æ ·å¼ <strong><h2 className={hello.title}> Hello </h2></strong></p>
<h1 id="TodoList"><a href="#TodoList" class="headerlink" title="TodoList"></a>TodoList</h1><h2 id="1-ç›®æ ‡åŠŸèƒ½ç•Œé¢"><a href="#1-ç›®æ ‡åŠŸèƒ½ç•Œé¢" class="headerlink" title="1. ç›®æ ‡åŠŸèƒ½ç•Œé¢"></a>1. ç›®æ ‡åŠŸèƒ½ç•Œé¢</h2><p><img src="https://user-images.githubusercontent.com/117837871/220586710-8cda4354-1d15-44b3-8d2e-1196c43a9679.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h2 id="2-ç•Œé¢æ¨¡å—æ‹†åˆ†"><a href="#2-ç•Œé¢æ¨¡å—æ‹†åˆ†" class="headerlink" title="2. ç•Œé¢æ¨¡å—æ‹†åˆ†"></a>2. ç•Œé¢æ¨¡å—æ‹†åˆ†</h2><p><img src="https://user-images.githubusercontent.com/117837871/220586632-ce9102cb-724b-472c-b580-74e5c67dd91b.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/117837871/220586897-9993ceae-c17b-4db0-b1fb-f51317040f25.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<h2 id="3-ä¸»é¡µ"><a href="#3-ä¸»é¡µ" class="headerlink" title="3. ä¸»é¡µ"></a>3. ä¸»é¡µ</h2><p><strong>&gt;&gt;index.html</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="4-é™æ€é¡µé¢æ­å»º"><a href="#4-é™æ€é¡µé¢æ­å»º" class="headerlink" title="4. é™æ€é¡µé¢æ­å»º"></a>4. é™æ€é¡µé¢æ­å»º</h2><p><strong>&gt;&gt;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;App.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Header&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/List&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Footer&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*base*/</span><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.2</span>), <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">2px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>);<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#da4f49</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>&#125;<br><br><span class="hljs-comment">/*app*/</span><br><span class="hljs-selector-class">.todo-container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>&#125;<br><span class="hljs-selector-class">.todo-container</span> <span class="hljs-selector-class">.todo-wrap</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Header&#x2F;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Header&#x2F;index.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*header*/</span><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">560px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">28px</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">7px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.8</span>);<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.075</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.6</span>);<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../Item&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;List&#x2F;index.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*main*/</span><br><span class="hljs-selector-class">.todo-main</span> &#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-empty</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>xxxxx<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Item&#x2F;index.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*item*/</span><br><span class="hljs-selector-tag">li</span> &#123;<br>  <span class="hljs-attribute">list-style</span>: none;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">3px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>  <span class="hljs-attribute">content</span>: initial;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:last-child</span> &#123;<br>  <span class="hljs-attribute">border-bottom</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Footer&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-footer&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å·²å®Œæˆ0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> / å…¨éƒ¨2</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span>&gt;</span>æ¸…é™¤å·²å®Œæˆä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Footer&#x2F;index.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*footer*/</span><br><span class="hljs-selector-class">.todo-footer</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>


<h2 id="5-åŠ¨æ€ç»„ä»¶"><a href="#5-åŠ¨æ€ç»„ä»¶" class="headerlink" title="5. åŠ¨æ€ç»„ä»¶"></a>5. åŠ¨æ€ç»„ä»¶</h2><h3 id="5-1-åŠ¨æ€åˆå§‹åŒ–é¡µé¢"><a href="#5-1-åŠ¨æ€åˆå§‹åŒ–é¡µé¢" class="headerlink" title="5.1 åŠ¨æ€åˆå§‹åŒ–é¡µé¢"></a>5.1 åŠ¨æ€åˆå§‹åŒ–é¡µé¢</h3><p>çŠ¶æ€é©±åŠ¨ç»„ä»¶</p>
<p>è€ƒè™‘ä¸¤ä¸ªé—®é¢˜  è¦å°†çŠ¶æ€æ”¾åœ¨å“ªï¼Ÿ çŠ¶æ€çš„å­˜å‚¨å½¢å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å¯ä»¥å°†çŠ¶æ€æ”¾åœ¨éœ€è¦ä½¿ç”¨çŠ¶æ€çš„ çˆ¶ç»„ä»¶ Appä¸­ï¼Œè¿™æ ·Headerå’ŒListéƒ½å¯ä»¥é€šè¿‡propsæ‹¿åˆ°çŠ¶æ€æ•°æ®</p>
<p>çŠ¶æ€çš„å­˜å‚¨å½¢å¼é‡‡ç”¨å¯¹è±¡æ•°ç»„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>state = &#123;<br>  <span class="hljs-attr">todos</span>: [<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;001&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;åƒé¥­&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;002&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ç¡è§‰&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;003&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ•²ä»£ç &#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;,<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åœ¨App.jsxç»„ä»¶ä¸­å®šä¹‰çŠ¶æ€stateï¼Œé€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’ç»™å­ç»„ä»¶Listçš„propsä¸­</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">todos</span>: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;001&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;åƒé¥­&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;002&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ç¡è§‰&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;003&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ•²ä»£ç &#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;,<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p>
<p>å­ç»„ä»¶é€šè¿‡this.propså¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„çŠ¶æ€</p>
<p>é€šè¿‡å¾ªç¯éå†todoså¾—åˆ°ä¸€ä¸ªä¸ªtodoï¼Œå°†ä»–ä»¬ä¼ é€’ç»™Itemå­ç»„ä»¶</p>
<p>é€šè¿‡æ ‡ç­¾å±æ€§çš„å½¢å¼ï¼Œçˆ¶ç»„ä»¶Listä¼ é€’çŠ¶æ€åˆ°å­ç»„ä»¶Itemä¸­</p>
<p>æŒ‡å®škey å†å±•å¼€todoä¼ é€’ç»™å­ç»„ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125;/&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p>
<p>å­ç»„ä»¶é€šè¿‡this.propså¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ¯ä¸ªtodoçš„çŠ¶æ€</p>
<p>åŠ¨æ€æ¸²æŸ“propsä¸­è·å–çš„çŠ¶æ€ name å’Œ done</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h3 id="5-2-åŠ¨æ€æ·»åŠ todo"><a href="#5-2-åŠ¨æ€æ·»åŠ todo" class="headerlink" title="5.2 åŠ¨æ€æ·»åŠ todo"></a>5.2 åŠ¨æ€æ·»åŠ todo</h3><p>å­ç»„ä»¶è¦å‘çˆ¶ç»„ä»¶ ä¼ é€’ å¾—åˆ°çš„è¾“å…¥å€¼</p>
<p>å¯ä»¥é€šè¿‡è°ƒç”¨å‡½æ•°ï¼Œ ä¼ é€’å‚æ•°çš„å½¢å¼ æ¥ä¼ é€’çŠ¶æ€</p>
<p>App.jsx</p>
<p>çŠ¶æ€åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œä¿®æ”¹çŠ¶æ€çš„æ“ä½œå°±å®šä¹‰åœ¨çˆ¶ç»„ä»¶ä¸­</p>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªaddTodoå‡½æ•°ï¼Œç„¶åé€šè¿‡æ ‡ç­¾ä¼ é€’ç»™å­ç»„ä»¶</p>
<p>addTodoå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¦æ¥å—çš„å­ç»„ä»¶çš„æ•°æ®</p>
<p>é€šè¿‡è¿™ä¸ªå‚æ•°ï¼Œå°†å­ç»„ä»¶çš„æ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºæ·»åŠ ä¸€ä¸ªtodoï¼Œæ¥å—çš„å‚æ•°æ˜¯todoå¯¹è±¡</span><br>  addTodo = <span class="hljs-function">(<span class="hljs-params">todoObj</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–åŸtodos</span><br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-comment">// è¿½åŠ ä¸€ä¸ªtodo</span><br>    <span class="hljs-keyword">const</span> newTodos = [todoObj, ...todos]<br>    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123; <span class="hljs-attr">todos</span>: newTodos &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Header&#x2F;index.js</strong></p>
<p>ç”Ÿæˆå”¯ä¸€idçš„åº“</p>
<p>uuid</p>
<p>nanoid</p>
<p>npm install nanoid</p>
<p>çˆ¶ç»„ä»¶é€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’äº†ä¸€ä¸ªå‡½æ•°ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å¯ä»¥é€šè¿‡this.propsæ¥è°ƒç”¨å‡½æ•°</p>
<p>å‡½æ•°çš„å‚æ•°ï¼Œå°±æ˜¯å­ç»„ä»¶è¦ä¼ é€’ç»™çˆ¶ç»„ä»¶çš„æ•°æ®</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  handleKeyUp = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;keyCode, target&#125; = event<br>    <span class="hljs-keyword">if</span> (keyCode !== <span class="hljs-number">13</span>) <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">if</span> (target.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">&#x27;&#x27;</span>) &#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;è¾“å…¥ä¸èƒ½ä¸ºç©º&#x27;</span>)<br>      <span class="hljs-keyword">return</span><br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">addTodo</span>(&#123;<br>      <span class="hljs-attr">id</span>: <span class="hljs-title function_">nanoid</span>(),<br>      <span class="hljs-attr">name</span>: target.<span class="hljs-property">value</span>,<br>      <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span><br>    &#125;)<br>    target.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onKeyUp</span>=<span class="hljs-string">&#123;this.handleKeyUp&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h2 id="5-3-é¼ æ ‡æ‚¬æµ®é«˜äº®"><a href="#5-3-é¼ æ ‡æ‚¬æµ®é«˜äº®" class="headerlink" title="5.3 é¼ æ ‡æ‚¬æµ®é«˜äº®"></a>5.3 é¼ æ ‡æ‚¬æµ®é«˜äº®</h2><p>å®šä¹‰ä¸€ä¸ªmouseçŠ¶æ€ï¼Œç”¨æ¥ æ ‡è¯†é¼ æ ‡ç§»å…¥ç§»å‡º</p>
<p>é€šè¿‡mouseçŠ¶æ€çš„æ”¹å˜ï¼Œæ¥æ”¹å˜styleæ ·å¼ï¼ˆèƒŒæ™¯é¢œè‰²+åˆ é™¤æŒ‰é’®æ˜¾ç¤ºä¸éšè—ï¼‰</p>
<p><strong>&gt;&gt;Item&#x2F;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// æ ‡è¯†é¼ æ ‡ç§»å…¥ç§»å‡º</span><br>  state = &#123;<br>    <span class="hljs-attr">mouse</span>: <span class="hljs-literal">false</span><br>  &#125;<br>  <span class="hljs-comment">// é¼ æ ‡ç§»å…¥ç§»å‡ºçš„å›è°ƒ</span><br>  handleMouse = <span class="hljs-function">(<span class="hljs-params">flag</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">mouse</span>: flag&#125;)<br>    &#125;<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span> <span class="hljs-attr">mouse</span>?&#x27;<span class="hljs-attr">block</span>&#x27;<span class="hljs-attr">:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h2 id="5-4-å‹¾é€‰-æ”¹å˜-çŠ¶æ€"><a href="#5-4-å‹¾é€‰-æ”¹å˜-çŠ¶æ€" class="headerlink" title="5.4 å‹¾é€‰ æ”¹å˜ çŠ¶æ€"></a>5.4 å‹¾é€‰ æ”¹å˜ çŠ¶æ€</h2><p>å‹¾é€‰å‰é¢çš„é€‰ä¸­æ¡†ï¼Œè¦æ”¹å˜åˆ°stateä¸­çš„æ•°æ®</p>
<p>æ ¹æ®é€‰ä¸­çš„æ¡†æ‰€å±çš„todoçš„idæ‰¾åˆ°æ•°æ®ï¼Œæ ¹æ®æ›´æ”¹ådoneçš„å€¼æ›´æ–°ç›¸åº”çš„doneçš„å€¼</p>
<p><strong>&gt;&gt;App.jsx</strong></p>
<p>åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªæ›´æ–°todoçš„å‡½æ•°ï¼Œç„¶åä¼ é€’ç»™å­ç»„ä»¶</p>
<p>æ ¹æ®æ‹¿åˆ°çš„idå’Œdoneçš„å€¼ï¼Œæ¥æ›´æ–°çŠ¶æ€stateä¸­ç›¸åº”idæ•°æ®çš„å€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºæ›´æ–°ä¸€ä¸ªtodo</span><br>  updateTodo = <span class="hljs-function">(<span class="hljs-params">id, done</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (todo.<span class="hljs-property">id</span> === id) &#123;<br>        <span class="hljs-keyword">return</span> &#123;...todo, <span class="hljs-attr">done</span>: done&#125;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> todo<br>      &#125;<br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p>
<p>ä¸­è½¬ ä»çˆ¶ç»„ä»¶Appä¸­ä¼ è¿‡æ¥çš„å‡½æ•°ï¼Œç»§ç»­ä¼ ç»™å®ƒçš„å­ç»„ä»¶Itemï¼Œå®Œæˆç¥–å­™ç»„ä»¶ä¸­çš„é€šä¿¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos, updateTodo&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125; <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;updateTodo&#125;/</span>&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p>
<p>é€šè¿‡Listä¸­è½¬ç»ˆäºæ‹¿åˆ°ç¥–å…ˆç»„ä»¶Appä¸­çš„å‡½æ•°updateTodo</p>
<p>ç»„ä»¶ä¸­å®šä¹‰onChangeäº‹ä»¶çš„å›è°ƒå‡½æ•°handleCheck ï¼Œã€é«˜é˜¶å‡½æ•°+æŸ¯é‡ŒåŒ–ã€‘</p>
<p>åœ¨å›è°ƒå‡½æ•°ä¸­è¿”å›ä¼ é€’è¿‡æ¥çš„å‡½æ•°å¹¶ä¼ å…¥å‚æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å‹¾é€‰ã€å–æ¶ˆå‹¾é€‰todoçš„å›è°ƒ</span><br>  handleCheck = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateTodo</span>(id, event.<span class="hljs-property">target</span>.<span class="hljs-property">checked</span>)<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; id, name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">this.handleCheck</span>(<span class="hljs-attr">id</span>) &#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:mouse?</span>&#x27;<span class="hljs-attr">block</span>&#x27;<span class="hljs-attr">:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="5-5-å¯¹propsè¿›è¡Œé™åˆ¶"><a href="#5-5-å¯¹propsè¿›è¡Œé™åˆ¶" class="headerlink" title="5.5 å¯¹propsè¿›è¡Œé™åˆ¶"></a>5.5 å¯¹propsè¿›è¡Œé™åˆ¶</h2><p>ç±»å‹åŠå¿…è¦æ€§è®¾ç½®</p>
<p>è‡ªè¡Œå®‰è£… prop-types åº“ npm i prop-types</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">addTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>      <span class="hljs-attr">todos</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">array</span>.<span class="hljs-property">isRequired</span>,<br>      <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="5-5-åˆ é™¤ä¸€ä¸ªtodo"><a href="#5-5-åˆ é™¤ä¸€ä¸ªtodo" class="headerlink" title="5.5 åˆ é™¤ä¸€ä¸ªtodo"></a>5.5 åˆ é™¤ä¸€ä¸ªtodo</h2><p>é€‰ä¸­ä¸€ä¸ªtodoï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œåˆ é™¤è¿™ä¸ªtodo</p>
<p><strong>&gt;&gt;App.jsx</strong></p>
<p>å› ä¸ºçŠ¶æ€æ•°æ®åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œæ‰€ä»¥åˆ é™¤todoçš„å‡½æ•°å°±å®šä¹‰åœ¨Appä¸­</p>
<p>ç„¶åå°†å‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºåˆ é™¤ä¸€ä¸ªtodo</span><br>  deleteTodo = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> todo.<span class="hljs-property">id</span> !== id<br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>:newTodos&#125;)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;this.deleteTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p>
<p>ä¸­è½¬æ‹¿åˆ°å’Œå‡½æ•°ç»§ç»­ä¼ é€’</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">todos</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">array</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">deleteTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos, updateTodo, deleteTodo&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125; <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">deleteTodo</span> &#125;/&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p><strong>&gt;&gt;Item&#x2F;index.jsx</strong><br>å¾—åˆ°ä¼ é€’åˆ°çš„å‡½æ•°ï¼Œå°†idä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶</p>
<p>å®šä¹‰ç»‘å®šç‚¹å‡»äº‹ä»¶ è¿™æ¬¡æ²¡ç”¨é«˜é˜¶å‡½æ•°ï¼Œæ¢äº†ä¸€ç§å†™æ³•ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">deleteTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>  <span class="hljs-comment">// åˆ é™¤ä¸€ä¸ªtodoçš„å›è°ƒ</span><br>  handleDelete = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">confirm</span>(<span class="hljs-string">`ç¡®å®šåˆ é™¤å˜›ï¼Ÿ`</span>)) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">deleteTodo</span>(id)<br>    &#125;<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; id, name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">this.handleCheck</span>(<span class="hljs-attr">id</span>) &#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;</span> () =&gt;</span> this.handleDelete(id) &#125; className=&quot;btn btn-danger&quot; style=&#123;&#123;display:mouse?&#x27;block&#x27;:&#x27;none&#x27;&#125;&#125;&gt;åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<p>##5.6 åº•éƒ¨Footer</p>
<p><strong>&gt;&gt;App.jsx</strong></p>
<p>åœ¨Appä¸­å°†todosä¼ ç»™Footer</p>
<p>åœ¨Appä¸­å®šä¹‰å…¨é€‰å’Œå…¨ä¸é€‰çš„todosæ¥æ›´æ–°çŠ¶æ€</p>
<p>åœ¨Appä¸­å®šä¹‰æ¸…é™¤æ‰€æœ‰å·²å®Œæˆçš„todo</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºå…¨é€‰</span><br>  checkAll = <span class="hljs-function">(<span class="hljs-params">done</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–åŸæ¥çš„todos</span><br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-comment">// è¿‡æ»¤æ•°æ®</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> &#123;...todo, <span class="hljs-attr">done</span>: done&#125;<br>    &#125;)<br>    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <span class="hljs-comment">// æ¸…é™¤æ‰€æœ‰å·²ç»å®Œæˆçš„</span><br>  clearAllDone = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> !todo.<span class="hljs-property">done</span><br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;this.deleteTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">checkAll</span>=<span class="hljs-string">&#123;this.checkAll&#125;</span> <span class="hljs-attr">clearAllDone</span>=<span class="hljs-string">&#123;this.clearAllDone&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Footer&#x2F;index.jsx</strong><br>æ‹¿åˆ°todos</p>
<p>ç”¨æ¥è®¡ç®—ä¸¤ä¸ªæ•°æ®doneCountå’Œtotalï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸­</p>
<p>å®šä¹‰ä¸¤ä¸ªå›è°ƒå‡½æ•°handleCheckAllå’ŒhandleClearAllDone</p>
<p>å†ä»çˆ¶ç»„ä»¶æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ç„¶åè°ƒç”¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å…¨é€‰</span><br>  handleCheckAll = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">checkAll</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">checked</span>)<br>  &#125;<br>  <span class="hljs-comment">// æ¸…é™¤æ‰€æœ‰å·²å®Œæˆçš„å›è°ƒ</span><br>  handleClearAllDone = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">clearAllDone</span>()<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-comment">// è®¡ç®—å·²å®Œæˆ</span><br>    <span class="hljs-keyword">const</span> doneCount = todos.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre, todo</span>) =&gt;</span> &#123; <span class="hljs-keyword">return</span> pre + (todo.<span class="hljs-property">done</span> ? <span class="hljs-number">1</span>: <span class="hljs-number">0</span>) &#125;, <span class="hljs-number">0</span>)<br>    <span class="hljs-comment">// è®¡ç®—æ€»æ•°</span><br>    <span class="hljs-keyword">const</span> total = todos.<span class="hljs-property">length</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-footer&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.handleCheckAll&#125;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&#123;doneCount</span> === <span class="hljs-string">total</span> &amp;&amp; <span class="hljs-attr">total</span> !== <span class="hljs-string">0</span> ? <span class="hljs-attr">true:</span> <span class="hljs-attr">false</span> &#125;/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å·²å®Œæˆ&#123; doneCount &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> / å…¨éƒ¨&#123;total&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClearAllDone&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span>&gt;</span>æ¸…é™¤å·²å®Œæˆä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<h1 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h1><p>æ‹†åˆ†ç»„ä»¶ã€å®ç°é™æ€ç»„ä»¶ï¼Œæ³¨æ„ï¼šclassNameã€styleçš„å†™æ³•</p>
<p>åŠ¨æ€åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¦‚ä½•ç¡®å®šå°†æ•°æ®æ”¾åœ¨å“ªä¸ªç»„ä»¶çš„stateä¸­ï¼Ÿ</p>
<p>æŸä¸ªç»„ä»¶ä½¿ç”¨ï¼šæ”¾åœ¨å…¶ è‡ªèº« çš„stateä¸­</p>
<p>æŸäº›ç»„ä»¶ä½¿ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„ çˆ¶ç»„ä»¶ stateä¸­ï¼ˆå®˜æ–¹ç§°æ­¤æ“ä½œä¸ºï¼šçŠ¶æ€æå‡ï¼‰</p>
<p>å…³äºçˆ¶å­ä¹‹é—´é€šä¿¡ï¼š</p>
<p>ã€çˆ¶ç»„ä»¶ã€‘ç»™ã€å­ç»„ä»¶ã€‘ä¼ é€’æ•°æ®ï¼šé€šè¿‡propsä¼ é€’</p>
<p>ã€å­ç»„ä»¶ã€‘ç»™ã€çˆ¶ç»„ä»¶ã€‘ä¼ é€’æ•°æ®ï¼šé€šè¿‡propsä¼ é€’ï¼Œè¦æ±‚çˆ¶æå‰ç»™å­ä¼ é€’ä¸€ä¸ªå‡½æ•°</p>
<p>æ³¨æ„defaultChecked ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æ—¶å€™æœ‰ä½œç”¨ï¼Œä¹‹åå°±æ²¡ä½œç”¨äº†ï¼‰å’Œ checkedçš„åŒºåˆ«ï¼Œç±»ä¼¼çš„è¿˜æœ‰ï¼šdefaultValue å’Œ value<br>çŠ¶æ€åœ¨å“ªé‡Œï¼Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•å°±åœ¨å“ªé‡Œ</p>
<p><img src="https://user-images.githubusercontent.com/117837871/220587169-d8c3072c-e800-46c0-8db2-83abd26f2911.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/117837871/220587280-1a81ccc3-a9b7-4012-aeed-b8959acf65a0.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p><img src="https://user-images.githubusercontent.com/117837871/220587310-7b5ec9e9-8c6b-4929-b215-130d49d0e17a.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>æ³¨æ„defaultChecked ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æ—¶å€™æœ‰ä½œç”¨ï¼Œä¹‹åå°±æ²¡ä½œç”¨äº†ï¼‰å’Œ checkedçš„åŒºåˆ«ï¼Œç±»ä¼¼çš„è¿˜æœ‰ï¼šdefaultValue å’Œ value</p>
<h1 id="ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†"><a href="#ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†" class="headerlink" title="ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†"></a>ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†</h1><p>ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨Reactåšä¸€ä¸ªéœ€è¦å‘èµ·ajaxè¯·æ±‚çš„å°demoï¼ˆgithubç”¨æˆ·æœç´¢é¡µé¢ï¼‰ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨axioså®ç°ï¼Œæœ€åå†å®ç°ä¸€ä¸ªfetchç‰ˆæœ¬çš„ã€‚</p>
<p>è¿™ä¸­é—´æˆ‘ä»¬è¿˜ä¼šåœ¨Reactä¸­é…ç½®ä»£ç†æ¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œè¿˜ä¼šä½¿ç”¨æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒæ¨¡å¼æ”¹è¿›æˆ‘ä»¬çš„ä»£ç ã€‚</p>
<h2 id="1-ç†è§£"><a href="#1-ç†è§£" class="headerlink" title="1. ç†è§£"></a>1. ç†è§£</h2><p>ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡ajaxå’Œaxiosï¼Œå¯ä»¥å…ˆçœ‹çœ‹è¿™ä¸¤ä¸ªç¬”è®°å¤ä¹ ä¸€ä¸‹ajax</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6999604180432191519">ã€Ajaxã€‘HTTPç›¸å…³é—®é¢˜-GET-POST-XHRä½¿ç”¨-jQueryä¸­çš„ajax-è·¨åŸŸ-åŒæº-jsonp-cors</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7015487317582299144">ã€Axiosã€‘ä½¿ç”¨json-server æ­å»ºREST API - ä½¿ç”¨axios - è‡ªå®šä¹‰axios - å–æ¶ˆè¯·æ±‚ - æ‹¦æˆªå™¨</a></p>
<h3 id="1-1-å‰ç½®è¯´æ˜"><a href="#1-1-å‰ç½®è¯´æ˜" class="headerlink" title="1.1. å‰ç½®è¯´æ˜"></a>1.1. å‰ç½®è¯´æ˜</h3><p>Reactæœ¬èº«åªå…³æ³¨äºç•Œé¢, å¹¶ä¸åŒ…å«å‘é€<strong>ajax</strong>è¯·æ±‚çš„ä»£ç </p>
<p>å‰ç«¯åº”ç”¨éœ€è¦é€šè¿‡ajaxè¯·æ±‚ä¸åå°è¿›è¡Œäº¤äº’(jsonæ•°æ®)</p>
<p>Reactåº”ç”¨ä¸­éœ€è¦é›†æˆç¬¬ä¸‰æ–¹ajaxåº“(æˆ–è‡ªå·±å°è£…)</p>
<h3 id="1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"><a href="#1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“" class="headerlink" title="1.2. å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"></a>1.2. å¸¸ç”¨çš„ajaxè¯·æ±‚åº“</h3><p>jQuery: æ¯”è¾ƒé‡, å¦‚æœéœ€è¦å¦å¤–å¼•å…¥ä¸å»ºè®®ä½¿ç”¨</p>
<p>axios: è½»é‡çº§, å»ºè®®ä½¿ç”¨</p>
<pre><code class="hljs">1.å°è£…XmlHttpRequestå¯¹è±¡çš„ajax

2.promiseé£æ ¼

3.å¯ä»¥ç”¨åœ¨æµè§ˆå™¨ç«¯å’ŒnodeæœåŠ¡å™¨ç«¯
</code></pre>
<h2 id="2-axios"><a href="#2-axios" class="headerlink" title="2. axios"></a>2. axios</h2><p>å®‰è£…<strong>npm install axios</strong></p>
<h3 id="2-1-æ–‡æ¡£"><a href="#2-1-æ–‡æ¡£" class="headerlink" title="2.1. æ–‡æ¡£"></a>2.1. æ–‡æ¡£</h3><p>Github.com&#x2F;axios&#x2F;axios</p>
<h3 id="2-2-ç›¸å…³API"><a href="#2-2-ç›¸å…³API" class="headerlink" title="2.2. ç›¸å…³API"></a>2.2. ç›¸å…³API</h3><p>æ›´å¤šç»†èŠ‚å¯ä»¥å‚è€ƒè¿™ä¸ªç¬”è®°çš„å†…å®¹ <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114368528">ã€axiosã€‘ä½¿ç”¨json-server æ­å»ºREST API - ä½¿ç”¨axios - è‡ªå®šä¹‰axios - å–æ¶ˆè¯·æ±‚ - æ‹¦æˆªå™¨</a></p>
<h2 id="3-Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"><a href="#3-Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="3. Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"></a>3. Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜</h2><h3 id="3-1-é…ç½®ä»£ç†æ–¹æ³•"><a href="#3-1-é…ç½®ä»£ç†æ–¹æ³•" class="headerlink" title="3.1 é…ç½®ä»£ç†æ–¹æ³•"></a>3.1 é…ç½®ä»£ç†æ–¹æ³•</h3><p>è§£å†³è·¨åŸŸé—®é¢˜ï¼Œåœ¨Reactå¼€å¯ä¸­é—´ä»£ç†</p>
<p>åœ¨é¡¹ç›®ä¸­çš„package.jsonä¸­ï¼Œæœ€ååŠ ä¸Šä¸€è¡Œâ€proxyâ€: â€œ<a target="_blank" rel="noopener" href="http://loaclhost:5000/">http://loaclhost:5000</a>â€œ å†™åˆ°ç«¯å£å·</p>
<p>ç„¶åé‡å¯è„šæ‰‹æ¶</p>
<p>å†æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™å°±ç›´æ¥å†™è‡ªå·±çš„3000ç«¯å£</p>
<p>3000ç«¯å£æœ‰çš„èµ„æºç›´æ¥è¯·æ±‚3000ç«¯å£çš„ï¼Œ3000ç«¯å£æ²¡æœ‰çš„èµ„æºå°±è¯·æ±‚ä»£ç†è®¾ç½®çš„5000ç«¯å£</p>
<p>åœ¨package.jsonä¸­è¿½åŠ å¦‚ä¸‹é…ç½®</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;proxy&quot;</span>:<span class="hljs-string">&quot;http://localhost:5000&quot;</span><br></code></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<pre><code class="hljs">ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¯ä»¥ä¸åŠ ä»»ä½•å‰ç¼€ã€‚

é…ç½®å¤šä¸ªä»£ç†ã€‚

å·¥ä½œæ–¹å¼ï¼šä¸Šè¿°æ–¹å¼é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†3000ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™5000 ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰
</code></pre>
<h3 id="3-2-é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•"><a href="#3-2-é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•" class="headerlink" title="3.2 é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•"></a>3.2 é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•</h3><p>é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸åœ¨ package.json é…ç½®</p>
<pre><code class="hljs">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶
</code></pre>
<p>åœ¨srcä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsrc&#x2F;setupProxy.js</p>
<pre><code class="hljs">ç¼–å†™setupProxy.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>)<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">app</span>) &#123;<br>  app.<span class="hljs-title function_">use</span>(<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api1&#x27;</span>, &#123;  <span class="hljs-comment">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)</span><br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>, <span class="hljs-comment">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)</span><br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼</span><br>      <span class="hljs-comment">/*</span><br><span class="hljs-comment">      	changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000</span><br><span class="hljs-comment">      	changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:3000</span><br><span class="hljs-comment">      	changeOriginé»˜è®¤å€¼ä¸ºfalseï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬å°†changeOriginå€¼è®¾ä¸ºtrue</span><br><span class="hljs-comment">      */</span><br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api1&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125; <span class="hljs-comment">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)</span><br>    &#125;),<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api2&#x27;</span>, &#123; <br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5001&#x27;</span>,<br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api2&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>    &#125;)<br>  )<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š<br>1.ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œå¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</p>
<p>2.ç¼ºç‚¹ï¼šé…ç½®ç¹çï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</p>
<h2 id="4-æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢"><a href="#4-æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢" class="headerlink" title="4. æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢"></a>4. æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢</h2><p>ä¹‹å‰ç”¨Vueä¹Ÿåšè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥å¯¹æ¯”ç€å­¦ä¹  <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113992327">ã€Vueã€‘é«˜çº§ç³»åˆ—ï¼ˆä¸ƒï¼‰Vue-clié…ç½®ä»£ç† - Ajaxå®æˆ˜-demo3-GitHubç”¨æˆ·æŸ¥è¯¢-axios-pubsub</a></p>
<h3 id="4-1-æ•ˆæœ"><a href="#4-1-æ•ˆæœ" class="headerlink" title="4.1 æ•ˆæœ"></a>4.1 æ•ˆæœ</h3><p>è¯·æ±‚åœ°å€: <a target="_blank" rel="noopener" href="https://api.github.com/search/users?q=xxxxxx">https://api.github.com/search/users?q=xxxxxx</a></p>
<p><a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e17bce649e774e089e6b423830c2a28e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e17bce649e774e089e6b423830c2a28e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp</a></p>
<h3 id="4-2-React-å®ç°"><a href="#4-2-React-å®ç°" class="headerlink" title="4.2 React å®ç°"></a>4.2 React å®ç°</h3><h4 id="4-2-1-é™æ€é¡µé¢æ‹†åˆ†å®ç°"><a href="#4-2-1-é™æ€é¡µé¢æ‹†åˆ†å®ç°" class="headerlink" title="4.2.1 é™æ€é¡µé¢æ‹†åˆ†å®ç°"></a>4.2.1 é™æ€é¡µé¢æ‹†åˆ†å®ç°</h4><p><strong>&gt;&gt;App.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Search&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Users&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Search&#x2F;index.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot;</span> /&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>&gt;&gt;User&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;User&#x2F;index.css</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.album</span> &#123;<br>  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">50rem</span>; <span class="hljs-comment">/* Can be removed; just added for demo purposes */</span><br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">3rem</span>;<br>  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">3rem</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f7f7f7</span>;<br>&#125;<br><br><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">33.333%</span>;<br>  <span class="hljs-attribute">padding</span>: .<span class="hljs-number">75rem</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2rem</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#efefef</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><br><span class="hljs-selector-class">.card</span> &gt; <span class="hljs-selector-tag">img</span> &#123;<br>  <span class="hljs-attribute">margin-bottom</span>: .<span class="hljs-number">75rem</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.card-text</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">85%</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="4-2-2-åŠ¨æ€äº¤äº’å®ç°"><a href="#4-2-2-åŠ¨æ€äº¤äº’å®ç°" class="headerlink" title="4.2.2 åŠ¨æ€äº¤äº’å®ç°"></a>4.2.2 åŠ¨æ€äº¤äº’å®ç°</h4><p>ç”±äºgithubè®¿é—®å¤±è´¥ï¼Œå¯ä»¥ä¼ªé€ ä¸€ä¸ªæœåŠ¡å™¨è¿”å›ä¸€äº›å›ºå®šçš„ç»“æœï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´ä½³ ä½¿ç”¨expressæ­å»ºä¸€ä¸ªæœåŠ¡å™¨</p>
<p><strong>&gt;&gt;serve.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;axios&quot;</span>)<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">  è¯·æ±‚åœ°å€ï¼š http://localhost:3000/search/users?q=aa</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">  åå°è·¯ç”±</span><br><span class="hljs-comment">    keyï¼š /search/users</span><br><span class="hljs-comment">    valueï¼š function () &#123;&#125;</span><br><span class="hljs-comment">*/</span><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/search/users&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123;q&#125; = req.<span class="hljs-property">query</span><br>  <span class="hljs-title function_">axios</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://api.github.com/search/users&#x27;</span>,<br>    <span class="hljs-attr">params</span>: &#123;q&#125;<br>  &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">json</span>(response.<span class="hljs-property">data</span>)<br>  &#125;)<br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/search/users2&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">json</span>(&#123;<br>    <span class="hljs-attr">items</span>: [<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx990803&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908032&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf2&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908033&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf3&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">6</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908034&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">7</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf4&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">8</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908035&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">9</span>,<br>      &#125;,<br>    ],<br>  &#125;);<br>&#125;);<br><br><br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">5000</span>, <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (!err)&#123;<br>  	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ&quot;</span>)<br>  	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¯·æ±‚githubçœŸå®æ•°æ®è¯·è®¿é—®ï¼šhttp://localhost:5000/search/users&quot;</span>)<br>  	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¯·æ±‚æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®è¯·è®¿é—®ï¼šhttp://localhost:5000/search/users2&quot;</span>)<br>  &#125; <br>  <span class="hljs-keyword">else</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<p><strong>src&#x2F;setupProxy.js</strong></p>
<p>è®¾ç½®ä»£ç†æœåŠ¡å™¨è§£å†³è·¨åŸŸé—®é¢˜src&#x2F;setupProxy.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>)<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">app</span>) &#123;<br>  app.<span class="hljs-title function_">use</span>(<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api1&#x27;</span>, &#123;  <span class="hljs-comment">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)</span><br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>, <span class="hljs-comment">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)</span><br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼</span><br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api1&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125; <span class="hljs-comment">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)</span><br>    &#125;)<br>  )<br>&#125;<br><br><span class="hljs-comment">// ã€è¡¥å……ã€‘è¿ç»­è§£æ„èµ‹å€¼</span><br><span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:&#123;<span class="hljs-attr">c</span>:<span class="hljs-number">1</span>&#125;&#125;&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>) <span class="hljs-comment">// 1</span><br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:&#123;c&#125;&#125;&#125; = obj<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c) <span class="hljs-comment">// 1</span><br><br><span class="hljs-keyword">let</span> obj2 = &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:<span class="hljs-number">1</span>&#125;&#125;<br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:data&#125;&#125; = obj2 <span class="hljs-comment">// é‡å‘½å</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data) <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.jsx</strong></p>
<p>å°†çŠ¶æ€æ•°æ®å®šä¹‰åœ¨Appä¸­ æ“ä½œçŠ¶æ€çš„æ–¹æ³•æ”¾åœ¨Appä¸­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">users</span>: []<br>  &#125;<br>  saveUsers = <span class="hljs-function">(<span class="hljs-params">users</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123; users &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> <span class="hljs-attr">saveUsers</span>=<span class="hljs-string">&#123;this.saveUsers&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> <span class="hljs-attr">users</span>=<span class="hljs-string">&#123;users&#125;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Search&#x2F;index&#x2F;jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–ç”¨æˆ·è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// console.log(keyWord)</span><br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æˆåŠŸ&#x27;</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">saveUsers</span>(response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>)<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¤±è´¥&#x27;</span>,error)&#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          this.props.users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ•ˆæœå±•ç¤º</p>
<p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<h4 id="4-2-3-ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"><a href="#4-2-3-ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" class="headerlink" title="4.2.3 ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"></a>4.2.3 ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</h4><p>åœ¨Usersç»„ä»¶ä¸­ï¼Œåº”è¯¥ä¸æ­¢åªæœ‰ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼Œåº”è¯¥è¿˜æœ‰</p>
<pre><code class="hljs">1.æ¬¢è¿ä½¿ç”¨ç•Œé¢ã€ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢ã€‘

2.æœç´¢åŠ è½½é¡µé¢ã€ç‚¹å‡»æŒ‰é’®å‘é€è¯·æ±‚å’Œæ¥æ”¶åˆ°å“åº”ä¹‹é—´æ˜¾ç¤ºã€‘

3.æœç´¢å¤±è´¥é¡µé¢ã€è¯·æ±‚å¤±è´¥æ˜¾ç¤ºã€‘
</code></pre>
<p>æœ‰å››ç§ä¸åŒçš„æ˜¾ç¤ºï¼Œé‚£å°±éœ€è¦ä¸åŒçš„çŠ¶æ€stateæ¥æ§åˆ¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>state = &#123; <br>  <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>  <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>  <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>  <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123; <br>    <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>    <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>    <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>  &#125;<br>  <span class="hljs-comment">// saveUsers = (users) =&gt; &#123;</span><br>  <span class="hljs-comment">//   this.setState(&#123; users &#125;)</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-comment">// æ›´æ–°Appçš„state</span><br>  updateAppState = <span class="hljs-function">(<span class="hljs-params">stateObj</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(stateObj)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> <span class="hljs-attr">updateAppState</span>=<span class="hljs-string">&#123;this.updateAppState&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> &#123;<span class="hljs-attr">...this.state</span>&#125; /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Search&#x2F;index&#x2F;jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–ç”¨æˆ·è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// console.log(keyWord)</span><br>    <span class="hljs-comment">// å‘é€è¯·æ±‚å‰é€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<br>      <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">false</span>,<br>      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span><br>    &#125;)<br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// console.log(&#x27;æˆåŠŸ&#x27;)</span><br>        <span class="hljs-comment">// è¯·æ±‚æˆåŠŸï¼Œé€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>: response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>&#125;)<br>        <span class="hljs-comment">// this.props.saveUsers(response.data.items)</span><br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// console.log(&#x27;å¤±è´¥&#x27;, error)</span><br>        <span class="hljs-comment">// è¯·æ±‚å¤±è´¥ï¼Œé€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>: error.<span class="hljs-property">message</span>&#125;)<br>      &#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users, isFirst, isLoading, err&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          isFirst ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿ä½¿ç”¨ï¼Œè¯·è¾“å…¥å…³é”®å­—ï¼Œéšåç‚¹å‡»æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          err ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span> &#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span>&#123;err&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ•ˆæœå±•ç¤º<br>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<h2 id="5-æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶"><a href="#5-æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶" class="headerlink" title="5. æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶"></a>5. æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶</h2><p>å‰é¢æ¡ˆä¾‹ä¸­ï¼Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ€»æ˜¯è¦å€ŸåŠ©çˆ¶ç»„ä»¶æ‰è¡Œ ç°åœ¨ä»‹ç»æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶æ¥è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´é€šä¿¡</p>
<p>ä»‹ç»PubSubJSåº“</p>
<p><a target="_blank" rel="noopener" href="https://github.com/mroderick/PubSubJS">PubSubJS</a></p>
<p>1.å·¥å…·åº“: PubSubJS</p>
<p>2.ä¸‹è½½: <strong>npm install pubsub-js</strong>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<p>ä½¿ç”¨ åœ¨ã€æ¥æ”¶ã€‘æ•°æ®çš„ç»„ä»¶ä¸­ã€è®¢é˜…ã€‘æ¶ˆæ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PubSub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pubsub-js&#x27;</span> <span class="hljs-comment">//å¼•å…¥ï¼ˆåŒ…åçš„å‘½åè§„èŒƒä¸­ä¸èƒ½å‡ºç°å­—æ¯ï¼‰</span><br><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&#x27;delete&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123; &#125;); <span class="hljs-comment">// è®¢é˜…</span><br><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;delete&#x27;</span>, data) <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯ æºå¸¦æ•°æ®</span><br></code></pre></td></tr></table></figure>

<p>åœ¨æ¡ˆä¾‹ä¸­ä½¿ç”¨</p>
<p>Usersç»„ä»¶ã€æ¥æ”¶ã€‘æ•°æ®ï¼Œæ‰€ä»¥Usersç»„ä»¶ã€è®¢é˜…ã€‘æ¶ˆæ¯ Searchç»„ä»¶ å°†æ•°æ®å‘é€å‡ºå»ï¼Œã€å‘å¸ƒã€‘æ¶ˆæ¯</p>
<p><strong>&gt;&gt;App.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p>
<p>Userç»„ä»¶ä¸­ç”¨çŠ¶æ€æ•°æ®stateï¼ŒçŠ¶æ€å®šä¹‰åœ¨è¿™é‡Œï¼Œåœ¨è¿™é‡Œè®¢é˜…æ¶ˆæ¯ Searchç»„ä»¶æ”¹å˜çŠ¶æ€æ•°æ®ï¼Œåœ¨è¿™é‡Œå‘å¸ƒæ¶ˆæ¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123; <br>    <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>    <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>    <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>  &#125;<br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è®¢é˜…æ¶ˆæ¯</span><br>    <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">_, data</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(data)<br>    &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users, isFirst, isLoading, err&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          isFirst ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿ä½¿ç”¨ï¼Œè¯·è¾“å…¥å…³é”®å­—ï¼Œéšåç‚¹å‡»æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          err ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span> &#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span>&#123;err&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Search&#x2F;index.jsx</strong></p>
<p>Searchç»„ä»¶æ”¹å˜çŠ¶æ€æ•°æ®ï¼Œåœ¨è¿™é‡Œå‘å¸ƒæ¶ˆæ¯ã€ä¸€æ”¹å˜çŠ¶æ€ï¼Œå°±å‘å¸ƒæ¶ˆæ¯ã€‘</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// å‘é€è¯·æ±‚å‰é€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-comment">// this.props.updateAppState(&#123;isFirst: false,isLoading: true&#125;)</span><br>    <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isFirst</span>: <span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span>&#125;)<br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// è¯·æ±‚æˆåŠŸï¼Œé€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>: response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>&#125;)<br>        <span class="hljs-comment">// this.props.updateAppState(&#123;isLoading: false, users: response.data.items&#125;)</span><br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// è¯·æ±‚å¤±è´¥ï¼Œé€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>: error.<span class="hljs-property">message</span>&#125;)<br>        <span class="hljs-comment">// this.props.updateAppState(&#123;isLoading: false, err: error.message&#125;)</span><br>      &#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="6">
<li>Fetch</li>
</ol>
<p>Axiosåœ¨å‰ç«¯æ˜¯å¯¹xhrçš„å°è£… è€ŒFetchæ˜¯å†…ç½®çš„ç½‘ç»œè¯·æ±‚æ–¹æ³•ï¼Œä¸éœ€è¦å•ç‹¬ä¸‹è½½å®‰è£…</p>
<p>6.1 æ–‡æ¡£</p>
<p>github.github.io&#x2F;fetch&#x2F;</p>
<p>ã€ç›¸å…³åšæ–‡ã€‘ä¼ ç»Ÿ Ajax å·²æ­»ï¼ŒFetch æ°¸ç”Ÿ</p>
<p>6.2 ç‰¹ç‚¹</p>
<p>fetch: åŸç”Ÿå‡½æ•°ï¼Œä¸å†ä½¿ç”¨XmlHttpRequestå¯¹è±¡æäº¤ajaxè¯·æ±‚</p>
<p>è€ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ</p>
<p>6.3 å®ä¾‹æ¼”ç¤º</p>
<p>Search&#x2F;index.jsx</p>
<p>ä¼˜åŒ–å‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>	search = <span class="hljs-title function_">async</span>()=&gt;&#123;<br>		<span class="hljs-comment">//è·å–ç”¨æˆ·çš„è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>		<span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>:&#123;<span class="hljs-attr">value</span>:keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>		<span class="hljs-comment">//å‘é€è¯·æ±‚å‰é€šçŸ¥Listæ›´æ–°çŠ¶æ€</span><br>		<span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isFirst</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">true</span>&#125;)<br>		<br>		<span class="hljs-comment">//å‘é€ç½‘ç»œè¯·æ±‚---ä½¿ç”¨fetchå‘é€ï¼ˆæœªä¼˜åŒ–ï¼‰</span><br>		<span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>			<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>				<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è”ç³»æœåŠ¡å™¨æˆåŠŸäº†&#x27;</span>);<br>				<span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>()<br>			&#125;,<br>			<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>				<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è”ç³»æœåŠ¡å™¨å¤±è´¥äº†&#x27;</span>,error);<br>        <span class="hljs-comment">//è¿”å›åˆå§‹åŒ–çŠ¶æ€çš„promiseå€¼,ä¸å†å¾€ä¸‹èµ°ã€‚</span><br>				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">()=&gt;</span>&#123;&#125;)<br>			&#125;<br>		).<span class="hljs-title function_">then</span>(<br>			<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®æˆåŠŸäº†&#x27;</span>,response);&#125;,<br>			<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®å¤±è´¥äº†&#x27;</span>,error);&#125;<br>		)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä¼˜åŒ–å</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>	search = <span class="hljs-title function_">async</span>()=&gt;&#123;<br>		<span class="hljs-comment">//è·å–ç”¨æˆ·çš„è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>		<span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>:&#123;<span class="hljs-attr">value</span>:keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>		<span class="hljs-comment">//å‘é€è¯·æ±‚å‰é€šçŸ¥Listæ›´æ–°çŠ¶æ€</span><br>		<span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isFirst</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">true</span>&#125;)<br><br>		<span class="hljs-comment">//å‘é€ç½‘ç»œè¯·æ±‚---ä½¿ç”¨fetchå‘é€ï¼ˆä¼˜åŒ–ï¼‰</span><br>		<span class="hljs-keyword">try</span> &#123;<br>			<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>)<br>			<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()<br>			<span class="hljs-comment">// console.log(data);</span><br>			<span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>:data.<span class="hljs-property">items</span>&#125;)<br>		&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>			<span class="hljs-comment">// console.log(&#x27;è¯·æ±‚å‡ºé”™&#x27;,error);</span><br>			<span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>:error.<span class="hljs-property">message</span>&#125;)<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>


<ol start="7">
<li>æ€»ç»“</li>
</ol>
<p>è®¾è®¡çŠ¶æ€æ—¶è¦è€ƒè™‘å…¨é¢ï¼Œä¾‹å¦‚å¸¦æœ‰ç½‘ç»œè¯·æ±‚çš„ç»„ä»¶ï¼Œè¦è€ƒè™‘è¯·æ±‚å¤±è´¥æ€ä¹ˆåŠã€‚</p>
<p>ES6å°çŸ¥è¯†ç‚¹ï¼šè§£æ„èµ‹å€¼+é‡å‘½å</p>
<p>let obj &#x3D; {a:{b:1}}</p>
<p>const {a} &#x3D; obj; &#x2F;&#x2F;ä¼ ç»Ÿè§£æ„èµ‹å€¼</p>
<p>const {a:{b}} &#x3D; obj; &#x2F;&#x2F;è¿ç»­è§£æ„èµ‹å€¼</p>
<p>const {a:{b:value}} &#x3D; obj; &#x2F;&#x2F;è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</p>
<p>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒæœºåˆ¶</p>
<p>å…ˆè®¢é˜…ï¼Œå†å‘å¸ƒï¼ˆç†è§£ï¼šæœ‰ä¸€ç§éš”ç©ºå¯¹è¯çš„æ„Ÿè§‰ï¼‰</p>
<p>é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p>
<p>è¦åœ¨ç»„ä»¶çš„componentWillUnmountä¸­å–æ¶ˆè®¢é˜…</p>
<p>fetchå‘é€è¯·æ±‚ï¼ˆå…³æ³¨åˆ†ç¦»çš„è®¾è®¡æ€æƒ³ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">try</span> &#123;<br>	<span class="hljs-keyword">const</span> response= <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>)<br>	<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è¯·æ±‚å‡ºé”™&#x27;</span>,error);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ã€Reactã€‘SPA - è·¯ç”±æœºåˆ¶ - react-router5 - åŸºæœ¬è·¯ç”± - åµŒå¥—è·¯ç”± - ä¼ é€’å‚æ•° - è·¯ç”±è·³è½¬</p>
<h1 id="1-ç›¸å…³ç†è§£"><a href="#1-ç›¸å…³ç†è§£" class="headerlink" title="1. ç›¸å…³ç†è§£"></a>1. ç›¸å…³ç†è§£</h1><h2 id="1-1-SPAçš„ç†è§£"><a href="#1-1-SPAçš„ç†è§£" class="headerlink" title="1.1. SPAçš„ç†è§£"></a>1.1. SPAçš„ç†è§£</h2><p>å•é¡µWebåº”ç”¨ï¼ˆsingle page web applicationï¼ŒSPAï¼‰</p>
<p>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚</p>
<p>ç‚¹å‡»é¡µé¢ä¸­çš„é“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œåªä¼šåšé¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚</p>
<p>æ•°æ®éƒ½éœ€è¦é€šè¿‡ajaxè¯·æ±‚è·å–, å¹¶åœ¨å‰ç«¯å¼‚æ­¥å±•ç°ã€‚</p>
<h2 id="1-2-è·¯ç”±çš„ç†è§£"><a href="#1-2-è·¯ç”±çš„ç†è§£" class="headerlink" title="1.2. è·¯ç”±çš„ç†è§£"></a>1.2. è·¯ç”±çš„ç†è§£</h2><h3 id="1-2-1-ä»€ä¹ˆæ˜¯è·¯ç”±"><a href="#1-2-1-ä»€ä¹ˆæ˜¯è·¯ç”±" class="headerlink" title="1.2.1 ä»€ä¹ˆæ˜¯è·¯ç”±?"></a>1.2.1 ä»€ä¹ˆæ˜¯è·¯ç”±?</h3><p>ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»(key: value)</p>
<p>keyä¸ºè·¯å¾„, valueå¯èƒ½æ˜¯functionæˆ–component</p>
<h3 id="1-2-2-è·¯ç”±åˆ†ç±»"><a href="#1-2-2-è·¯ç”±åˆ†ç±»" class="headerlink" title="1.2.2 è·¯ç”±åˆ†ç±»"></a>1.2.2 è·¯ç”±åˆ†ç±»</h3><ul>
<li><ol>
<li>åç«¯è·¯ç”±</li>
</ol>
<ul>
<li><p>ç†è§£ï¼š valueæ˜¯function, ç”¨æ¥å¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ã€‚</p>
</li>
<li><p>æ³¨å†Œè·¯ç”±ï¼š router.get(path, function(req, res))</p>
</li>
<li><p>å·¥ä½œè¿‡ç¨‹ï¼šå½“nodeæ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶, æ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±, è°ƒç”¨è·¯ç”±ä¸­çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚, è¿”å›å“åº”æ•°æ®</p>
</li>
</ul>
</li>
<li><ol start="2">
<li>å‰ç«¯è·¯ç”±</li>
</ol>
<ul>
<li><p>æµè§ˆå™¨ç«¯è·¯ç”±ï¼Œvalueæ˜¯componentï¼Œç”¨äºå±•ç¤ºé¡µé¢å†…å®¹ã€‚</p>
</li>
<li><p>æ³¨å†Œè·¯ç”±: <Route path="/test" component={Test}></p>
</li>
<li><p>å·¥ä½œè¿‡ç¨‹ï¼šå½“æµè§ˆå™¨çš„pathå˜ä¸º&#x2F;testæ—¶, å½“å‰è·¯ç”±ç»„ä»¶å°±ä¼šå˜ä¸ºTestç»„ä»¶</p>
</li>
<li><p>ä¸»è¦æ˜¯é€šè¿‡æ“ä½œBOMä¸­çš„historyæ¥æ“ä½œè·¯å¾„</p>
</li>
</ul>
</li>
</ul>
<h2 id="1-3-react-router-dom-çš„ç†è§£"><a href="#1-3-react-router-dom-çš„ç†è§£" class="headerlink" title="1.3. react-router-dom çš„ç†è§£"></a>1.3. react-router-dom çš„ç†è§£</h2><ul>
<li><p>Reactçš„ä¸€ä¸ªæ’ä»¶åº“ã€‚</p>
</li>
<li><p>ä¸“é—¨ç”¨æ¥å®ç°ä¸€ä¸ªSPAåº”ç”¨ã€‚</p>
</li>
<li><p>åŸºäºReactçš„é¡¹ç›®åŸºæœ¬éƒ½ä¼šç”¨åˆ°æ­¤åº“ã€‚</p>
</li>
</ul>
<h1 id="2-react-router-domç›¸å…³API"><a href="#2-react-router-domç›¸å…³API" class="headerlink" title="2. react-router-domç›¸å…³API"></a>2. react-router-domç›¸å…³API</h1><h2 id="2-1-å†…ç½®ç»„ä»¶"><a href="#2-1-å†…ç½®ç»„ä»¶" class="headerlink" title="2.1. å†…ç½®ç»„ä»¶"></a>2.1. å†…ç½®ç»„ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">BrowserRouter</span>&gt;<br>&lt;<span class="hljs-title class_">HashRouter</span>&gt;<br>&lt;<span class="hljs-title class_">Route</span>&gt;<br>&lt;<span class="hljs-title class_">Redirect</span>&gt;<br>&lt;<span class="hljs-title class_">Link</span>&gt;<br>&lt;<span class="hljs-title class_">NavLink</span>&gt;<br>&lt;<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure>

<h2 id="2-2-å…¶å®ƒ"><a href="#2-2-å…¶å®ƒ" class="headerlink" title="2.2. å…¶å®ƒ"></a>2.2. å…¶å®ƒ</h2><p>history å¯¹è±¡</p>
<p>match å¯¹è±¡</p>
<p>withRouter å‡½æ•°</p>
<h1 id="3-åŸºæœ¬è·¯ç”±ä½¿ç”¨"><a href="#3-åŸºæœ¬è·¯ç”±ä½¿ç”¨" class="headerlink" title="3. åŸºæœ¬è·¯ç”±ä½¿ç”¨"></a>3. åŸºæœ¬è·¯ç”±ä½¿ç”¨</h1><h2 id="3-1-æ•ˆæœ"><a href="#3-1-æ•ˆæœ" class="headerlink" title="3.1. æ•ˆæœ"></a>3.1. æ•ˆæœ</h2><p><a target="_blank" rel="noopener" href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34f6957bbd4f46efac620ff7d66003a4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp">åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</a></p>
<h2 id="3-2-å‡†å¤‡"><a href="#3-2-å‡†å¤‡" class="headerlink" title="3.2. å‡†å¤‡"></a>3.2. å‡†å¤‡</h2><p>ä¸‹è½½react-router-dom: npm install react-router-dom</p>
<p>å¼•å…¥bootstrap.css: <link rel="stylesheet" href="/css/bootstrap.css"></p>
<h2 id="3-3-è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"><a href="#3-3-è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="3.3 è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"></a>3.3 è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨</h2><p>1.æ˜ç¡®å¥½ç•Œé¢ä¸­çš„å¯¼èˆªåŒºã€å±•ç¤ºåŒº</p>
<p>2.å¯¼èˆªåŒºçš„aæ ‡ç­¾æ”¹ä¸ºLinkæ ‡ç­¾ <code>&lt;Link to=&quot;/xxxxx&quot;&gt;Demo&lt;/Link&gt;</code>&#x2F;&#x2F;toé‡Œé¢å°½é‡éƒ½å°å†™</p>
<p>3.å±•ç¤ºåŒºå†™Routeæ ‡ç­¾è¿›è¡Œè·¯å¾„çš„åŒ¹é… <code>&lt;Route path=&#39;/xxxx&#39; component=&#123;Demo&#125;/&gt;</code></p>
<p>4.<code>&lt;App&gt;</code>çš„æœ€å¤–ä¾§åŒ…è£¹äº†ä¸€ä¸ª<code>&lt;BrowserRouter&gt;</code>æˆ–<code>&lt;HashRouter&gt;</code></p>
<p>(BrowserRouter å°†ä¼šç›‘å¬ URL çš„å˜åŒ–ï¼Œå½“ URL å˜æ›´æ—¶ï¼Œå®ƒå°†ä½¿æµè§ˆå™¨æ˜¾ç¤ºç›¸åº”çš„é¡µé¢ï¼›æ‰€ä»¥è¦åœ¨æœ€å¤–ä¾§åŒ…è£¹ä¸€ä¸ª)</p>
<h2 id="3-4-å®ç°"><a href="#3-4-å®ç°" class="headerlink" title="3.4 å®ç°"></a>3.4 å®ç°</h2><p><strong>&gt;&gt;Index.js</strong></p>
<p>è¿™é‡Œç”¨ä¸€ä¸ªè·¯ç”±å™¨æ ‡ç­¾å°†æ•´ä¸ªAppåŒ…èµ·æ¥ï¼Œä¿è¯ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨è¿™é‡Œä½¿ç”¨BrowserRouter</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¼•å…¥reactæ ¸å¿ƒåº“</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-comment">//å¼•å…¥ReactDOM</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom&#x27;</span><br><span class="hljs-comment">//</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">BrowserRouter</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-comment">//å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span><br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>,<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)<br>)<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;App.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>,<span class="hljs-title class_">Route</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Home&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./About&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-offset-2 col-xs-8&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>React Router Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-2 col-xs-offset-2&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group&quot;</span>&gt;</span></span><br><span class="language-xml">            &#123;/* åŸç”Ÿhtmlä¸­ï¼Œé <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>è·³è½¬ä¸åŒçš„é¡µé¢ */&#125;</span><br><span class="language-xml">            &#123;/* <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./about.html&quot;</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item active&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./home.html&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> */&#125;</span><br><span class="language-xml"></span><br><span class="language-xml">            &#123;/* åœ¨Reactä¸­é è·¯ç”±é“¾æ¥å®ç°åˆ‡æ¢ç»„ä»¶--ç¼–å†™è·¯ç”±é“¾æ¥ */&#125;</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-6&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;panel&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="language-xml">                &#123;/* æ³¨å†Œè·¯ç”± */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/about&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;</span> /&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    )</span><br><span class="language-xml">  &#125;</span><br><span class="language-xml">&#125;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«"><a href="#3-5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="3.5 è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«"></a>3.5 è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«</h2><p><code>#å·åé¢çš„ä¸œè¥¿ä¸ä½œä¸ºæ•°æ®å‘é€ç»™æœåŠ¡å™¨</code></p>
<p>ä¸€ã€å†™æ³•ä¸åŒ</p>
<ul>
<li>ä¸€èˆ¬ç»„ä»¶ï¼š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Demo</span>/&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>è·¯ç”±ç»„ä»¶ï¼š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Route</span> path=<span class="hljs-string">&quot;/demo&quot;</span> component=&#123;<span class="hljs-title class_">Demo</span>&#125;/&gt;<br></code></pre></td></tr></table></figure>

<p>äºŒã€å­˜æ”¾ä½ç½®ä¸åŒ</p>
<ul>
<li><p>ä¸€èˆ¬ç»„ä»¶ï¼šcomponents</p>
</li>
<li><p>è·¯ç”±ç»„ä»¶ï¼špages</p>
</li>
</ul>
<p>ä¸‰ã€æ¥æ”¶åˆ°çš„propsä¸åŒ</p>
<ul>
<li><p>ä¸€èˆ¬ç»„ä»¶ï¼šå†™ç»„ä»¶æ ‡ç­¾æ—¶ä¼ é€’äº†ä»€ä¹ˆï¼Œå°±èƒ½æ”¶åˆ°ä»€ä¹ˆ</p>
</li>
<li><p>è·¯ç”±ç»„ä»¶ï¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå›ºå®šçš„å±æ€§</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">history</span>: <br><br>  <span class="hljs-attr">go</span>: Æ’ <span class="hljs-title function_">go</span>(n)<br><br>  <span class="hljs-attr">goBack</span>: Æ’ <span class="hljs-title function_">goBack</span>() <br><br>  <span class="hljs-attr">goForward</span>: Æ’ <span class="hljs-title function_">goForward</span>() <br><br>  <span class="hljs-attr">push</span>: Æ’ <span class="hljs-title function_">push</span>(path, state) <br><br>  <span class="hljs-attr">replace</span>: Æ’ <span class="hljs-title function_">replace</span>(path, state) <br><br><br><span class="hljs-attr">location</span>:<br><br>  <span class="hljs-attr">pathname</span>: <span class="hljs-string">&quot;/about&quot;</span><br><br>  <span class="hljs-attr">search</span>: <span class="hljs-string">&quot;&quot;</span><br><br>  <span class="hljs-attr">state</span>: <span class="hljs-literal">undefined</span><br><br><br><span class="hljs-attr">match</span>:<br><br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/about&quot;</span><br><br>  <span class="hljs-attr">params</span>: &#123;&#125;<br><br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="3-6-NavLinkä¸å°è£…NavLink"><a href="#3-6-NavLinkä¸å°è£…NavLink" class="headerlink" title="3.6 NavLinkä¸å°è£…NavLink"></a>3.6 NavLinkä¸å°è£…NavLink</h2><p>NavLinkå¯ä»¥å®ç°è·¯ç”±é“¾æ¥çš„é«˜äº®ï¼Œé€šè¿‡activeClassNameå±æ€§æŒ‡å®šæ ·å¼åï¼Œé»˜è®¤æ˜¯â€activeâ€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">NavLink</span> activeClassName=<span class="hljs-string">&quot;demo&quot;</span> className=<span class="hljs-string">&quot;list-group-item&quot;</span> to=<span class="hljs-string">&quot;/home&quot;</span>&gt;<span class="hljs-title class_">Home</span>&lt;/<span class="hljs-title class_">NavLink</span>&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥è‡ªå·±å°è£…ä¸€ä¸ªNavLinkã€ä¸€èˆ¬ç»„ä»¶ã€‘</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">NavLink</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNavLink</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// console.log(this.props);</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">activeClassName</span>=<span class="hljs-string">&quot;demo&quot;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> &#123;<span class="hljs-attr">...this.props</span>&#125; /&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ ‡ç­¾ä½“å†…å®¹æ˜¯ç‰¹æ®Šçš„æ ‡ç­¾å±æ€§é€šè¿‡this.props.childrenå¯ä»¥è·å–æ ‡ç­¾ä½“å†…å®¹</p>
<p>ä½¿ç”¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyNavLink</span> to=<span class="hljs-string">&quot;/about&quot;</span>&gt;<span class="hljs-title class_">About</span>&lt;/<span class="hljs-title class_">MyNavLink</span>&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyNavLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">MyNavLink</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<h2 id="3-7-Switchçš„ä½¿ç”¨"><a href="#3-7-Switchçš„ä½¿ç”¨" class="headerlink" title="3.7 Switchçš„ä½¿ç”¨"></a>3.7 Switchçš„ä½¿ç”¨</h2><ul>
<li><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œpathå’Œcomponentæ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚<code>&lt;Route path=&#39;/about&#39; component=&#123;About&#125; /&gt;</code></p>
</li>
<li><p><strong>Switch</strong>å¯ä»¥æé«˜è·¯ç”±åŒ¹é…æ•ˆç‡(å•ä¸€åŒ¹é…)ã€‚</p>
</li>
</ul>
<p>è¿™æ ·åªè¦åŒ¹é…åˆ°äº†ç¬¬ä¸€ä¸ªå°±ä¸ä¼šå†å¾€ä¸‹åŒ¹é…äº†</p>
<p>å¼•å…¥switch</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Switch</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;/</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;/</span>&gt;</span></span> <br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Test&#125;/</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure>

<h1 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,&#123;<span class="hljs-title class_">Component</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">HashRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>,<span class="hljs-title class_">Route</span>,<span class="hljs-title class_">Link</span>,<span class="hljs-title class_">Switch</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Main</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Main&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./About&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Topic</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Topic&#x27;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(props);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;  &#125;;<br>    &#125;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> (<br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span>main<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>about<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/topic&quot;</span>&gt;</span>topic<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><span class="language-xml">                &#123;/* &#123;this.props.children&#125; */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                &#123;/* SwitchåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªè·¯ç”±å°±ä¸ä¼šç»§ç»­åŒ¹é…äº†,</span><br><span class="language-xml">                å¦‚æœä¸åŠ Route é‡Œä¸åŠ  exactï¼Œé‚£ä¹ˆå‡¡æ˜¯Linké‡Œé¢ to çš„è·¯å¾„åŒ…å«äº†/ï¼Œ</span><br><span class="language-xml">                é‚£ä¹ˆå°±ä¼šè¢«åŒ¹é…åˆ°ï¼Œäºæ˜¯Switchå°±ä¸ç»§ç»­åŒ¹é…ä¸‹å»</span><br><span class="language-xml">                </span><br><span class="language-xml">                */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">exact</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Main&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/topic&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Topic&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span><br>            <br>        );<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure>

<h2 id="3-8-è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"><a href="#3-8-è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜" class="headerlink" title="3.8 è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"></a>3.8 è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜</h2><p>ã€Pulbicæ–‡ä»¶å¤¹å°±æ˜¯æ ¹ç›®å½•&#x2F;ã€‘</p>
<p>ã€Šè§£å†³æ–¹æ¡ˆã€‹</p>
<ul>
<li><p>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ &#x2F; ï¼ˆå¸¸ç”¨ï¼‰ã€ç»å¯¹è·¯å¾„ã€‘</p>
</li>
<li><p>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ %PUBLIC_URL% ï¼ˆå¸¸ç”¨ï¼‰</p>
</li>
<li><p>ä½¿ç”¨HashRouter</p>
</li>
</ul>
<p>é—®é¢˜åŸå› ï¼šå¤šçº§è·¯å¾„ä¸‹ï¼ŒåŠ è½½æ ·å¼æ—¶ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œåœ¨åˆ·æ–°æ—¶å°†å¤šçº§è·¯ç”±ä¹Ÿè€ƒè™‘åœ¨å†…</p>
<p>&#x2F;&#x2F; å¦‚ä¸‹ï¼Œæ ·å¼è·¯å¾„ â€˜.&#x2F;â€˜ å¯¼è‡´åŠ è½½èµ„æºæ—¶ï¼Œéœ€è¦å‚è€ƒå½“å‰è·¯å¾„ï¼Œå› æ­¤å¤šçº§è·¯ç”±ä¼šå½±å“èµ„æºçš„åŠ è½½<br> <link rel="stylesheet" href="./test.css" /></p>
<p>è§£å†³çš„ä¸‰ç§æ–¹æ³•ï¼š<br>ä½¿ç”¨ ç»å¯¹è·¯å¾„<br>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ &#x2F; ï¼ˆå¸¸ç”¨ï¼‰<br> &#x2F;&#x2F; åŠ è½½ æ ¹ç›®å½•ä¸‹çš„ test.css ï¼Œä¸å½“å‰è·¯ç”±æ— å…³<br> <link rel="stylesheet" href="/test.css" /></p>
<p>ä½¿ç”¨ %PUBLIC_URL%ï¼ˆæ­¤æ–¹æ³•åªæœ‰åœ¨reactä¸­æœ‰æ•ˆï¼‰<br>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ %PUBLIC_URL% ï¼ˆå¸¸ç”¨ï¼‰<br> &#x2F;&#x2F; åŠ è½½ public æ–‡ä»¶å¤¹ä¸‹çš„ test.css ï¼Œä¸å½“å‰è·¯ç”±æ— å…³<br> <link rel="stylesheet" href="%PUBLIC_URL%/test.css" /></p>
<p>åŸç†ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå³å›ºå®šäº†æ˜¯publicä¸‹çš„test.cssï¼Œå¹¶ä¸ä¼šè¢«å˜åŠ¨ã€‚</p>
<p>ä½¿ç”¨HashRouter<br>ReactDOM.render(<br>    <HashRouter><br>        <App /><br>    </HashRouter><br>    , document.getElementById(â€˜rootâ€™))</p>
<p>åŸç†ï¼šå› ä¸º hash æ˜¯ä¸ä¼šæ”¹å˜è·¯å¾„çš„ï¼Œä¹Ÿä¸ä¼šåŒ…å«åœ¨è¯·æ±‚URLä¸­ï¼Œå› æ­¤ä¸ä¼šå½±å“ç›¸å¯¹è·¯å¾„</p>
<p>æ€»ç»“ï¼š<br>æ ·å¼ä¸¢å¤±çš„åŸå› æ˜¯ï¼ŒåŠ è½½èµ„æºæ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè€Œç›¸å¯¹è·¯å¾„åˆä¼šå‚è€ƒå½“å‰è·¯ç”±è·¯å¾„ï¼Œå› æ­¤å¯¼è‡´åŠ è½½ä¸åˆ°èµ„æºï¼Œè§£å†³åŠæ³•åˆ™æ˜¯ä½¿ç”¨ç»å¯¹è·¯å¾„ç­‰ï¼Œè®©å…¶åŠ è½½èµ„æºæ—¶ä¸å†å‚è€ƒè·¯ç”±è·¯å¾„ã€‚</p>
<h2 id="3-9-è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"><a href="#3-9-è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="3.9 è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"></a>3.9 è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…</h2><p>é»˜è®¤ä½¿ç”¨çš„æ˜¯æ¨¡ç³ŠåŒ¹é…ï¼ˆç®€å•è®°ï¼šã€è¾“å…¥çš„è·¯å¾„ã€‘å¿…é¡»åŒ…å«è¦ã€åŒ¹é…çš„è·¯å¾„ã€‘ï¼Œä¸”é¡ºåºè¦ä¸€è‡´ï¼‰<br>å¼€å¯ä¸¥æ ¼åŒ¹é…ï¼š<Route exact={true} path="/about" component={About}/>ç®€å†™<Route exact path="/about" component={About}/><br>ä¸¥æ ¼åŒ¹é…ä¸è¦éšä¾¿å¼€å¯ï¼Œéœ€è¦å†å¼€ï¼Œæœ‰äº›æ—¶å€™å¼€å¯ä¼šå¯¼è‡´æ— æ³•ç»§ç»­åŒ¹é…äºŒçº§è·¯ç”±</p>
<h2 id="3-10-Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘"><a href="#3-10-Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘" class="headerlink" title="3.10 Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘"></a>3.10 Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘</h2><p>ä¸€èˆ¬å†™åœ¨æ‰€æœ‰è·¯ç”±æ³¨å†Œçš„æœ€ä¸‹æ–¹ï¼Œå½“æ‰€æœ‰è·¯ç”±éƒ½æ— æ³•åŒ¹é…æ—¶ï¼Œè·³è½¬åˆ°RedirectæŒ‡å®šçš„è·¯ç”±</p>
<p>å…·ä½“ç¼–ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Switch</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;/</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;/</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Redirect</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>/&gt;</span></span><br>&lt;/<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure>

<h1 id="4-åµŒå¥—è·¯ç”±ä½¿ç”¨"><a href="#4-åµŒå¥—è·¯ç”±ä½¿ç”¨" class="headerlink" title="4. åµŒå¥—è·¯ç”±ä½¿ç”¨"></a>4. åµŒå¥—è·¯ç”±ä½¿ç”¨</h1><h2 id="4-1-æ•ˆæœ-1"><a href="#4-1-æ•ˆæœ-1" class="headerlink" title="4.1 æ•ˆæœ"></a>4.1 æ•ˆæœ</h2><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<h2 id="4-2-æ³¨æ„"><a href="#4-2-æ³¨æ„" class="headerlink" title="4.2 æ³¨æ„"></a>4.2 æ³¨æ„</h2><p>æ³¨å†Œå­è·¯ç”±æ—¶è¦å†™ä¸Šçˆ¶è·¯ç”±çš„pathå€¼</p>
<p>è·¯ç”±çš„åŒ¹é…æ˜¯æŒ‰ç…§æ³¨å†Œè·¯ç”±çš„é¡ºåºè¿›è¡Œçš„</p>
<h2 id="4-3-å®ç°"><a href="#4-3-å®ç°" class="headerlink" title="4.3 å®ç°"></a>4.3 å®ç°</h2><p><strong>&gt;&gt;Home&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">NavLink</span>,<span class="hljs-title class_">Redirect</span>,<span class="hljs-title class_">Switch</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">News</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./News&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Message</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Message&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Homeçš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;nav nav-tabs&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home/news&quot;</span>&gt;</span>News<span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home/message&quot;</span>&gt;</span>Message<span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home/news&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;News&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home/message&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Message&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Redirect</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#x27;/home/news&#x27;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"><a href="#5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®" class="headerlink" title="5. å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"></a>5. å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®</h1><h2 id="5-1-æ•ˆæœ"><a href="#5-1-æ•ˆæœ" class="headerlink" title="5.1 æ•ˆæœ"></a>5.1 æ•ˆæœ</h2><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<h2 id="5-2-å…·ä½“æ–¹æ³•"><a href="#5-2-å…·ä½“æ–¹æ³•" class="headerlink" title="5.2 å…·ä½“æ–¹æ³•"></a>5.2 å…·ä½“æ–¹æ³•</h2><p>æ–¹æ³•1. paramså‚æ•°<br>è·¯ç”±é“¾æ¥(æºå¸¦å‚æ•°)ï¼š&lt;Link to&#x3D;â€™&#x2F;demo&#x2F;test&#x2F;tom&#x2F;18â€™}&gt;è¯¦æƒ…</Link><br>æ³¨å†Œè·¯ç”±(å£°æ˜æ¥æ”¶)ï¼š<Route path="/demo/test/:name/:age" component={Test}/><br>æ¥æ”¶å‚æ•°ï¼šthis.props.match.params</p>
<p><strong>&gt;&gt;Message&#x2F;index.jsx</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Route</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Detail</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Detail&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Message</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">messageArr</span>: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯1&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯2&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯3&#x27;</span> &#125;,<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; messageArr &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          &#123;</span><br><span class="language-xml">            messageArr.map((msgObj) =&gt; &#123;</span><br><span class="language-xml">              return (</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;msgObj.id&#125;</span>&gt;</span></span><br><span class="language-xml">                  &#123;/* å‘è·¯ç”±ç»„ä»¶ä¼ é€’paramså‚æ•° */&#125;</span><br><span class="language-xml">                  <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#123;</span>`/<span class="hljs-attr">home</span>/<span class="hljs-attr">message</span>/<span class="hljs-attr">detail</span>/$&#123;<span class="hljs-attr">msgObj.id</span>&#125;/$&#123;<span class="hljs-attr">msgObj.title</span>&#125;`&#125;&gt;</span>&#123;msgObj.title&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              )</span><br><span class="language-xml">            &#125;)</span><br><span class="language-xml">          &#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><span class="language-xml">        &#123;/* å£°æ˜æ¥æ”¶paramså‚æ•° */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home/message/detail/:id/:title&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Detail&#125;/</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>&gt;&gt;Detail&#x2F;index.jsx</strong></p>
<p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Detail</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    detailData : [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;ä½ å¥½å•Š&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;è¿˜ä¸é”™é¸­&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;æ˜¾ç¤ºæˆ‘å§&#x27;</span> &#125;<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>)<br>    <span class="hljs-comment">// æ¥æ”¶paramså‚æ•°</span><br>    <span class="hljs-keyword">const</span> &#123; id, title &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">match</span>.<span class="hljs-property">params</span><br>    <span class="hljs-keyword">const</span> findResult= <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">detailData</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">dataObj</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> dataObj.<span class="hljs-property">id</span> === id<br>    &#125;)<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ID: &#123;id &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Title: &#123;title &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Content: &#123; findResult.content&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/React/" class="print-no-link">#React</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ğŸ¦•React</div>
      <div>https://trumen1219.github.io/2023/03/01/React/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>Trumen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2023å¹´3æœˆ1æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/04/01/Pinia/" title="ğŸ–Pinia">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ğŸ–Pinia</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/02/01/typeScript/" title="ğŸ TypeScript">
                        <span class="hidden-mobile">ğŸ TypeScript</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
