<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ğŸ¦Vue3 group_communication</title>
    <link href="/2023/07/30/vue3_group_communication/"/>
    <url>/2023/07/30/vue3_group_communication/</url>
    
    <content type="html"><![CDATA[<h1 id="Vue3ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#Vue3ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="Vue3ç»„ä»¶é€šä¿¡æ–¹å¼"></a>Vue3ç»„ä»¶é€šä¿¡æ–¹å¼</h1><p>   <strong>vue2</strong>ï¼š<br>    propsã€è‡ªå®šä¹‰äº‹ä»¶ã€å…¨å±€äº‹ä»¶æ€»çº¿$busã€pubsubã€vuexã€refã€slot</p><h2 id="props"><a href="#props" class="headerlink" title="props"></a>props</h2><p>å¯ä»¥å®ç°çˆ¶å­ç»„ä»¶é€šä¿¡ï¼Œåœ¨vue3ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡definePropsè·å–çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®ï¼Œä¸”åœ¨ç»„ä»¶å†…éƒ¨ä¸éœ€è¦å¼•å…¥definePropsæ–¹æ³•å¯ç›´æ¥ä½¿ç”¨ã€‚ã€åªè¯»ã€‘</p><p><strong>çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Child</span> info=<span class="hljs-string">&quot;ä¸­å›½&quot;</span> :money=<span class="hljs-string">&quot;money&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br></code></pre></td></tr></table></figure><p><em>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼Œå¦‚æœä¸åŠ :å†’å·ï¼Œä¼ è¿‡å»çš„ä¸æ˜¯æ•°å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²;åŠ ä¸Š:å†’å·ï¼Œä¼ è¿‡å»çš„å°±æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› ä¸ºåŠ äº†:å†’å·ä»¥åå¼•å·â€â€é‡Œé¢çš„å†…å®¹å°±æ˜¯ä¸€ä¸ªjsè¡¨è¾¾å¼</em></p><p><strong>å­ç»„ä»¶æ¥æ”¶æ–¹å¼ä¸€</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> props = <span class="hljs-title function_">defineProps</span>(&#123;<br>    <span class="hljs-attr">info</span>:&#123;<br>        <span class="hljs-attr">type</span>:<span class="hljs-title class_">String</span>,<br>        <span class="hljs-attr">default</span>:<span class="hljs-string">&quot;é»˜è®¤å‚æ•°&quot;</span><br>    &#125;,<br>    <span class="hljs-attr">money</span>:&#123;<br>        <span class="hljs-attr">type</span>:<span class="hljs-title class_">Number</span>,<br>        <span class="hljs-attr">default</span>:<span class="hljs-number">0</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p><strong>å­ç»„ä»¶æ¥æ”¶æ–¹å¼äºŒ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">&quot;info&quot;</span>,<span class="hljs-string">&quot;money&quot;</span>])<br></code></pre></td></tr></table></figure><p><em>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¯çœç•¥props</em></p><h2 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h2><p><em>vue2 å¦‚æœç›´æ¥åœ¨è‡ªå®šä¹‰çš„ç»„ä»¶ä¸Šå†™@clickäº‹ä»¶æ˜¯ä¸ç®¡ç”¨çš„,ä½†æ˜¯åœ¨äº‹ä»¶çš„åé¢åŠ ä¸Š.nativeä¿®é¥°ç¬¦å°±å¯ä»¥ç›´æ¥åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªç‚¹å‡»äº‹ä»¶äº†ã€‚</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Child</span> @xxx=<span class="hljs-string">&quot;handler1&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handler&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">let</span> $emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;xxx&quot;</span>])</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    $emit(<span class="hljs-string">&quot;xxx&quot;</span>,<span class="hljs-string">&quot;åƒé¥­&quot;</span>,<span class="hljs-string">&quot;å–æ°´&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>defineEmits,ä¸éœ€è¦å¼•å…¥ç›´æ¥ä½¿ç”¨ã€‚defineEmitsæ–¹æ³•æ‰§è¡Œï¼Œä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ å³ä¸ºå°†æ¥ç»„ä»¶éœ€è¦è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ç±»å‹ï¼Œæ­¤æ–¹æ‰§è¡Œä¼šè¿”å›ä¸€ä¸ª$emitæ–¹æ³•ç”¨äºè§¦å‘è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><p>å½“ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œäº‹ä»¶å›è°ƒå†…éƒ¨è°ƒç”¨$emitæ–¹æ³•å»è§¦å‘è‡ªå®šä¹‰äº‹ä»¶,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè§¦å‘äº‹ä»¶ç±»å‹ï¼Œç¬¬äºŒä¸ªã€ä¸‰ä¸ªã€Nä¸ªå‚æ•°å³ä¸ºä¼ é€’ç»™çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Child</span> @xxx=<span class="hljs-string">&quot;handler&quot;</span> @click=<span class="hljs-string">&quot;handler1&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br></code></pre></td></tr></table></figure><p>æ­£å¸¸è¯´ç»„ä»¶æ ‡ç­¾ä¹¦å†™@clickåº”è¯¥ä¸ºåŸç”ŸDOMäº‹ä»¶,ä½†æ˜¯å¦‚æœå­ç»„ä»¶å†…éƒ¨é€šè¿‡defineEmitså®šä¹‰å°±å˜ä¸ºè‡ªå®šä¹‰äº‹ä»¶äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> $emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">&quot;xxx&quot;</span>,<span class="hljs-string">&quot;click&quot;</span>])<br></code></pre></td></tr></table></figure><h2 id="å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="å…¨å±€äº‹ä»¶æ€»çº¿"></a>å…¨å±€äº‹ä»¶æ€»çº¿</h2><p><strong>mitt</strong><br>å…¨å±€äº‹ä»¶æ€»çº¿å¯ä»¥å®ç°ä»»æ„ç»„ä»¶é€šä¿¡ï¼Œåœ¨vue2ä¸­å¯ä»¥æ ¹æ®VMä¸VCå…³ç³»æ¨å‡ºå…¨å±€äº‹ä»¶æ€»çº¿ã€‚<br>ä½†æ˜¯åœ¨vue3ä¸­æ²¡æœ‰Vueæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ²¡æœ‰Vue.prototype.ä»¥åŠç»„åˆå¼APIå†™æ³•æ²¡æœ‰thisï¼Œ<br>å¯ä»¥ä½¿ç”¨æ’ä»¶mittå®ç°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">npm install --save mitt<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> mitt <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mitt&#x27;</span>;<br><span class="hljs-keyword">const</span> $bus = <span class="hljs-title function_">mitt</span>();<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> $bus;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> $bus <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../../bus&quot;</span>;<br><span class="hljs-comment">//ç»„åˆå¼APIå‡½æ•°</span><br><span class="hljs-keyword">import</span> &#123; onMounted ] <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<span class="hljs-comment">//ç»„ä»¶æŒ‚è½½å®Œæ¯•çš„æ—¶å€™,å½“å‰ç»„ä»¶ç»‘å®šä¸€ä¸ªäº‹ä»¶,æ¥å—å°†æ¥å…„å¼Ÿç»„ä»¶ä¼ é€’çš„æ•°æ®</span><br><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-comment">//ç¬¬ä¸€ä¸ªå‚æ•°:å³ä¸ºäº‹ä»¶ç±»å‹ ç¬¬äºŒä¸ªå‚æ•°:å³ä¸ºäº‹ä»¶å›è°ƒ</span><br>    $bus.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;car&quot;</span>,<span class="hljs-function">(<span class="hljs-params">car</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(car);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><p>v-modelæŒ‡ä»¤å¯ä»¥æ”¶é›†è¡¨å•æ•°æ®(æ•°æ®åŒå‘ç»‘å®š)ï¼Œé™¤æ­¤ä¹‹å¤–å®ƒä¹Ÿå¯ä»¥å®ç°çˆ¶å­ç»„ä»¶æ•°æ®åŒæ­¥ã€‚è€Œv-modelæ˜¯æŒ‡åˆ©ç”¨props[modelValue]ä¸è‡ªå®šä¹‰äº‹ä»¶[update:modelValue]å®ç°çš„ã€‚</p><h2 id="useAttrs"><a href="#useAttrs" class="headerlink" title="useAttrs"></a>useAttrs</h2><p>åœ¨Vue3ä¸­å¯ä»¥åˆ©ç”¨useAttrsæ–¹æ³•è·å–ç»„ä»¶çš„å±æ€§ä¸äº‹ä»¶(åŒ…å«:åŸç”ŸDOMäº‹ä»¶æˆ–è€…è‡ªå®šä¹‰äº‹ä»¶),æ¬¡å‡½æ•°åŠŸèƒ½ç±»ä¼¼äºVue2æ¡†æ¶ä¸­attrså±æ€§ä¸listenersæ–¹æ³•ã€‚</p><p>åœ¨çˆ¶ç»„ä»¶å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªå­ç»„ä»¶my-button</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Child</span> size=<span class="hljs-string">&quot;small&quot;</span> title=<span class="hljs-string">&quot;æ ‡é¢˜&quot;</span> @click=<span class="hljs-string">&quot;handler&quot;</span>&gt;&lt;/<span class="hljs-title class_">Child</span>&gt;<br></code></pre></td></tr></table></figure><p>å­ç»„ä»¶å†…éƒ¨å¯ä»¥é€šè¿‡useAttrsæ–¹æ³•è·å–ç»„ä»¶å±æ€§ä¸äº‹ä»¶.å› æ­¤ä½ ä¹Ÿå‘ç°äº†ï¼Œå®ƒç±»ä¼¼äºprops,å¯ä»¥æ¥å—çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å±æ€§ä¸å±æ€§å€¼ã€‚éœ€è¦æ³¨æ„å¦‚æœdefinePropsæ¥å—äº†æŸä¸€ä¸ªå±æ€§ï¼ŒuseAttrsæ–¹æ³•è¿”å›çš„å¯¹è±¡èº«ä¸Šå°±æ²¡æœ‰ç›¸åº”å±æ€§ä¸å±æ€§å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useAttrs &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">let</span> $attrs = <span class="hljs-title function_">useAttrs</span>();<br></code></pre></td></tr></table></figure><h2 id="refä¸-parent"><a href="#refä¸-parent" class="headerlink" title="refä¸$parent"></a>refä¸$parent</h2><p><strong>ref</strong>  å¯ä»¥åœ¨çˆ¶ç»„ä»¶å†…éƒ¨é€šè¿‡refè·å–å­ç»„ä»¶å®ä¾‹VCï¼Œå­ç»„ä»¶å†…éƒ¨çš„æ–¹æ³•ä¸å“åº”å¼æ•°æ®çˆ¶ç»„ä»¶å¯ä»¥ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Son</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;Son&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; onMounted, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> son = <span class="hljs-title function_">ref</span>()</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(son.<span class="hljs-property">value</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    </span></span><br><span class="language-javascript"><span class="language-xml">&#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å¦‚æœæƒ³è®©çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶çš„æ•°æ®æˆ–è€…æ–¹æ³•éœ€è¦é€šè¿‡<strong>defineExpose</strong>å¯¹å¤–æš´éœ²,å› ä¸ºvue3ä¸­ç»„ä»¶å†…éƒ¨çš„æ•°æ®å¯¹å¤–â€œå…³é—­çš„â€ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script lang=<span class="hljs-string">&quot;ts&quot;</span>&gt;<br><span class="hljs-keyword">import</span> &#123;  ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">let</span> money = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1000</span>)<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params"></span>)=&gt;&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-title function_">defineExpose</span>(&#123;<br>    money,<br>    handler<br>&#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p><strong>$parent</strong>å¯ä»¥è·å–æŸä¸€ä¸ªç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹VC,å› æ­¤å¯ä»¥ä½¿ç”¨çˆ¶ç»„ä»¶å†…éƒ¨çš„æ•°æ®ä¸æ–¹æ³•ã€‚å¿…é¡»å­ç»„ä»¶å†…éƒ¨æ‹¥æœ‰ä¸€ä¸ªæŒ‰é’®ç‚¹å‡»æ—¶å€™è·å–çˆ¶ç»„ä»¶å®ä¾‹ï¼Œå½“ç„¶çˆ¶ç»„ä»¶çš„æ•°æ®ä¸æ–¹æ³•éœ€è¦é€šè¿‡<strong>defineExposeæ–¹æ³•</strong>å¯¹å¤–æš´éœ²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;button @click=<span class="hljs-string">&quot;handler($parent)&quot;</span>&gt;ç‚¹å‡»&lt;/button&gt;<br></code></pre></td></tr></table></figure><h2 id="provideä¸injectã€æä¾›å’Œæ³¨å…¥ã€‘"><a href="#provideä¸injectã€æä¾›å’Œæ³¨å…¥ã€‘" class="headerlink" title="provideä¸injectã€æä¾›å’Œæ³¨å…¥ã€‘"></a>provideä¸injectã€æä¾›å’Œæ³¨å…¥ã€‘</h2><p>vue3æä¾›ä¸¤ä¸ªæ–¹æ³•provideä¸inject,å¯ä»¥å®ç°éš”è¾ˆç»„ä»¶ä¼ é€’å‚æ•°ã€‚</p><p>provideæ–¹æ³•ç”¨äºæä¾›æ•°æ®ï¼Œæ­¤æ–¹æ³•æ‰§éœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°,åˆ†åˆ«æä¾›æ•°æ®çš„keyä¸æä¾›æ•°æ®valueã€‚</p><p>æ³¨æ„ï¼šåä»£ç»„ä»¶ä¿®æ”¹çš„æ—¶å€™ï¼Œæºæ•°æ®ä¹Ÿä¼šä¿®æ”¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; provide &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-title function_">provide</span>(<span class="hljs-string">&#x27;token&#x27;</span>,<span class="hljs-string">&#x27;token&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åä»£ç»„ä»¶å¯ä»¥é€šè¿‡injectæ–¹æ³•è·å–æ•°æ®,é€šè¿‡keyè·å–å­˜å‚¨çš„æ•°å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;infect&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">let</span> token = <span class="hljs-title function_">infect</span>(<span class="hljs-string">&#x27;token&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="pinia"><a href="#pinia" class="headerlink" title="pinia"></a>pinia</h2><h3 id="piniaçš„ç‰¹ç‚¹"><a href="#piniaçš„ç‰¹ç‚¹" class="headerlink" title="piniaçš„ç‰¹ç‚¹"></a>piniaçš„ç‰¹ç‚¹</h3><ul><li>æ”¯æŒ<code>options api</code>Â å’ŒÂ <code>composition api</code></li><li>å»é™¤ <code>mutations</code> æ¯”vuexæ›´åŠ ç²¾ç®€</li><li>åœ¨é¡µé¢æˆ–è€…ç»„ä»¶ç›´æ¥å¼•ç”¨åä½¿ç”¨, æ•°æ®æ¥æºæ›´åŠ æ¸…æ™°è°ƒè¯•æ›´åŠ æ–¹ä¾¿</li><li>å…¨é¢çš„<code>TypeScript</code>æ”¯æŒ</li><li>æœåŠ¡å™¨ç«¯æ¸²æŸ“æ”¯æŒ</li><li>è½»é‡ å‹ç¼©åçš„ä½“ç§¯åªæœ‰1kbå·¦å³</li></ul><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install pinia <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())<br></code></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//store/index.ts</span><br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createPinia</span>()<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store&#x27;</span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">create</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-title function_">use</span>(store)<br></code></pre></td></tr></table></figure><h3 id="æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ä½¿ç”¨"><a href="#æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ä½¿ç”¨" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ä½¿ç”¨"></a>æ ¸å¿ƒæ¦‚å¿µä¸åŸºæœ¬ä½¿ç”¨</h3><h3 id="åˆ›å»ºStore"><a href="#åˆ›å»ºStore" class="headerlink" title="åˆ›å»ºStore"></a>åˆ›å»ºStore</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-comment">// defineStore ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯idï¼Œå¿…éœ€ä¸”å€¼å”¯ä¸€</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;user&#x27;</span>, &#123;<br>  <span class="hljs-comment">//stateè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œé˜²æ­¢ä½œç”¨åŸŸæ±¡æŸ“</span><br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">userInfo</span>: &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;zhangsan&#x27;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>,<br>      &#125;,<br>      <span class="hljs-attr">token</span>: <span class="hljs-string">&#x27;S1&#x27;</span>,<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-attr">getNewName</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">userInfo</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;vip&#x27;</span>,<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">//æ›´æ–°æ•´ä¸ªå¯¹è±¡</span><br>    <span class="hljs-title function_">updateUserInfo</span>(<span class="hljs-params">userInfo: &#123; name: string; age: number &#125;</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">userInfo</span> = userInfo;<br>    &#125;,<br>    <span class="hljs-comment">//æ›´æ–°å¯¹è±¡ä¸­æŸä¸ªå±æ€§</span><br>    <span class="hljs-title function_">updateAge</span>(<span class="hljs-params">age: number</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">userInfo</span>.<span class="hljs-property">age</span> = age;<br>    &#125;,<br>    <span class="hljs-comment">//æ›´æ–°åŸºç¡€æ•°æ®ç±»å‹</span><br>    <span class="hljs-title function_">updateToken</span>(<span class="hljs-params">token: string</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">token</span> = token;<br>    &#125;,<br>  &#125;,<br>&#125;);<br><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨store"><a href="#ä½¿ç”¨store" class="headerlink" title="ä½¿ç”¨store"></a>ä½¿ç”¨store</h3><p>store æ˜¯ä¸€ä¸ªç”¨ reactive åŒ…è£…çš„å¯¹è±¡ï¼Œç›´æ¥è§£æ„è¯»å–stateä¼šå¤±å»å“åº”å¼ï¼Œå› æ­¤éœ€è¦storeToRefsï¼Œå®ƒå°†ä¸ºæ¯ä¸€ä¸ªå“åº”å¼å±æ€§åˆ›å»ºå¼•ç”¨ï¼›éœ€é€šè¿‡ .value è¯»å–è§£æ„å‡ºæ¥çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å§“åï¼š&#123;&#123; userInfo.name &#125;&#125; å¹´é¾„ï¼š&#123;&#123; userInfo.age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>tokenï¼š&#123;&#123; token &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>getterå€¼ï¼š&#123;&#123; newName &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleUser&quot;</span>&gt;</span>æ›´æ–°ç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleAge&quot;</span>&gt;</span>æ›´æ–°å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleToken&quot;</span>&gt;</span>æ›´æ–°token<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; storeToRefs &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; useUserStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/store/user&#x27;</span>; <span class="hljs-comment">//è·¯å¾„åˆ«åï¼Œå¼•å…¥store</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//storeToRefs ä¼šè·³è¿‡æ‰€æœ‰çš„ action å±æ€§</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> &#123; userInfo, token, newName &#125; = <span class="hljs-title function_">storeToRefs</span>(userStore);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//action å±æ€§ç›´æ¥è§£æ„</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> &#123; updateUserInfo, updateAge, updateToken &#125; = userStore;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleUser</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">updateUserInfo</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;lisi&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span> &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAge</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//userInfoæ˜¯ä¸€ä¸ªrefå“åº”å¼å¼•ç”¨ï¼Œéœ€é€šè¿‡.valueå–å€¼</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">updateAge</span>(userInfo.<span class="hljs-property">value</span>.<span class="hljs-property">age</span> + <span class="hljs-number">1</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleToken</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">updateToken</span>(<span class="hljs-string">&#x27;23234&#x27;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="å¼‚æ­¥-actions"><a href="#å¼‚æ­¥-actions" class="headerlink" title="å¼‚æ­¥ actions"></a>å¼‚æ­¥ actions</h3><p>é™¤äº†ä¸Šé¢å±•ç¤ºçš„åŒæ­¥actionï¼Œactionä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„</p><p>æ–°å»ºstore&#x2F;list.ts</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">getData</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;number&gt;(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>);<br>    &#125;, <span class="hljs-number">200</span>);<br>  &#125;);<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useListStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;list&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">list</span>: [] <span class="hljs-keyword">as</span> number[],<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-keyword">async</span> <span class="hljs-title function_">updateList</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getData</span>();<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(data);<br>      &#125; <span class="hljs-keyword">catch</span> &#123;<br>        <span class="hljs-comment">/* empty */</span><br>      &#125;<br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="store-çš„ç›¸äº’å¼•ç”¨"><a href="#store-çš„ç›¸äº’å¼•ç”¨" class="headerlink" title="store çš„ç›¸äº’å¼•ç”¨"></a>store çš„ç›¸äº’å¼•ç”¨</h3><p>æ¯ä¸ªstoreå¯çœ‹åšä¸€ä¸ªhookã€‚ç›¸äº’å¼•ç”¨å³è°ƒç”¨ä¸åŒhook</p><p>æ–°å»ºstore&#x2F;userSex.ts</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; useUserStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./user&#x27;</span>;<br><br>enum <span class="hljs-title class_">Sex</span> &#123;<br>  man = <span class="hljs-string">&#x27;ç”·äºº&#x27;</span>,<br>  woman = <span class="hljs-string">&#x27;å¥³äºº&#x27;</span>,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> userSexStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;user2&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">sex</span>: <span class="hljs-title class_">Sex</span>.<span class="hljs-property">man</span>,<br>    &#125;;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">updateSex</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>();  <span class="hljs-comment">// å¼•ç”¨å…¶ä»–store</span><br>      <span class="hljs-keyword">if</span> (userStore.<span class="hljs-property">userInfo</span>.<span class="hljs-property">name</span> !== <span class="hljs-string">&#x27;zhangsan&#x27;</span>) <span class="hljs-variable language_">this</span>.<span class="hljs-property">sex</span> = <span class="hljs-title class_">Sex</span>.<span class="hljs-property">woman</span>;<br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="è·¯ç”±é’©å­ä¸­ä½¿ç”¨store"><a href="#è·¯ç”±é’©å­ä¸­ä½¿ç”¨store" class="headerlink" title="è·¯ç”±é’©å­ä¸­ä½¿ç”¨store"></a>è·¯ç”±é’©å­ä¸­ä½¿ç”¨store</h3><p>ä½¿ç”¨storeçš„å‰ææ˜¯ä¿è¯piniaå·²è¢«æ³¨å†Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useUserStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/store/user&#x27;</span>;<br><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// è¿™æ ·åšæ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºè·¯ç”±å™¨æ˜¯åœ¨å…¶è¢«å®‰è£…ä¹‹åå¼€å§‹å¯¼èˆªçš„ï¼Œ</span><br>  <span class="hljs-comment">// è€Œæ­¤æ—¶ Pinia ä¹Ÿå·²ç»è¢«å®‰è£…ã€‚</span><br>  <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>();<br>  <span class="hljs-keyword">if</span> (!userStore.<span class="hljs-property">token</span> &amp;&amp; to.<span class="hljs-property">path</span> !== <span class="hljs-string">&quot;/login&quot;</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/login&quot;</span>;<br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="slot"><a href="#slot" class="headerlink" title="slot"></a>slot</h2><p>æ’æ§½ï¼šé»˜è®¤æ’æ§½ã€å…·åæ’æ§½ã€ä½œç”¨åŸŸæ’æ§½å¯ä»¥å®ç°çˆ¶å­ç»„ä»¶é€šä¿¡.</p><p><strong>é»˜è®¤æ’æ§½</strong></p><p>åœ¨å­ç»„ä»¶å†…éƒ¨çš„æ¨¡æ¿ä¸­ä¹¦å†™slotå…¨å±€ç»„ä»¶æ ‡ç­¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>åœ¨çˆ¶ç»„ä»¶å†…éƒ¨æä¾›ç»“æ„ï¼šTodoå³ä¸ºå­ç»„ä»¶,åœ¨<strong>çˆ¶ç»„ä»¶</strong>å†…éƒ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåœ¨åŒæ ‡ç­¾å†…éƒ¨ä¹¦å†™ç»“æ„<strong>ä¼ é€’ç»™å­ç»„ä»¶</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;<span class="hljs-title class_">Todo</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å¡«å……é»˜è®¤æ’æ§½<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">Todo</span>&gt;<br></code></pre></td></tr></table></figure><p><strong>å…·åæ’æ§½</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>todo<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;a&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;b&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;ts&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶å†…éƒ¨å‘æŒ‡å®šçš„å…·åæ’æ§½ä¼ é€’ç»“æ„ã€‚éœ€è¦æ³¨æ„v-slotï¼šå¯ä»¥æ›¿æ¢ä¸º#</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Todo</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å¡«å…¥ç»„ä»¶a<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:b</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å¡«å…¥ç»„ä»¶b<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">Todo</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p><strong>ä½œç”¨åŸŸæ’æ§½</strong></p><p>å­ç»„ä»¶æ•°æ®ç”±çˆ¶ç»„ä»¶æä¾›ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18b230f1063742099c319d57fee17e5e~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d08adb0fe2f4a63bbf306281fe024a0~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>]]></content>
    
    
    
    <tags>
      
      <tag>Vue3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ‡Nuxt3</title>
    <link href="/2023/04/15/nuxtjs/"/>
    <url>/2023/04/15/nuxtjs/</url>
    
    <content type="html"><![CDATA[<h1 id="Nuxt3"><a href="#Nuxt3" class="headerlink" title="Nuxt3"></a>Nuxt3</h1><h2 id="ä¸€ã€Nuxt3ç®€ä»‹å’Œå¼€å‘ç¯å¢ƒæ­å»º"><a href="#ä¸€ã€Nuxt3ç®€ä»‹å’Œå¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="ä¸€ã€Nuxt3ç®€ä»‹å’Œå¼€å‘ç¯å¢ƒæ­å»º"></a>ä¸€ã€Nuxt3ç®€ä»‹å’Œå¼€å‘ç¯å¢ƒæ­å»º</h2><p>Nuxt3æ˜¯Vue3å…¨å®¶æ¡¶çš„ä¸€å‘˜ï¼Œè®©ä½ èƒ½è½»æ¾å®ç°SSRç½‘é¡µçš„åˆ¶ä½œã€‚Nuxt3æ¯”Nuxt2æ–°å¢åŠ äº†12é¡¹æœ€æ–°çš„ç‰¹æ€§ï¼ŒåŒ…æ‹¬å¯ä»¥å®Œå…¨ä½¿ç”¨Vue3çš„æ‰€æœ‰è¯­æ³•ï¼Œå¹¶ä¸”å¯¹TypeScriptçš„å®Œç¾æ”¯æŒã€‚</p><h3 id="1-Nuxt3çš„ç®€ä»‹"><a href="#1-Nuxt3çš„ç®€ä»‹" class="headerlink" title="1.Nuxt3çš„ç®€ä»‹"></a>1.Nuxt3çš„ç®€ä»‹</h3><p>Nuxt3æ˜¯åŸºäºVue3å‘å¸ƒçš„SSRæ¡†æ¶ï¼Œä¹Ÿæ˜¯Vueå…¨å®¶æ¡¶ç³»åˆ—çš„ä¸€å‘˜ã€‚å¦‚æœä½ äº†è§£Nuxt2ï¼Œåº”è¯¥ä¹Ÿäº†è§£Nuxt3çš„ä½¿å‘½å’Œç”¨é€”ã€‚ä½†æ˜¯å¦‚æœä½ ä¸äº†è§£ï¼Œä½ éœ€è¦å…ˆçŸ¥é“ä¸¤ä¸ªæ¦‚å¿µã€‚</p><ul><li><p>SPAåº”ç”¨ï¼šä¹Ÿå°±æ˜¯å•é¡µåº”ç”¨ï¼Œè¿™äº›å¤šæ˜¯åœ¨å®¢æˆ·ç«¯çš„åº”ç”¨ï¼Œä¸èƒ½è¿›è¡ŒSEOä¼˜åŒ–ï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰ã€‚</p></li><li><p>SSRåº”ç”¨ï¼šåœ¨æœåŠ¡ç«¯è¿›è¡Œæ¸²æŸ“ï¼Œæ¸²æŸ“å®Œæˆåè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ¯ä¸ªé¡µé¢æœ‰ç‹¬ç«‹çš„URLï¼Œå¯¹SEOå‹å¥½ã€‚</p></li></ul><p>æ‰€ä»¥å¦‚æœä½ å¼€å‘çš„åº”ç”¨æ˜¯ä¼ä¸šç½‘ç«™ã€å•†å“å±•ç¤º ã€åšå®¢è¿™ç±»å‹çš„å±•ç¤ºå‹ç½‘ç«™ï¼Œå°±éœ€è¦ä½¿ç”¨æœç´¢å¼•æ“å–œæ¬¢çš„SSRåº”ç”¨ã€‚</p><p>å½“æˆ‘ä»¬æ˜ç™½è¿™ä¸¤ä¸ªæ¦‚å¿µåï¼Œå†æ¥çœ‹Nuxt3çš„ä½¿å‘½ã€‚å› ä¸ºVueå¼€å‘çš„åº”ç”¨é»˜è®¤æ˜¯å•é¡µåº”ç”¨ï¼ˆSPAåº”ç”¨ï¼‰ï¼Œä½†å¦‚æœä½ æƒ³é’ˆå¯¹äºæœç´¢ä¼˜åŒ–ï¼Œå°±éœ€è¦ä½¿ç”¨Vueçš„SSRæ¨¡å¼å¼€å‘ï¼Œè€ŒNuxt3å°±æ˜¯Vueçš„SSRå¼€å‘çš„æ¡†æ¶ã€‚</p><h3 id="2-Nuxt3-çš„å®‰è£…"><a href="#2-Nuxt3-çš„å®‰è£…" class="headerlink" title="2.Nuxt3 çš„å®‰è£…"></a>2.Nuxt3 çš„å®‰è£…</h3><p>å®‰è£…node</p><p>å®‰è£…vue</p><p>åˆ›å»ºä¸€ä¸ªnuxté¡¹ç›®ï¼š<strong>npx nuxi init nuxt3-test</strong></p><p>æ³¨æ„ï¼šnpxæ˜¯npmä»5.2ç‰ˆå¼€å§‹å¢åŠ çš„å‘½ä»¤ï¼Œæ‰€ä»¥è¯´ä½ çš„ npm æœ€å°ç‰ˆæœ¬ä¹Ÿè¦æ˜¯5.2ç‰ˆæœ¬ã€‚æŸ¥çœ‹npmç‰ˆæœ¬çš„å‘½ä»¤å¦‚ä¸‹ã€‚</p><p>npm -v</p><p>Nuxt3å®‰è£…æˆåŠŸé¡µé¢ ä¸Šé¢è¿™æ®µæç¤ºï¼Œä¹Ÿå‘Šè¯‰æˆ‘ä»¬äº†æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ­¥éª¤ã€‚</p><p><strong>cd nuxt3-test</strong></p><p><strong>npm install</strong>æ¥å®‰è£…é¡¹ç›®ä¾èµ–åŒ…ã€‚</p><p><strong>npm run dev</strong>æ¥è¿è¡Œé¡¹ç›®ã€‚</p><h3 id="3-Nuxt3çš„ä¼˜åŠ¿ä»‹ç»"><a href="#3-Nuxt3çš„ä¼˜åŠ¿ä»‹ç»" class="headerlink" title="3.Nuxt3çš„ä¼˜åŠ¿ä»‹ç»"></a>3.Nuxt3çš„ä¼˜åŠ¿ä»‹ç»</h3><p>å½“æˆ‘ä»¬åŠ¨æ‰‹æ“ä½œå®Œäº†ï¼Œæˆ‘ä»¬å†ç®€å•ä»‹ç»ä¸€ä¸‹Nuxt3å¯¹æ¯”Nuxt2çš„ä¼˜åŠ¿æˆ–è€…è¯´ä½œäº†é‚£äº›æ”¹è¿›ã€‚</p><p>æ›´è½»é‡ï¼šä»¥ç°ä»£æµè§ˆå™¨ä¸ºåŸºç¡€çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨éƒ¨ç½²å’Œå®¢æˆ·ç«¯äº§ç‰©æœ€å¤šå‡å°75å€ã€‚</p><p>æ›´å¿«ï¼šç”¨åŠ¨æ€æœåŠ¡ç«¯ä»£ç æ¥ä¼˜åŒ–å†·å¯åŠ¨ã€‚</p><p>Hybirdï¼šå¢é‡åŠ¨æ€ç”Ÿæˆå’Œå…¶ä»–é«˜çº§æ¨¡å¼ç°åœ¨éƒ½æˆä¸ºå¯èƒ½ã€‚</p><p>Suspense: å¯¼èˆªå‰åå¯åœ¨ä»»ä½•ç»„ä»¶ä¸­è·å–æ•°æ®ã€‚</p><p>Composition API : ä½¿ç”¨Composition API å’Œ Nuxt3çš„composables å®ç°çœŸæ­£çš„å¯å¤ç”¨æ€§ã€‚</p><p>Nuxt CLI ï¼š æƒé™çš„é›¶ä¾èµ–ä½“éªŒï¼ŒåŠ©ä½ è½»æ¾æ­å»ºé¡¹ç›®å’Œé›†æˆæ¨¡å—ã€‚</p><p>Nuxt Devtools ï¼šä¸“å±è°ƒè¯•å·¥å…·ï¼Œæ›´å¤šçš„ä¿¡æ¯å’Œå¿«é€Ÿä¿®å¤ï¼Œåœ¨æµè§ˆå™¨ä¸­é«˜æ•ˆå·¥ä½œã€‚</p><p>Nuxt Kit ï¼šå…¨æ–°çš„åŸºäº TypeScript å’Œè·¨ç‰ˆæœ¬å…¼å®¹çš„æ¨¡å—å¼€å‘ã€‚</p><p>Webpack5 ï¼š æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´å°çš„æ„å»ºåŒ…ï¼Œå¹¶ä¸”é›¶é…ç½®ã€‚</p><p>Viteï¼šç”¨Viteä½œä¸ºä½ çš„æ‰“åŒ…å™¨ï¼Œä½“éªŒè½»é‡çº§çš„å¿«é€ŸHMRã€‚</p><p>Vue3 ï¼š å®Œå…¨æ”¯æŒVue3è¯­æ³•ï¼Œè¿™ä¸€ç‚¹ç‰¹åˆ«å…³é”®ã€‚</p><p>TypeScriptï¼šç”±åŸç”ŸTypeScriptå’ŒESMæ„æˆï¼Œæ²¡æœ‰é¢å¤–é…ç½®æ­¥éª¤ã€‚</p><h2 id="äºŒã€-Nuxt3çš„åŸºç¡€ç›®å½•ç»“æ„"><a href="#äºŒã€-Nuxt3çš„åŸºç¡€ç›®å½•ç»“æ„" class="headerlink" title="äºŒã€ Nuxt3çš„åŸºç¡€ç›®å½•ç»“æ„"></a>äºŒã€ Nuxt3çš„åŸºç¡€ç›®å½•ç»“æ„</h2><p>Nuxt3çš„ç›®å½•ç»“æ„</p><p>é»˜è®¤çš„é¡¹ç›®é‡Œå°±å¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶å’Œç›®å½•</p><ul><li>.nuxt               &#x2F;&#x2F; è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•ï¼Œç”¨äºå±•ç¤ºç»“æœ</li><li>node_modules        &#x2F;&#x2F; é¡¹ç›®ä¾èµ–åŒ…å­˜æ”¾ç›®å½•</li><li>.gitignore          &#x2F;&#x2F; Gitçš„é…ç½®ç›®å½•ï¼Œæ¯”å¦‚ä¸€äº›æ–‡ä»¶ä¸ç”¨Gitç®¡ç†å°±å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­é…ç½®</li><li>app.vue             &#x2F;&#x2F; é¡¹ç›®å…¥å£æ–‡ä»¶ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé…ç½®è·¯ç”±çš„å‡ºå£</li><li>nuxt.config.ts      &#x2F;&#x2F; nuxté¡¹ç›®çš„é…ç½®æ–‡ä»¶ ï¼Œè¿™ä¸ªé‡Œè¾¹å¯ä»¥é…ç½®Nuxté¡¹ç›®çš„æ–¹æ–¹é¢é¢</li><li>package-lock.json   &#x2F;&#x2F; é”å®šå®‰è£…æ—¶åŒ…çš„ç‰ˆæœ¬ï¼Œä»¥ä¿è¯å…¶ä»–äººåœ¨ npm installæ—¶å’Œä½ ä¿æŒä¸€è‡´</li><li>package.json        &#x2F;&#x2F; åŒ…çš„é…ç½®æ–‡ä»¶å’Œé¡¹ç›®çš„å¯åŠ¨è°ƒå¼å‘½ä»¤é…ç½®</li><li>README.md           &#x2F;&#x2F; é¡¹ç›®çš„è¯´æ˜æ–‡ä»¶</li><li>tsconfig.json       &#x2F;&#x2F; TypeScriptçš„é…ç½®æ–‡ä»¶</li></ul><p>éšç€æˆ‘ä»¬çš„å¼€å‘ç›®å½•ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œæ¯”å¦‚å¸¸ç”¨çš„è¿˜æœ‰ä¸‹é¢ä¸‰ä¸ªç›®å½•ã€‚</p><ul><li>pages               &#x2F;&#x2F; å¼€å‘çš„é¡µé¢ç›®å½•</li><li>components          &#x2F;&#x2F; ç»„ä»¶ç›®å½•</li><li>assets              &#x2F;&#x2F; é™æ€èµ„æºç›®å½•</li><li>layouts             &#x2F;&#x2F; é¡¹ç›®å¸ƒå±€ç›®å½•</li></ul><h2 id="ä¸‰ã€ç¼–å†™Hello-Worldç¨‹åº"><a href="#ä¸‰ã€ç¼–å†™Hello-Worldç¨‹åº" class="headerlink" title="ä¸‰ã€ç¼–å†™Hello Worldç¨‹åº"></a>ä¸‰ã€ç¼–å†™Hello Worldç¨‹åº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;NuxtWelcome /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­**<NuxtWelcome />**å°±æ˜¯ä¸€ä¸ªæ¡†æ¶è‡ªå¸¦çš„ç»„ä»¶ï¼Œæˆ‘ä»¬ç›´æ¥åˆ é™¤å°±å¯ä»¥ï¼Œä¸ç”¨çº ç»“åˆ é™¤è¿™ä¸ªç»„ä»¶ã€‚</p><p>åˆ é™¤åï¼Œåœ¨ \components ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå«åšHelloWorld.vue ç„¶åç¼–å†™ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;&quot;&gt;<br>    &lt;h1&gt;Hello World&lt;/h1&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br>&lt;script setup&gt;<br>import &#123;&#125; from &quot;vue&quot;;<br>&lt;/script&gt;<br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure><p>ç„¶åå†å›åˆ°app.vueæ–‡ä»¶ä¸­ç›´æ¥å†™å…¥è¿™ä¸ª HelloWorldç»„ä»¶ã€‚ã€æ³¨æ„è¿™é‡Œç»„ä»¶çš„å¼•å…¥æ–¹å¼æ˜¯é€šè¿‡å°å†™å¹¶è¿æ¥èµ·æ¥å¼•å…¥çš„ã€‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;hello-world /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h2 id="å››ã€Nuxt3é¡µé¢å’Œçº¦å®šè·¯ç”±çš„ä½¿ç”¨"><a href="#å››ã€Nuxt3é¡µé¢å’Œçº¦å®šè·¯ç”±çš„ä½¿ç”¨" class="headerlink" title="å››ã€Nuxt3é¡µé¢å’Œçº¦å®šè·¯ç”±çš„ä½¿ç”¨"></a>å››ã€Nuxt3é¡µé¢å’Œçº¦å®šè·¯ç”±çš„ä½¿ç”¨</h2><h3 id="1ã€Nuxt3åˆ›å»ºé¡µé¢"><a href="#1ã€Nuxt3åˆ›å»ºé¡µé¢" class="headerlink" title="1ã€Nuxt3åˆ›å»ºé¡µé¢"></a>1ã€Nuxt3åˆ›å»ºé¡µé¢</h3><p>Nuxt3çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯çº¦å®šå¼å¼€å‘ï¼Œè®²ç©¶çš„æ˜¯çº¦å®šå¤§äºé…ç½®ã€‚ç”¨Nuxt3å°±è¦éµå®ˆNuxt3çš„è§„åˆ™ä¸€æ ·ï¼Œæ¡†æ¶éƒ½å·²ç»ä¸ºä½ åšå¥½å„ç§é…ç½®äº†ï¼Œä½ åªè¦éµå®ˆè§„åˆ™å°±å¯ä»¥äº†ã€‚ </p><p>å½“ä½ äº†è§£ä»€ä¹ˆæ˜¯â€œçº¦å®šå¼å¼€å‘â€åï¼Œå†æ¥çœ‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªNuxt3çš„é¡µé¢ã€‚</p><p>æˆ‘ä»¬æŒ‰ç…§æ¡†æ¶çº¦å®šæ–°å»ºä¸€ä¸ªpages çš„æ–‡ä»¶å¤¹ï¼Œç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶Demo1.vue ã€‚æ³¨æ„ï¼Œä¸Šé¢è¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œå°±æ˜¯çº¦å®šå¼€å‘ï¼Œä½ å¿…é¡»è¿™ä¹ˆä½œï¼Œå¦åˆ™æ¡†æ¶å°±ä¸è®¤ä¸ºä½ æ˜¯ä¸€ä¸ªé¡µé¢ã€‚</p><ul><li>VSCodeè‡ªå®šä¹‰ä»£ç ç‰‡æ®µ</li></ul><p>è¿™é‡Œå†åˆ†äº«ä¸€ä¸ªå°æŠ€å·§ï¼Œæ¯”å¦‚æ¯æ¬¡æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œéƒ½ä¼šæœ‰å¾ˆå¤šç›¸åŒçš„ä»£ç ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨VSCodeçš„ç”¨æˆ·ä»£ç ç‰‡æ®µ åŠŸèƒ½ã€‚</p><p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨VSCodeç•Œé¢çš„å·¦ä¸‹è§’çš„é½¿è½®å›¾æ ‡ä¸­æ‰¾åˆ°ã€‚ æ‰¾åˆ°åæ–°å»ºä¸€ä¸ªNuxtçš„ç‰‡æ®µå°±å¯ä»¥äº†ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>  <span class="hljs-string">&quot;nuxt&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;prefix&quot;</span>:<span class="hljs-string">&quot;nuxt&quot;</span>,<br>    <span class="hljs-string">&quot;body&quot;</span>:[<br>        <span class="hljs-string">&quot;&lt;template&gt;&quot;</span>,<br>            <span class="hljs-string">&quot;  &lt;div class=\&quot;\&quot;&gt;&lt;/div&gt;&quot;</span>,<br>        <span class="hljs-string">&quot;&lt;/template&gt;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&lt;script setup&gt;&quot;</span>,<br>        <span class="hljs-string">&quot;import &#123;&#125; from &#x27;vue&#x27;&quot;</span>,<br>        <span class="hljs-string">&quot;&lt;/script&gt;&quot;</span>,<br>        <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;&lt;style scoped&gt;&lt;/style&gt;&quot;</span>,<br>    ],<br>    <span class="hljs-string">&quot;description&quot;</span>:<span class="hljs-string">&quot;nuxt3 Components&quot;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ–°å»ºå¥½ä¹‹åï¼Œæˆ‘ä»¬å†æ¬¡å›åˆ°VSCodeä¸­çš„Demo1.vueé¡µé¢ï¼Œç›´æ¥è¾“å…¥ nuxt å›è½¦åï¼Œå°±ä¼šç”Ÿæˆä¸€æ®µä»£ç äº†ã€‚</p><p><a href="https://postimg.cc/rD18gJH9"><img src="https://i.postimg.cc/kgZBJYFL/image.png" alt="image.png"></a></p><p>æ–°çš„é¡µé¢å»ºå¥½äº†ï¼Œå†è¡¥å……ä¸€ä¸‹é¡µé¢å†…å®¹ã€‚</p><template>  <div class=""><h1>Demo01</h1></div></template><p><strong>çº¦å®šè·¯ç”±</strong></p><p>å½“ä¸€ä¸ªé¡µé¢å»ºç«‹å¥½ä»¥åï¼Œå¦‚ä½•èƒ½è®¿é—®åˆ°è¿™ä¸ªé¡µé¢ ? ä¹Ÿæ˜¯ä¸€ä¸ªä¸èƒ½å¿½è§†çš„é—®é¢˜ã€‚æ—¢ç„¶æ˜¯çº¦å®šå¼€å‘ï¼Œè‚¯å®šæ˜¯æœ‰ä¸€ä¸ªçº¦å®šçš„ã€‚</p><p> é¦–å…ˆç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„app.vueæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ <Nuxtpage> æ ‡ç­¾ï¼Œè¿™å°±ç›¸å½“äºè·¯ç”±çš„å‡ºå£äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">hello-world</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">NuxtPage</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">NuxtPage</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¿™ä¸ªé¡µé¢ï¼Œæƒ³è¦è®¿é—®åˆ°ï¼Œå…¶å®åªè¦åœ¨åœ°å€æ è¾“å…¥ä¸‹é¢çš„åœ°å€å°±å¯ä»¥äº†ã€‚</p><p><a href="http://localhost:3000/demo1">http://localhost:3000/demo1</a></p><p>ä½†æ˜¯å¦‚æœä½ ä½¿ç”¨åŸæ¥çš„<a href="http://localhost:3000å°±åˆè®¿é—®ï¼Œä¼šæ˜¾ç¤º404ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥æ–°å»ºä¸€ä¸ª">http://localhost:3000å°±åˆè®¿é—®ï¼Œä¼šæ˜¾ç¤º404ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥æ–°å»ºä¸€ä¸ª</a> åœ¨pagesæ–‡ä»¶å¤¹ä¸‹index.vue é¡µé¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™åœ¨è®¿é—®<a href="http://localhost:3000å°±å¯ä»¥è®¿é—®åˆ°é¡µé¢äº†ã€‚">http://localhost:3000å°±å¯ä»¥è®¿é—®åˆ°é¡µé¢äº†ã€‚</a></p><h3 id="2ã€NuxtLinkæ ‡ç­¾çš„ä½¿ç”¨"><a href="#2ã€NuxtLinkæ ‡ç­¾çš„ä½¿ç”¨" class="headerlink" title="2ã€NuxtLinkæ ‡ç­¾çš„ä½¿ç”¨"></a>2ã€NuxtLinkæ ‡ç­¾çš„ä½¿ç”¨</h3><p>Nuxtæ¡†æ¶ä¸é¼“åŠ±æˆ‘ä»¬ä½¿ç”¨<a> æ ‡ç­¾è¿›è¡Œè·³è½¬ï¼Œè€Œæ˜¯ä½¿ç”¨<NuxtLink></NuxtLink>æ ‡ç­¾è¿›è¡Œè·³è½¬ã€‚æ¯”å¦‚æˆ‘ä»¬è¦ä» index.vueé¡µé¢è·³è½¬åˆ°demo1.vueé¡µé¢ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œè·³è½¬ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/demo1&quot;</span>&gt;</span>Demo1.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªé¡µé¢å†™å®Œåï¼Œå¯ä»¥åˆ°æµè§ˆå™¨ä¸­é¢„è§ˆä¸€ä¸‹æ•ˆæœã€‚åŸºæœ¬å°±å¯ä»¥çœ‹åˆ°NuxtLinkæ ‡ç­¾çš„ä½œç”¨äº†ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å­¦ä¹ äº†ä¸‰ä¸ªçŸ¥è¯†ï¼Œæˆ‘ä»¬è¿›è¡Œæ€»ç»“ä¸€ä¸‹ã€‚</p><p>Nuxt3æ˜¯çº¦å®šå¤§äºé…ç½®çš„å¼€å‘ã€‚</p><p>VSCode è‡ªå®šä¹‰ç”¨æˆ·ä»£ç ç‰‡æ®µçš„æ–¹æ³•</p><p>çº¦å®šè·¯ç”±å’Œ<NuxtLink>æ ‡ç­¾çš„ä½¿ç”¨æ–¹æ³•</p><h2 id="äº”ã€Nuxt3åŠ¨æ€è·¯ç”±çš„ä½¿ç”¨"><a href="#äº”ã€Nuxt3åŠ¨æ€è·¯ç”±çš„ä½¿ç”¨" class="headerlink" title="äº”ã€Nuxt3åŠ¨æ€è·¯ç”±çš„ä½¿ç”¨"></a>äº”ã€Nuxt3åŠ¨æ€è·¯ç”±çš„ä½¿ç”¨</h2><p>å•å‚æ•°çš„ä¼ é€’</p><p>å•å‚æ•°çš„ä¼ é€’åªè¦åœ¨é¡µé¢çš„æ–‡ä»¶åä¸­ç”¨[ ]æ‰©èµ·æ¥å°±å¯ä»¥äº†ã€‚æ¯”å¦‚æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå«åš demo2-[id].vueã€‚</p><p>-| pages&#x2F;<br>â€”| index.vue<br>â€”| demo2-[id].vue</p><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä½¿ç”¨[ ]çš„å½¢å¼å°±å¯ä»¥è®¾ç½®ä¸€ä¸ªé¡µé¢çš„ä¼ å‚ã€‚å‚æ•°æ¥æ”¶å¯ä»¥ä½¿ç”¨ $route.params.idçš„å½¢å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è·å–çš„id:&#123;&#123; $route.params.id &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å»é¦–é¡µåˆ¶ä½œä¸€ä¸ªé“¾æ¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/demo1&quot;</span>&gt;</span>Demo1.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/demo2-38&quot;</span>&gt;</span>Demo2.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™å†åˆ°æµè§ˆå™¨é¢„è§ˆä¸€ä¸‹ï¼Œè°ƒæ•´åèƒ½å¾—åˆ°IDï¼Œå¯ä»¥äº†ã€‚</p><p>åœ¨scripté‡Œè·å–å‚æ•°</p><p>ä¸Šé¢åªæ˜¯åœ¨é¡µé¢ä¸­è·å–äº†å‚æ•°ï¼Œå®é™…ä½œç”¨å¹¶ä¸å¤§ã€‚å·¥ä½œä¸­è·å–å‚æ•°åï¼Œéƒ½è¦è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„å¤„ç†ï¼Œæ‰€ä»¥åœ¨<code>&lt;script&gt;</code>æ ‡ç­¾é‡Œè·å–å‚æ•°ï¼Œæ‰æ˜¯çœŸå®çš„å¼€å‘éœ€æ±‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è·å–çš„id:&#123;&#123; id &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>();</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> id = <span class="hljs-title function_">ref</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç é€šè¿‡useRoute( ) è·å¾—äº†route,ç„¶åé€šè¿‡refè®©templateå¯ç”¨(id)ã€‚</p><p>å¤šå‚æ•°çš„è·å–</p><p>æœ‰äººè¯´æ˜¯ä¸æ˜¯å†å†™ä¸€ä¸ªæ‹¬å·å°±å¯ä»¥ä¼ é€’å¤šä¸€ä¸ªå‚æ•°äº†ï¼Œè¿™ç§æ˜¯ä¸è¡Œçš„ã€‚å¦‚æœä½ è¦ä¼ é€’æ˜¯ä¸¤ä¸ªå‚æ•°ã€‚ä½ éœ€è¦å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨æ–‡ä»¶å¤¹ä¸Šä½¿ç”¨[ ]æ¥ç¡®å®šå‚æ•°ã€‚æ¯”å¦‚æˆ‘ä»¬è¦ä¼ é€’ä¸€ä¸ªnameçš„å‚æ•°è¿‡æ¥ã€‚å°±éœ€è¦æŠŠç›®å½•å’Œæ–‡ä»¶å»ºç«‹æˆè¿™æ ·ã€‚</p><p>-|  pages&#x2F;<br>â€”| index.vue<br>â€”| goods-[name]&#x2F;<br>â€”â€“| demo2-[id].vue<br>ç„¶åä¿®æ”¹ä¸€äº›demo2-[id].vueçš„æ–‡ä»¶ï¼Œä¿®æ”¹è·å–çš„å‚æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è·å–çš„id:&#123;&#123; id &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>è·å–çš„name:&#123;&#123; name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> route = <span class="hljs-title function_">useRoute</span>();</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> id = <span class="hljs-title function_">ref</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> name = <span class="hljs-title function_">ref</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">name</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å†åˆ°index.vue ä¿®æ”¹é“¾æ¥ï¼Œä¼ é€’ä¸¤ä¸ªå‚æ•°ã€‚</p><p><NuxtLink to="/goods-trumen/demo2-38">Demo2.vue</NuxtLink></p><p>å®Œæˆåå†åˆ°æµè§ˆå™¨ä¸­æŸ¥çœ‹ç»“æœï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æ¥æ”¶åˆ°äº†ä¸¤ä¸ªå‚æ•°ã€‚ è¿™èŠ‚è¯¾ä¸»è¦å­¦ä¹ äº†Nuxt3ä¸­çš„åŠ¨æ€è·¯ç”±ï¼ŒåŒ…æ‹¬ï¼šå•å‚æ•°çš„ä¼ é€’ã€å¤šå‚æ•°çš„ä¼ é€’å’Œåœ¨Scriptæ ‡ç­¾é‡Œè·å–å‚æ•°çš„æ–¹æ³•ã€‚</p><h2 id="å…­ã€Nuxt3-åµŒå¥—è·¯ç”±çš„ä½¿ç”¨"><a href="#å…­ã€Nuxt3-åµŒå¥—è·¯ç”±çš„ä½¿ç”¨" class="headerlink" title="å…­ã€Nuxt3 åµŒå¥—è·¯ç”±çš„ä½¿ç”¨"></a>å…­ã€Nuxt3 åµŒå¥—è·¯ç”±çš„ä½¿ç”¨</h2><p>æŒæ¡äº†åŠ¨æ€è·¯ç”±åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹åµŒå¥—è·¯ç”±æœ‰æ‰€äº†è§£ã€‚åµŒå¥—è·¯ç”±å°±æ˜¯è·¯ç”±æ˜¯ä¸¤çº§ï¼Œä½†æ˜¯ç¨‹åºå‘˜çš„é¡µé¢æ˜¯ä¸€ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´æœ‰çˆ¶çº§é¡µé¢ï¼Œä¹Ÿæœ‰å­é›†é¡µé¢ã€‚ç±»ä¼¼æˆ‘ä»¬çš„é¡µé¢åµŒå¥—ã€‚</p><ul><li><p>å¦‚ä½•å»ºç«‹ä¸€ä¸ªåµŒå¥—è·¯ç”±?</p></li><li><p>åµŒå¥—è·¯ç”±çš„å»ºç«‹éå¸¸å®¹æ˜“ï¼Œç”¨ä¸€å¥è¯è§£é‡Šä¸ºï¼šç›®å½•å’Œæ–‡ä»¶ååŒåï¼Œå°±åˆ¶ä½œäº†ä¸€ä¸ªåµŒå¥—è·¯ç”±ã€‚</p></li><li><p>åˆ¶ä½œä¸€ä¸ªåµŒå¥—è·¯ç”±é¡µé¢ä¸€èˆ¬éœ€è¦ä¸‰æ­¥ï¼š</p></li><li><p>å»ºç«‹åµŒå¥—è·¯ç”±çš„æ–‡ä»¶å¤¹ï¼ˆçº¦å®šå¤§äºé…ç½®ï¼‰</p></li><li><p>åˆ›å»ºå’Œæ–‡ä»¶å¤¹ç›¸åŒåç§°çš„æ–‡ä»¶ï¼ˆçˆ¶é¡µé¢ï¼‰</p></li><li><p>åœ¨æ–°å»ºæ–‡ä»¶å¤¹ä¸‹ä»»æ„åˆ›å»ºå­é¡µé¢</p></li></ul><p>|â€“pages<br>|â€”-parent&#x2F;<br>|â€”â€”child.vue<br>|â€”-parent.vue</p><p>å…ˆåœ¨\pagesç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ parent ï¼Œç„¶ååœ¨pagesç›®å½•ä¸‹å†å»ºç«‹ä¸€ä¸ªparent.vueçš„æ–‡ä»¶ã€‚æ–‡ä»¶å»ºç«‹å¥½ä¹‹åï¼Œç¼–å†™ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Parent Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &lt;!-- å­é¡µé¢çš„å‡ºå£--&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NuxtChild</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">NuxtChild</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„<NuxtChild>å°±æ˜¯åµŒå¥—è·¯ç”±çš„å‡ºå£ï¼Œæ‰€ä»¥å¦‚æœæ˜¯åµŒå¥—è·¯ç”±ï¼Œå°±å¿…é¡»è¦åŠ ä¸Šè¿™ä¸ªæ ‡ç­¾ã€‚è¿™æ˜¯Nuxtçš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ã€‚ æœ‰äº†çˆ¶é¡µé¢ä¹‹åï¼Œåœ¨æ–°å»ºçš„parentæ–‡ä»¶å¤¹ä¸‹ï¼Œå†å»ºç«‹ä¸€ä¸ª child.vueå­é¡µé¢ã€‚ç„¶åç¼–å†™ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Child Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ç„¶åä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªè·¯ç”±é“¾æ¥è¿‡æ¥ã€‚ç›´æ¥åˆ°index.vueå¢åŠ è·¯ç”±é“¾æ¥ã€‚</p><p><NuxtLink to="/parent/child">&#x2F;parent&#x2F;child</NuxtLink><br /></p><p>å¤šä¸ªå­é¡µé¢çš„åˆ¶ä½œ</p><p>åœ¨\pages\parent\æ–‡ä»¶å¤¹ä¸‹é¢å†æ–°å»ºä¸€ä¸ªæ–‡ä»¶ two.vueã€‚ç„¶åç¼–å†™ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Two Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å†™å®Œåå†åˆ°index.vueé¡µé¢ï¼Œå¢åŠ å¯¼èˆªè·¯ç”±ã€‚</p><p><NuxtLink to="/parent/two">&#x2F;parent&#x2F;two</NuxtLink><br /></p><p>ç„¶åå»æµè§ˆå™¨æŸ¥çœ‹ç»“æœã€‚</p><h2 id="ä¸ƒã€-Nuxt3å¸ƒå±€æ¨¡æ¿-è®©å¼€å‘é«˜æ•ˆèµ·æ¥"><a href="#ä¸ƒã€-Nuxt3å¸ƒå±€æ¨¡æ¿-è®©å¼€å‘é«˜æ•ˆèµ·æ¥" class="headerlink" title="ä¸ƒã€ Nuxt3å¸ƒå±€æ¨¡æ¿ è®©å¼€å‘é«˜æ•ˆèµ·æ¥"></a>ä¸ƒã€ Nuxt3å¸ƒå±€æ¨¡æ¿ è®©å¼€å‘é«˜æ•ˆèµ·æ¥</h2><p>å¸ƒå±€æ¨¡æ¿çš„ä½œç”¨å°±æ˜¯ä½ å…ˆå®šä¹‰å¥½ä¸€ä¸ªå¸ƒå±€é¡µé¢ï¼Œç„¶åæå–ä¸€äº›é€šç”¨çš„UIæˆ–ä»£ç åˆ°å¯é‡ç”¨çš„æ¨¡æ¿ä¸­ï¼Œæé«˜ä»£ç å¤ç”¨æ€§ï¼Œä»è€Œé™ä½ä»£ç çš„å¤æ‚åº¦ï¼Œè®©ä»£ç é‡ç”¨æ€§æé«˜ã€‚</p><p>ç®€å•è¯´å°±æ˜¯æŠŠä¸€äº›é€šç”¨çš„UIä»£ç ä»£ç æå‡ºæ¥ï¼Œç„¶åæ”¾åœ¨ä¸€ä¸ªæ¨¡æ¿é‡Œï¼Œä½¿ç”¨è¿™ä¸ªæ¨¡æ¿çš„æ¯ä¸ªé¡µé¢éƒ½æ‹¥æœ‰è¿™äº›ä»£ç UIäº†ã€‚</p><p><strong>åˆ›å»ºå¸ƒå±€æ¨¡æ¿å’Œä½¿ç”¨æ¨¡æ¿</strong></p><p>æ¯”å¦‚ç°åœ¨æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹\layoutsç„¶åå†é‡Œè¾¹å†™ç¼–å†™ä¸€ä¸ª defalut.vueæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    æˆ‘æ˜¯å¸ƒå±€æ¨¡æ¿ï¼Œdefault.vue</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ä¸Šè¾¹è¿™æ®µä»£ç å°±ç›¸å½“äºä½ åˆ›å»ºäº†ä¸€ä¸ªå¸ƒå±€æ¨¡æ¿ã€‚æœ‰äº†è¿™ä¸ªæ¨¡æ¿åï¼Œå¯ä»¥åœ¨ä»»ä½•ä½ æƒ³è¦ä½¿ç”¨çš„é¡µé¢ä¸­ç”¨<NuxtLayout>æ ‡ç­¾ä¸ºé¡µé¢èµ‹äºˆæ¨¡æ¿ä¸­çš„å†…å®¹ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨æ¯ä¸ªé¡µé¢ä¸­éƒ½èµ‹äºˆè¿™ä¸ªæ¨¡æ¿ä¸­çš„å†…å®¹ï¼Œå°±å¯ä»¥åœ¨ app.vue é¡µé¢ä¸­ä½¿ç”¨è¿™ä¸ªæ ‡ç­¾ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLayout</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;default&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">hello-world</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">NuxtPage</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">NuxtPage</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLayout</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ ·æ¯ä¸ªé¡µé¢éƒ½ä¼šæœ‰å¸ƒå±€æ¨¡æ¿ä¸­çš„æ•ˆæœï¼Œå› ä¸ºapp.vueæ˜¯æ¯ä¸ªé¡µé¢çš„å‡ºå£ã€‚</p><p><strong>å¢åŠ å¤šä¸ªæ’æ§½</strong></p><p>ä¿®æ”¹default.vueå¸ƒå±€æ¨¡æ¿ï¼Œå¢åŠ ç¬¬äºŒä¸ªæ’æ§½ï¼Œä¸€ä¸ªå«åšoneï¼Œä¸€ä¸ªå«åštwoã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    æˆ‘æ˜¯å¸ƒå±€æ¨¡æ¿ï¼Œdefault.vue</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span></span><br><span class="language-xml">    ---------</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ ·ç¼–å†™ï¼Œä¸€ä¸ªæ¨¡æ¿ä¸­å°±æœ‰äº†ä¸¤ä¸ªæ’æ§½ï¼Œä½ å¯ä»¥åœ¨é¡µé¢ä¸­é€šè¿‡&lt;template #xxx&gt;çš„å½¢å¼æ¥æŒ‡å®šå¯¹åº”çš„æ¨¡æ¿æ’æ§½ã€‚ åœ¨index.vueä¸­ä½¿ç”¨å¤šä¸ª <template> é…åˆæ¨¡æ¿å®ç°å¤šæ’æ§½ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLayout</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;default&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">one</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/demo1&quot;</span>&gt;</span>Demo1.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/goods-jspang/demo2-38&quot;</span>&gt;</span>Demo2.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/parent/child&quot;</span>&gt;</span>/parent/child<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/parent/two&quot;</span>&gt;</span>/parent/two<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">two</span>&gt;</span> æˆ‘æ˜¯twoä¸­çš„å†…å®¹ <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLayout</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ä¸Šé¢çš„é¡µé¢å°±ç²¾ç¡®çš„å¯¹åº”äº†æ¨¡æ¿çš„æ’æ§½ã€‚å¦‚æœé¡µé¢éƒ½éå¸¸ç›¸ä¼¼ï¼Œå¯ä»¥å¥½å¥½çš„åˆ©ç”¨è¿™ä¸ªæ¨¡æ¿å¸ƒå±€ã€‚</p><p>è¿™ä¸ªæ’æ§½ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªï¼Œåªè¦åå­—å¯¹åº”æ­£ç¡®å°±å¯ä»¥å®ç°ã€‚</p><p>ä¸ªäººå°æ„Ÿæƒ³:</p><p>å¸ƒå±€æ¨¡æ¿æ˜¯éå¸¸å¥½çš„ä¸€ä¸ªåˆ›æ„ï¼Œå¸ƒå±€æ¨¡æ¿å†åŠ ä¸Šç»„ä»¶åŒ–ï¼Œå¯ä»¥å¤§å¤§æé«˜ä»£ç çš„ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚æ‰€ä»¥ä½ æƒ³å†™å‡ºæ¼‚äº®çš„ä»£ç ï¼Œå¯ä»¥ä»è¿™ä¸¤æ–¹é¢å¤šä¸“ç ”ã€‚</p><h2 id="å…«ã€-Nuxt3-ç»„ä»¶çš„ç¼–å†™"><a href="#å…«ã€-Nuxt3-ç»„ä»¶çš„ç¼–å†™" class="headerlink" title="å…«ã€ Nuxt3 ç»„ä»¶çš„ç¼–å†™"></a>å…«ã€ Nuxt3 ç»„ä»¶çš„ç¼–å†™</h2><p>Nuxt3ä¸­åˆ›å»ºä¸€ä¸ªç»„ä»¶</p><p>Nuxt3çš„æ‰€æœ‰è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¿…é¡»å†™åœ¨<code>components</code>ç›®å½•ä¸‹ï¼Œå†™åœ¨è¿™ä¸ªç›®å½•ä¸‹ä»–ä¼šè‡ªåŠ¨åŠ è½½åˆ°é¡µé¢ä¸­ï¼Œè€Œä¸ç”¨æˆ‘ä»¬è‡ªå·±ä¸æ–­çš„é‡å¤å¼•å…¥åˆ°æ¯ä¸ªé¡µé¢ä¸­ã€‚</p><p>æ¯”å¦‚ç°åœ¨è¦åˆ›å»ºä¸€ä¸ª<TheFooter/> çš„ç»„ä»¶ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹<code>components</code> ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ–‡ä»¶<code>TheFooter.vue</code>ã€‚</p><p>&#x2F;&#x2F;ç›®å½•ç»“æ„<br>-|components<br>â€”-|TheFooter.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>The Footer Box<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç åªæœ‰ä¸€ä¸ª<code>&lt;h1&gt;</code> æ ‡ç­¾ï¼Œåœ¨é¡µé¢ä¸­æ˜¾ç¤ºå‡ºäº† The Footer Box ã€‚å†™å¥½ç»„ä»¶åï¼Œä½ å¯ä»¥åˆ°ä»»ä½•çš„é¡µé¢ï¼ˆpageï¼‰ä¸­è¿›è¡Œä½¿ç”¨ã€‚æ¯”å¦‚åœ¨é¦–é¡µä½¿ç”¨ä»–ä»¬ã€‚ æ‰“å¼€<code>/pages/Index.vue</code>é¡µé¢ï¼Œç„¶ååœ¨æœ€ä¸‹é¢åŠ å…¥è¿™ä¸ªç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NuxtLayout</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;default&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">one</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Index Page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/demo1&quot;</span>&gt;</span>Demo1.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/goods-jspang/demo2-38&quot;</span>&gt;</span>Demo2.vue<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/parent/child&quot;</span>&gt;</span>/parent/child<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">NuxtLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/parent/two&quot;</span>&gt;</span>/parent/two<span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLink</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">two</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æˆ‘æ˜¯twoä¸­çš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">TheFooter</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">NuxtLayout</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™ä½ åˆ°æµè§ˆå™¨ä¸­å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšå†™çš„<code>&lt;TheFooter/&gt;</code> ç»„ä»¶èµ·ä½œç”¨äº†ã€‚</p><p>åœ¨å¸ƒå±€æ¨¡æ¿ä¸­ä½¿ç”¨ç»„ä»¶</p><p>åº•éƒ¨ï¼Œå…¶å®æ˜¯æ¯ä¸ªé¡µé¢éƒ½éœ€è¦åŒ…æ‹¬çš„ç»„ä»¶ï¼Œæ‹¿æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªç»„ä»¶æ”¾åˆ°<code>å¸ƒå±€æ¨¡æ¿</code>é‡Œæ˜¯éå¸¸åˆé€‚çš„é€‰æ‹©ã€‚åœ¨å¸ƒå±€æ¨¡æ¿ä¸­ä½¿ç”¨ç»„ä»¶å’Œåœ¨æ™®é€šé¡µé¢ä¸­ä½¿ç”¨ç»„ä»¶æ²¡æœ‰å¤ªå¤§çš„å·®åˆ«ï¼Œç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å°±åœ¨<code>\layouts\default.vue</code>å¸ƒå±€æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    æˆ‘æ˜¯å¸ƒå±€æ¨¡æ¿ï¼Œdefault.vue</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span></span><br><span class="language-xml">    ---------<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">TheFooter</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™æ¯ä¸ªä½¿ç”¨äº†<code>default.vue</code>è¿™ä¸ªå¸ƒå±€æ¨¡æ¿çš„é¡µé¢å°±ä¼šæœ‰<code>&lt;TheFooter /&gt;</code>è¿™ä¸ªç»„ä»¶çš„å­˜åœ¨äº†ã€‚</p><p>ç»„ä»¶åç§°çš„çº¦å®š</p><p>æˆ‘è¯´äº†å¾ˆå¤šä¼šäº†Nuxt3æ˜¯çº¦å®šå¤§äºé…ç½®çš„å¼€å‘æ¨¡å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦äº†è§£Nuxt3æ¡†æ¶å¯¹äºç»„ä»¶åå­—çš„çº¦å®šã€‚æ¯”å¦‚æŒ‰ç…§ä»¥å‰çš„ç»éªŒï¼Œè¿™ä¸ª<code>&lt;TheFooter/&gt;</code> ç»„ä»¶ï¼Œä¹ æƒ¯å†™æˆ <the-footer /> æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœä½ è¿™æ ·å†™åœ¨é¡µé¢é‡Œä¹Ÿæ˜¯ç”Ÿæ•ˆçš„ã€‚</p><p>&#x2F;layouts&#x2F;default.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    æˆ‘æ˜¯å¸ƒå±€æ¨¡æ¿ï¼Œdefault.vue</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span></span><br><span class="language-xml">    ---------<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">TheFooter</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">the-footer</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸ªäººå»ºè®®ï¼Œä½ å°½é‡ä½¿ç”¨å¤§å†™ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥åŒºåˆ†é‚£äº›æ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œé‚£äº›æ˜¯åŸç”Ÿçš„HTMLæ ‡ç­¾ã€‚</p><p>æˆ‘è¯´äº†è¿™æ˜¯ä¸ªäººå»ºè®®ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ã€‚ä½ ä¹Ÿå¯ä»¥ç¼–å†™ä¸€ä¸ª<code>the-header.vue</code> çš„ç»„ä»¶ï¼Œç„¶åç”¨ <the-header/> çš„å½¢å¼ä½¿ç”¨è¿™ä¸ªç»„ä»¶ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚</p><p>ä¾‹å¦‚ä¸‹é¢çš„ä¸¤æ®µä»£ç ã€‚ åœ¨<code>/components</code>æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ <code>the-header.vue</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>The Header Box<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ç„¶åå›åˆ°layoutsæ–‡ä»¶å¤¹ä¸‹çš„defalut.vueä¸‹ä½¿ç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">the-header</span> /&gt;</span></span><br><span class="language-xml">    æˆ‘æ˜¯å¸ƒå±€æ¨¡æ¿ï¼Œdefault.vue</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;one&quot;</span> /&gt;</span></span><br><span class="language-xml">    ---------<span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;two&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">TheFooter</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">the-footer</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥ä½¿ç”¨çš„ã€‚ç”±æ­¤çœ‹æ¥Nuxt3å¯¹äºç»„ä»¶çš„ä½¿ç”¨è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œä½ åªè¦ç¬¦åˆè‡ªå·±çš„ä¹ æƒ¯å°±å¥½ã€‚</p><p>å°èŠ‚æ€»ç»“ï¼š<br>ä¸»è¦ç®€å•å­¦ä¹ äº†Nuxt3ä¸­ç»„ä»¶çš„åˆ›å»ºå’Œä½¿ç”¨æ–¹æ³•ã€‚ä»å­¦ä¹ ä¸­å¯ä»¥æ€»ç»“é“Nuxt3çš„ç»„ä»¶ä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œä¸ç”¨é‡å¤çš„ä¸æ–­å¼•å…¥ï¼Œå¯ä»¥ä½¿ç”¨åœ¨é¡µé¢ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨å¸ƒå±€æ¨¡æ¿ä¸­ã€‚è€Œä¸”å¯¹äºä¹¦å†™çš„åå­—ä¹Ÿæœ‰å¾ˆå®½æ³›çš„éšæ„æ€§ã€‚</p><h2 id="ä¹ã€Nuxt3-å¤šå±‚çº§ç»„ä»¶ã€æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨"><a href="#ä¹ã€Nuxt3-å¤šå±‚çº§ç»„ä»¶ã€æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="ä¹ã€Nuxt3-å¤šå±‚çº§ç»„ä»¶ã€æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨"></a>ä¹ã€Nuxt3-å¤šå±‚çº§ç»„ä»¶ã€æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨</h2><h3 id="1-å¤šå±‚çº§ç»„ä»¶çš„å¼•ç”¨"><a href="#1-å¤šå±‚çº§ç»„ä»¶çš„å¼•ç”¨" class="headerlink" title="1.å¤šå±‚çº§ç»„ä»¶çš„å¼•ç”¨"></a>1.å¤šå±‚çº§ç»„ä»¶çš„å¼•ç”¨</h3><p>å¤šå±‚çº§ç»„ä»¶çœ‹ä¼¼å¥½åƒå¾ˆå¤æ‚ï¼Œå…¶å®å¤šå±‚çº§ç»„ä»¶å°±æ˜¯æŠŠä¸€ä¸ªç»„ä»¶æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œã€‚</p><p>åœ¨å®é™…å·¥ä½œä¸­ç»„ä»¶ä¼šéå¸¸å¤šï¼Œæ‰€ä»¥ä¼šæŠŠç»„ä»¶åˆ†é—¨åˆ«ç±»çš„æ”¾ç½®ã€‚é‚£è¿™ç§æœ‰å±‚çº§çš„ç»„ä»¶ï¼Œæˆ‘ä»¬è¦å¦‚ä½•å¼•ç”¨ï¼Ÿ</p><p>æ¯”å¦‚åœ¨<code> components</code>æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»ºä¸€ä¸ª <code>test</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨testæ–‡ä»¶å¤¹ä¸‹é¢å†åˆ›å»ºä¸€ä¸ª <code>MyButton.vue</code>æ–‡ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>MyButton<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å†™å®Œè¿™ä¸ªç»„ä»¶åï¼Œæœ€å…³é”®çš„ä¸€æ­¥ï¼Œå°±æ˜¯åœ¨é¡µé¢é‡Œå¦‚ä½•å¼•ç”¨åˆ°è¿™ä¸ªç»„ä»¶ã€‚æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦åœ¨è¿™ä¸ªé¡µé¢çš„å‰é¢åŠ ä¸Šæ–‡ä»¶å¤¹çš„åç§°å°±å¯ä»¥äº†ã€‚æˆ‘ä»¬çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><p>â€“|components<br>â€”-|test<br>â€”â€”|MyButton.vue</p><p>é‚£å¼•ç”¨ç»„ä»¶çš„æ–¹æ³•å°±æ˜¯è¿™æ ·çš„ã€‚</p><p><strong><TestMyButton /></strong></p><p>å¦‚æœæœ‰å¾ˆå¤šå±‚çº§ï¼Œæˆ‘ä»¬ä¹Ÿä¾ç…§è¿™ä¸ªè§„å¾‹ï¼ŒåŠ å…¥å‰ç¼€å°±å¯ä»¥å®ç°å¤šå±‚çº§ç»„ä»¶çš„å¼•ç”¨äº†ã€‚</p><p>è¿™ç§è®¾è®¡çš„ç›®çš„æ˜¯è®©æ¡†æ¶å¯ä»¥åº”å¯¹å¤æ‚é¡¹ç›®å’Œå¤šç»„ä»¶çš„éœ€æ±‚ï¼Œè®©æˆ‘ä»¬çš„ç»„ä»¶æ›´åŠ æœ‰æ¡ä¾‹ã€‚</p><h3 id="2-ç»„ä»¶çš„æ‡’åŠ è½½"><a href="#2-ç»„ä»¶çš„æ‡’åŠ è½½" class="headerlink" title="2.ç»„ä»¶çš„æ‡’åŠ è½½"></a>2.ç»„ä»¶çš„æ‡’åŠ è½½</h3><p>å¦‚æœåœ¨ç»„ä»¶åå‰é¢åŠ ä¸ŠLazyå‰ç¼€ï¼Œåˆ™å¯ä»¥æŒ‰éœ€æ‡’åŠ è½½è¯¥ç»„ä»¶ã€‚æ‡’åŠ è½½ç»„ä»¶çš„ç›®çš„æ˜¯åœ¨é¡¹ç›®æ‰“åŒ…çš„æ—¶å€™åŒ…æ›´å°ã€‚ç®€å•ç†è§£å¯ä»¥ç†è§£ä¸ºåªæœ‰åœ¨ç»„ä»¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šæ—¶æ‰è¿›è¡ŒåŠ è½½ã€‚</p><p> æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦åšä¸€ä¸ªæ–‡æœ¬ï¼Œè¿™ä¸ªæ–‡æœ¬åªæœ‰åœ¨<code> show</code>çš„å€¼ä¸º trueçš„æ—¶å€™æ‰ä¼šæ˜¾ç¤ºã€‚ç„¶åå…¶ä»–æ—¶å€™ä»–ä¸æ˜¾ç¤ºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;lazyText v-<span class="hljs-keyword">if</span>=<span class="hljs-string">&quot;show&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ‡’åŠ è½½ç»„ä»¶ã€‚å¦‚æœä¸æ€»æ˜¯éœ€è¦è¯¥ç»„ä»¶ï¼Œè¿™å°†ç‰¹åˆ«æœ‰ç”¨ã€‚</p><p>åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª <code>LazyText.vue</code>çš„æ–‡ä»¶ï¼Œç„¶åç¼–å†™ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Lazy Text Content<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æœ‰äº†ç»„ä»¶ä¹‹åï¼Œæˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªé¡µé¢<code>demo2.vue</code>ã€‚ç„¶åç”¨ä¸€ä¸ªæŒ‰é’®æ¥æ§åˆ¶è¿™ä¸ªç»„ä»¶çš„æ˜¾ç¤ºå’Œéšè—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">lazyText</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;show&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;</span>æ˜¾ç¤º/éšè—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> show = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  show.<span class="hljs-property">value</span> = show.<span class="hljs-property">value</span> ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ç„¶ååˆ°æµè§ˆå™¨çœ‹ä¸€ä¸‹æ•ˆæœï¼Œè¿™ç§å°±æ˜¯æ‡’åŠ è½½ç»„ä»¶çš„ä½¿ç”¨ã€‚</p><p>è¿™ç§ç»„ä»¶ä¹Ÿå¯ä»¥ç”¨æ¥ä¼˜åŒ–é¡µé¢çš„æ‰“å¼€é€Ÿåº¦ï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ç™¾è¡Œçš„é•¿åˆ—è¡¨ã€‚ç›´æ¥åŠ è½½ä¼šç»™æœåŠ¡å™¨é€ æˆå¾ˆå¤§å‹åŠ›ï¼Œå¦‚æœåœ¨å…¶ä»–å†…å®¹å·²ç»å®Œæˆåï¼Œè¿‡1-2ç§’å†åŠ è½½è¿™ä¸ªé•¿åˆ—è¡¨ï¼Œå°±ä¼šç»™ç”¨æˆ·å¾ˆå¥½çš„ä½“éªŒã€‚ä¹Ÿä¼šå‡å°‘æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><h2 id="åã€Nuxt3-æ¨¡å—åŒ–ä»£ç -Composableæ–‡ä»¶å¤¹çš„è¯•ç”¨"><a href="#åã€Nuxt3-æ¨¡å—åŒ–ä»£ç -Composableæ–‡ä»¶å¤¹çš„è¯•ç”¨" class="headerlink" title="åã€Nuxt3 æ¨¡å—åŒ–ä»£ç  Composableæ–‡ä»¶å¤¹çš„è¯•ç”¨"></a>åã€Nuxt3 æ¨¡å—åŒ–ä»£ç  Composableæ–‡ä»¶å¤¹çš„è¯•ç”¨</h2><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ç»å¸¸ä¼šæœ‰ä¸€äº›é€šç”¨çš„ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œéœ€è¦æ¨¡å—åŒ–ç®¡ç†ï¼Œè¿™æ—¶å€™å°±å¯ä»¥è¯•ç”¨Composable è¿™ä¸ªæ–‡ä»¶å¤¹æ¥ç¼–å†™ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œè¿™ç§å¸¸ç”¨çš„é€šç”¨ä»£ç ï¼Œå°±å¯ä»¥ç¼–å†™æˆä¸€ä¸ªå•ç‹¬çš„ä»£ç æ®µï¼Œç„¶ååœ¨æ¯ä¸ªé¡µé¢è¿›è¡Œä½¿ç”¨ã€‚</p><p>Composableä¸­åˆ›å»ºtime.tsçš„ç¼–å†™</p><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹composables ç„¶ååœ¨æ–‡ä»¶å¤¹é‡Œè¾¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶time.ts ï¼Œç„¶åç¼–å†™ä¸‹é¢çš„ä»£ç ã€‚è¿™æ®µä»£ç ä½ ä¸€å®šç¼–å†™è¿‡ï¼Œæ‰€ä»¥å°±ä¸ç»™å¤§å®¶è®²è§£é‡Œè¾¹çš„å…·ä½“å«ä¹‰äº†ã€‚ä½ å¯ä»¥ç›´æ¥å¤åˆ¶è¿™æ®µä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getTime</span>=(<span class="hljs-params"></span>)=&gt;&#123;<br>  <span class="hljs-keyword">const</span> timezone = <span class="hljs-number">8</span>;<br>  <span class="hljs-keyword">const</span> offset_GMT = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTimezoneOffset</span>();<br>  <span class="hljs-keyword">const</span> nowDate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();<br>  <span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(nowDate + offset_GMT * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span> + timezone * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);<br>  <span class="hljs-keyword">const</span> date = today.<span class="hljs-title function_">getFullYear</span>() + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-title function_">twoDigits</span>(today.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-title function_">twoDigits</span>(today.<span class="hljs-title function_">getDate</span>());<br>  <span class="hljs-keyword">const</span> time = <span class="hljs-title function_">twoDigits</span>(today.<span class="hljs-title function_">getHours</span>()) + <span class="hljs-string">&quot;:&quot;</span> + <span class="hljs-title function_">twoDigits</span>(today.<span class="hljs-title function_">getMinutes</span>()) + <span class="hljs-string">&quot;:&quot;</span> + <span class="hljs-title function_">twoDigits</span>(today.<span class="hljs-title function_">getSeconds</span>());<br>  <span class="hljs-keyword">const</span> timeString =<span class="hljs-string">&#x27;å½“å‰æ—¶é—´ï¼š&#x27;</span> + date + <span class="hljs-string">&#x27;  &#x27;</span> + time;<br>  <span class="hljs-keyword">return</span> timeString;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">twoDigits</span>(<span class="hljs-params">val</span>) &#123;<br>  <span class="hljs-keyword">if</span> (val &lt; <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span> + val;<br>  <span class="hljs-keyword">return</span> val;<br>&#125;<br></code></pre></td></tr></table></figure><p>å†™å®Œä¹‹åï¼Œå¦‚ä½•åœ¨é¡µé¢ä¸­ä½¿ç”¨å‘¢ï¼Ÿåœ¨pages æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»ºä¸€ä¸ª\pages\demo3.vue çš„æ–‡ä»¶ï¼Œç„¶åä½ å°±å¯ä»¥ç›´æ¥åœ¨è¿™ä¸ªé¡µé¢ä¸­ä½¿ç”¨åˆšæ‰å†™çš„è·å¾—æ—¶é—´çš„æ–¹æ³•äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>&#123;&#123; time &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> time = <span class="hljs-title function_">ref</span>(<span class="hljs-title function_">getTime</span>());</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨å°±å¯ä»¥è·å¾—å½“å‰æ—¶é—´äº†ã€‚ ä½ å¯ä»¥æŠŠä»»ä½•ä½ åœ¨é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨çš„ä»£ç ï¼Œå°è£…åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œå®ç°ä»£ç çš„å¤ç”¨ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹çš„åŠŸèƒ½å’Œç»„ä»¶å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯ç»„ä»¶æ˜¯UIéƒ¨åˆ†çš„ä»£ç å¤ç”¨ï¼Œè€Œè¿™ä¸ªæ˜¯ä¸šåŠ¡é€»è¾‘ä»£ç çš„å¤ç”¨ã€‚</p><ul><li>composablesçš„å¼•å…¥è§„åˆ™</li></ul><p>composables æ–‡ä»¶å¤¹çš„å¼•å…¥è§„åˆ™æ˜¯ï¼Œåªæœ‰é¡¶å±‚æ–‡ä»¶ä¼šè¢«å¼•å…¥ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¦‚æœåœ¨è¿™ä¸ªæ–‡ä»¶ä¸‹å†æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ˜¯ä¸ä¼šè¢«å¼•å…¥åˆ°é¡µé¢ä¸­å®ç°ä»£ç å¤ç”¨çš„ã€‚ æ¯”å¦‚ä¸‹é¢çš„æ–‡ä»¶æ ¼å¼å°±æ²¡åŠæ³•å¼•å…¥ã€‚</p><p>â€“|composables<br>â€”-|test<br>â€”â€”|test.ts</p><p>ä½†æ˜¯æœ‰ä¸€ç§æ˜¯ä¾‹å¤–çš„ï¼Œå°±æ˜¯æˆ‘ä»¬å¯ä»¥å†™æˆä¸‹é¢çš„è¿™ç§å½¢å¼ã€‚</p><p>â€“|composables<br>â€”-|test<br>â€”â€”|index.ts</p><p>æˆ‘ä»¬è¿™é‡Œæµ‹è¯•ä¸€ä¸‹ï¼Œæ–°å»ºä¸€ä¸ª\test æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨å®ƒçš„ä¸‹é¢å†åˆ›å»ºä¸€ä¸ªindex.ts æ–‡ä»¶ã€‚å†™å…¥ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">test</span> = (<span class="hljs-params"></span>)=&gt;&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;trumen.com&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åå›åˆ°Demo3.vue é¡µé¢ä½¿ç”¨test( ) æ–¹æ³•ï¼Œç»“æœæ˜¯å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>&#123;&#123; time &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> time = <span class="hljs-title function_">ref</span>(<span class="hljs-title function_">getTime</span>());</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">test</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨\test æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œå†æ–°å»ºä¸€ä¸ªtest.ts æ–‡ä»¶ï¼Œç„¶åç¼–å†™ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">testTwo</span> = (<span class="hljs-params"></span>)=&gt;&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hello&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½ ä¼šå‘ç°ï¼Œè¿™ç§å½¢å¼æ˜¯ä¸èƒ½ç›´æ¥å¼•å…¥åˆ°é¡µé¢å½“ä¸­è¿›è¡Œä½¿ç”¨çš„ï¼Œä¼šç›´æ¥æŠ¥é”™<code>testTwo is not defined</code>.ä¹Ÿå°±æ˜¯æ‰¾ä¸åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</p><p>å°èŠ‚æ€»ç»“</p><p>è¿™èŠ‚ä¸»è¦å­¦ä¹ äº†Nuxt3ä¸­ä¸šåŠ¡é€»è¾‘ä»£ç çš„å¤ç”¨ã€‚ä½ å¯ä»¥æŠŠæ¯ä¸ªé¡µé¢éƒ½ä½¿ç”¨çš„ä»£ç æ”¾åœ¨composables æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åæŒ‰éœ€ä½¿ç”¨å°±å¥½ã€‚</p><p>ä½†æ˜¯ä¹Ÿè¦æœ‰ä¸ªåº¦ï¼Œè™½æ²¡æœ‰ä¾æ®ï¼Œå¦‚æœè¿™ç§æ–¹æ³•å¤šèµ·æ¥ï¼Œä¼šé€ æˆé¡µé¢æ€§èƒ½çš„ä¸‹é™ã€‚æ¯•ç«Ÿæ¯ä¸ªæ–¹æ³•éƒ½ä¼šå¼•å¯¼é¡µé¢ä¸­ã€‚</p><h2 id="åä¸€ã€Nuxt3ä¸­çš„æ•°æ®è¯·æ±‚"><a href="#åä¸€ã€Nuxt3ä¸­çš„æ•°æ®è¯·æ±‚" class="headerlink" title="åä¸€ã€Nuxt3ä¸­çš„æ•°æ®è¯·æ±‚"></a>åä¸€ã€Nuxt3ä¸­çš„æ•°æ®è¯·æ±‚</h2><p>Nuxt3ä¸­æä¾›äº†å››ç§æ–¹æ³•ï¼š<strong>useAsyncData</strong> ã€<strong>useFetch</strong> ã€<strong>useLazyFetch</strong> ã€<strong>useLazyAsyncData</strong> ã€‚</p><p>æä¾›çš„å››ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯è·å–åå°æ•°æ®çš„ï¼Œä½†æ˜¯ä½¿ç”¨åœºæ™¯å’Œä½¿ç”¨æ–¹æ³•æœ‰æ‰€ä¸åŒã€‚</p><p>æœ¬èŠ‚ç»ƒä¹ ä½¿ç”¨çš„è¯·æ±‚URLï¼š<a href="http://121.36.81.61:8000/getTenArticleList">http://121.36.81.61:8000/getTenArticleList</a> ï¼ˆå¯ä»¥è·å¾—åšå®¢ä¸Šçš„10æ¡æ–‡ç« ç›®å½•ï¼‰</p><h3 id="1ã€useAsyncDataçš„ä½¿ç”¨"><a href="#1ã€useAsyncDataçš„ä½¿ç”¨" class="headerlink" title="1ã€useAsyncDataçš„ä½¿ç”¨"></a>1ã€<strong>useAsyncDataçš„ä½¿ç”¨</strong></h3><p>ä½¿ç”¨useAsyncData å¼‚æ­¥è·å–æ•°æ®ï¼Œå®ƒå¯ä»¥ä½¿ç”¨åœ¨é¡µé¢ä¸­ï¼Œç»„ä»¶å’Œæ’ä»¶ä¸­ã€‚æˆ‘ä»¬å…ˆé€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–ä¸€ä¸‹æœåŠ¡ç«¯çš„æ•°æ®ã€‚ åœ¨pagesæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œç„¶åç¼–å†™ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>&#123;&#123;list&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<span class="hljs-string">&quot;getList&quot;</span>, <span class="hljs-function">() =&gt;</span></span></span><br><span class="language-javascript"><span class="language-xml">  $fetch(<span class="hljs-string">&quot;http://121.36.81.61:8000/getTenArticleList&quot;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>(res)</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//const list = ref(res.data._rawValue.data)å¾—åˆ°æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br><span class="hljs-comment">//$fetch( )æ–¹æ³•æ˜¯nuxt3æä¾›çš„å†…ç½®æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥å¯ä»¥ä½¿ç”¨ã€‚</span><br></code></pre></td></tr></table></figure><p>å†™å®Œåï¼Œå¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„è°ƒè¯•é¢åŒ…ï¼Œåœ¨ç»ˆç«¯é‡Œå¯ä»¥çœ‹åˆ°è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰å››ä¸ªå±æ€§ã€‚</p><ul><li><p>data: è¿”å›çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦çš„æœåŠ¡å™¨æ•°æ®å°±åœ¨è¿™ä¸ªå±æ€§é‡Œã€‚</p></li><li><p>errorï¼šæ˜¯å¦å­˜åœ¨é”™è¯¯ï¼Œå¦‚æœå­˜åœ¨é”™è¯¯ï¼Œå¯ä»¥åœ¨è¿™ä¸ªå±æ€§ä¸­è·å¾—ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p></li><li><p>pendingï¼šè¿™æ¬¡è¯·æ±‚çš„çŠ¶æ€ï¼Œè¿”å›çš„æ˜¯å¸ƒå°”å€¼ã€‚</p></li><li><p>refreshï¼šè¿™ä¸ªè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥åˆ·æ–° handlerå‡½æ•°è¿”å›çš„æ•°æ®ã€‚</p><ul><li><p>è¿™ä¸ªæ–¹æ³•çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œå®ƒå¯ä»¥è¿›è¡Œå¾ˆå¤šé€‰é¡¹çš„é…ç½®ï¼Œä½†æ˜¯åœ¨çœŸå®å¼€å‘ä¸­ï¼Œå…¶å®æˆ‘ä»¬ç”¨çš„ä¸å¤šã€‚</p></li><li><p>æœ€å¸¸ç”¨çš„å°±æ˜¯lazy é€‰é¡¹ï¼Œæ¯”å¦‚æˆ‘ä»¬è®¾ç½®æˆtrue å°±æ˜¯éœ€è¦æ•°æ®éƒ½è¿”å›åï¼Œæ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ ï¼Œç®€å•è¯´å°±æ˜¯ä¼šé˜»å¡é¡µé¢ã€‚é»˜è®¤æ˜¯falseã€‚</p></li><li><p>æ¯”å¦‚è¦è®¾ç½®lazyä¸ºtrueï¼Œå°±å¯ä»¥è¿™æ ·å†™ã€‚å› ä¸ºæˆ‘ä»¬çš„æ•°æ®å¤ªå°‘ï¼Œæ‰€ä»¥åŸºæœ¬çœ‹ä¸å‡ºæ¥æ•ˆæœã€‚</p></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useAsyncData</span>(<br>  <span class="hljs-string">&quot;getList&quot;</span>,<br>  <span class="hljs-function">() =&gt;</span> $fetch(<span class="hljs-string">&quot;http://121.36.81.61:8000/getTenArticleList&quot;</span>),<br>  &#123;<br>    <span class="hljs-attr">lazy</span>: <span class="hljs-literal">true</span>,<br>  &#125;<br>);<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå¯é…ç½®çš„é€‰é¡¹option å…¶å®è¿˜æ˜¯æŒºå¤šçš„ï¼Œæœ‰ä¸ƒé¡¹ã€‚å¦‚æœæƒ³è¯¦ç»†äº†è§£çš„ï¼Œå¯ä»¥åˆ°å®˜æ–¹å»çœ‹ä¸€ä¸‹ï¼Œåœ°å€ï¼š</p><p><a href="https://v3.nuxtjs.org/api/composables/use-async-data">https://v3.nuxtjs.org/api/composables/use-async-data</a></p><p>ä½†è¿™äº›é€‰é¡¹åœ¨å¼€å‘ä¸­å¾ˆå°‘è¢«é…ç½®ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨é»˜è®¤å€¼ã€‚æ‰€ä»¥Nuxt3åˆæä¾›äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•useFetch ã€‚</p><h3 id="1ã€useFetchçš„ä½¿ç”¨"><a href="#1ã€useFetchçš„ä½¿ç”¨" class="headerlink" title="1ã€useFetchçš„ä½¿ç”¨"></a>1ã€<strong>useFetch</strong>çš„ä½¿ç”¨</h3><p>useFetch å¯ä»¥ç†è§£ä¸ºæ‰€æœ‰çš„éƒ½é€‰æ‹©é»˜è®¤é…ç½®çš„useAsyncData æ–¹æ³•ã€‚æ¯”å¦‚è¿˜æ˜¯ä¸Šé¢çš„è¯·æ±‚ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ã€‚</p><p>const res &#x3D; await useFetch(â€œ<a href="http://121.36.81.61:8000/getTenArticleList">http://121.36.81.61:8000/getTenArticleList</a>â€œ);</p><p>è¿™æ ·æˆ‘ä»¬ä¾ç„¶å¯ä»¥è·å–æ•°æ®ï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥ä¼ é€’å‚æ•°å’Œé…ç½®è¯·æ±‚æ–¹æ³•çš„ã€‚æ¯”å¦‚æˆ‘ä»¬è¦è®¾ç½®è¯·æ±‚æ–¹æ³•æ˜¯getï¼Œä¼ é€’idæ˜¯1, å°±å¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼ã€‚</p><p>const res &#x3D; await useFetch(â€œ<a href="http://121.36.81.61:8000/getTenArticleList">http://121.36.81.61:8000/getTenArticleList</a>â€œ, {<br>  method: â€œgetâ€,<br>  id: 1,<br>});</p><p>ç°åœ¨æˆ‘ä»¬è¦æŠŠè·å–åˆ°çš„æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚ä¿®æ”¹ä¸€ä¸‹ç¨‹åºï¼Œå®šä¹‰å˜é‡ï¼Œç„¶åç”¨refæ¥èµ‹å€¼å°±å¯ä»¥äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>&#123;&#123; list &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">&quot;http://121.36.81.61:8000/getTenArticleList&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">_rawValue</span>.<span class="hljs-property">data</span>);</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°è¿™äº›ä»åç«¯å¾—åˆ°çš„æ•°æ®äº†ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠè¿™ä¸ªæ•°ç»„å¾ªç¯è¾“å‡ºï¼Œå¹¶åˆ¶ä½œä¸€ä¸ªç²¾ç¾çš„åˆ—è¡¨ã€‚</p><p>å½“æˆ‘ä»¬ä¼šä½¿ç”¨äº†useAsyncData å’Œ useFetch è¿™ä¸¤ä¸ªæ–¹æ³•åï¼ŒuseLazyAsyncData å’ŒuseLazyFetch ä¹Ÿè‡ªç„¶ä¼šä½¿ç”¨äº†ã€‚ä»–ä»¬åªæ˜¯æŠŠé…ç½®é€‰é¡¹ä¸­çš„Lazy è®¾ç½®æˆäº†trueï¼Œ ä¹Ÿå°±æ˜¯ä¼šé˜»å¡é¡µé¢ã€‚ </p><h2 id="åäºŒã€Nuxt3-middlewareè·¯ç”±ä¸­é—´ä»¶"><a href="#åäºŒã€Nuxt3-middlewareè·¯ç”±ä¸­é—´ä»¶" class="headerlink" title="åäºŒã€Nuxt3 middlewareè·¯ç”±ä¸­é—´ä»¶"></a>åäºŒã€Nuxt3 middlewareè·¯ç”±ä¸­é—´ä»¶</h2><p>Nuxt3æä¾›äº†è·¯ç”±ä¸­é—´ä»¶çš„æ¦‚å¿µï¼Œä½ å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä½¿ç”¨å®ƒï¼Œç›®çš„æ˜¯åœ¨å¯¼èˆªåˆ°æŸä¸€ä¸ªé¡µé¢ä¹‹å‰ï¼Œæ‰§è¡Œä¸€äº›ä»£ç ã€‚æœ€å¸¸è§çš„è·¯ç”±å®ˆå«å°±å¯ä»¥ç”¨è¿™ä¸ªå®ç°ã€‚</p><h3 id="1-ä¸­é—´ä»¶çš„åŸºæœ¬æ ¼å¼"><a href="#1-ä¸­é—´ä»¶çš„åŸºæœ¬æ ¼å¼" class="headerlink" title="1.ä¸­é—´ä»¶çš„åŸºæœ¬æ ¼å¼"></a>1.ä¸­é—´ä»¶çš„åŸºæœ¬æ ¼å¼</h3><p>æˆ‘ä»¬å…ˆå†™ä¸€ä¸ªæœ€ç®€å•çš„ä¸­é—´ä»¶ï¼Œå°±æ˜¯åœ¨æ§åˆ¶å°æ‰“å°æ¥çš„é¡µé¢ï¼Œå’Œè¦å»çš„é¡µé¢ã€‚ç›®çš„æ˜¯é€šè¿‡æœ€ç®€å•çš„å®ä¾‹æ¥äº†è§£ä¸­é—´ä»¶çš„åŸºæœ¬æ ¼å¼ã€‚ </p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªmiddlewareçš„æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨æ–‡ä»¶ä¸‹è¾¹æ–°å»ºä¸€ä¸ªæ–‡ä»¶default.global.ts çš„æ–‡ä»¶ã€‚</p><p>å…¶ä¸­çš„.globalä»£è¡¨è¿™ä¸ªä¸­é—´ä»¶æ˜¯å…¨å±€çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨æ¯æ¬¡è·³è½¬éƒ½ä¼šæ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¦å»é‚£ä¸ªé¡µé¢:&quot;</span>+to.<span class="hljs-property">path</span>)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ¥è‡ªé‚£ä¸ªé¡µé¢:&quot;</span>+<span class="hljs-keyword">from</span>.<span class="hljs-property">path</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>å†™å®Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åˆ°æµè§ˆå™¨çœ‹ä¸€ä¸‹æ•ˆæœã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ—¶å€™ä½ åœ¨æ¯æ¬¡è·³è½¬æ—¶ï¼Œéƒ½ä¼šåœ¨ç»ˆç«¯ä¸­æ‰“å‡ºç»“æœã€‚</p><p>å½“ç„¶æˆ‘ä»¬å¯ä»¥ç»§ç»­ç¼–å†™ä»£ç ï¼Œçœ‹çœ‹to å’Œfromé‡Œåˆ°åº•éƒ½æœ‰ä»€ä¹ˆå±æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¦å»é‚£ä¸ªé¡µé¢:&quot;</span>+to.<span class="hljs-property">path</span>)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(to)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æ¥è‡ªé‚£ä¸ªé¡µé¢:&quot;</span>+<span class="hljs-keyword">from</span>.<span class="hljs-property">path</span>)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">from</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é‡Œè¾¹çš„å†…å®¹æ˜¯éå¸¸å¤šçš„ï¼Œç‰¹åˆ«æ˜¯toçš„æ—¶å€™ï¼Œä½ å¯ä»¥æ ¹æ®è¿™äº›æ¥è¿›è¡Œç¼–ç¨‹ã€‚</p><h3 id="2-é€šè¿‡ä¸­é—´ä»¶-è®¾ç½®è·¯ç”±å®ˆå«"><a href="#2-é€šè¿‡ä¸­é—´ä»¶-è®¾ç½®è·¯ç”±å®ˆå«" class="headerlink" title="2.é€šè¿‡ä¸­é—´ä»¶ è®¾ç½®è·¯ç”±å®ˆå«"></a>2.é€šè¿‡ä¸­é—´ä»¶ è®¾ç½®è·¯ç”±å®ˆå«</h3><p>å½“æˆ‘ä»¬äº†è§£è·¯ç”±ä¸­é—´ä»¶çš„åŸºæœ¬å†™æ³•åï¼Œåœ¨å¢åŠ ä¸€äº›éš¾åº¦ï¼Œæ¥æ¨¡ä»¿ä¸€ä¸‹è·¯ç”±å®ˆå«ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¦è®¿é—®çš„é¡µé¢æ˜¯<code>http://localhost:3000/demo1</code>ï¼Œç°åœ¨è®¾ç½®è·¯ç”±å®ˆå«ï¼Œä¸å…è®¸è®¿é—®ï¼Œè€Œæ˜¯è·³å›åˆ°é¦–é¡µã€‚é‚£ä»£ç å°±å¯ä»¥å†™æˆä¸‹é¢çš„æ ·å­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">path</span> === <span class="hljs-string">&#x27;/demo1&#x27;</span>) &#123;<br>     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç¦æ­¢è®¿é—®è¿™ä¸ªé¡µé¢&#x27;</span>)<br>     <span class="hljs-title function_">abortNavigation</span>()  <span class="hljs-comment">//åœæ­¢å½“å‰å¯¼èˆªï¼Œå¯ä»¥ä½¿ç”¨errorè¿›è¡ŒæŠ¥é”™</span><br>     <span class="hljs-keyword">return</span>  <span class="hljs-title function_">navigateTo</span>(<span class="hljs-string">&#x27;/&#x27;</span>)<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™å†åˆ°æµè§ˆå™¨è®¿é—®demo1 é¡µé¢ï¼Œå·²ç»ä¸èƒ½è®¿é—®äº†ï¼Œä½†å…¶ä»–é¡µé¢æ˜¯å¯ä»¥è®¿é—®çš„ã€‚</p><h3 id="3-åªå¯¹ä¸€ä¸ªé¡µé¢èµ·ä½œç”¨"><a href="#3-åªå¯¹ä¸€ä¸ªé¡µé¢èµ·ä½œç”¨" class="headerlink" title="3.åªå¯¹ä¸€ä¸ªé¡µé¢èµ·ä½œç”¨"></a>3.åªå¯¹ä¸€ä¸ªé¡µé¢èµ·ä½œç”¨</h3><p>ä¸Šé¢éƒ½æ˜¯å¯¹æ‰€æœ‰è·¯ç”±èµ·ä½œç”¨çš„ï¼Œå¦‚æœåªæƒ³ä¸­é—´ä»¶å¯¹ä¸€ä¸ªç‰¹æ®Šé¡µé¢èµ·ä½œç”¨ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚åªè¦å»æ‰.globalçš„åç¼€å°±æ˜¯å¯ä»¥çš„ã€‚ </p><p>åœ¨middleware æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œdefault.tsï¼Œå¹¶ç¼–å†™ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtRouteMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hello&quot;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><p>è¿™æ—¶å€™å®ƒå¯¹ä»»ä½•é¡µé¢éƒ½æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œä½ éœ€è¦å†å»å¯¹åº”çš„é¡µé¢é‡Œæ³¨å†Œä¸€ä¸‹ã€‚å»pagesæ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶demo7.vueã€‚ç„¶åéœ€è¦æ³¨å†Œè¿™ä¸ªé¡µé¢ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ï¼Œä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Demo7 Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">definePageMeta</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">middleware</span>: [<span class="hljs-string">&quot;default&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// or middleware: &#x27;auth&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯¹è¿™ä¸ªé¡µé¢æ³¨å†Œäº†ä¸€ä¸ªä¸“å±çš„å¯¼èˆªä¸­é—´ä»¶ã€‚</p><h2 id="åä¸‰ã€è¡¥å……-Nuxt3-å®‰è£…å¤±è´¥çš„æ—¶å€™å¦‚ä½•å¤„ç†"><a href="#åä¸‰ã€è¡¥å……-Nuxt3-å®‰è£…å¤±è´¥çš„æ—¶å€™å¦‚ä½•å¤„ç†" class="headerlink" title="åä¸‰ã€è¡¥å……-Nuxt3 å®‰è£…å¤±è´¥çš„æ—¶å€™å¦‚ä½•å¤„ç†"></a>åä¸‰ã€è¡¥å……-Nuxt3 å®‰è£…å¤±è´¥çš„æ—¶å€™å¦‚ä½•å¤„ç†</h2><p>ä»Šå¤©æˆ‘é‡æ–°å®‰è£…äº†å…¬å¸çš„ç³»ç»Ÿï¼Œç³»ç»Ÿå®‰è£…å®Œæˆåï¼Œå‡†å¤‡å†å®‰è£…Nuxt3æ–°ç›®å½•ï¼Œå‘ç°Nuxt3åœ¨æŒ‚äº†ä»£ç†çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶æ— æ³•å®‰è£…æˆåŠŸï¼Œä¼šå‡ºç°ä¸‹é¢çš„é”™è¯¯ã€‚</p><p><strong>npx nuxi init nuxt-app</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">D:\Demo&gt;npx nuxi init nuxt-app<br>npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.<br>Need to install the following packages:<br>  nuxi<br>Ok to proceed? (y) y<br>Nuxt CLI v3.0.0-27398533.8edd481 <br> WARN  could not fetch remote https://github.com/nuxt/starter                          <br> WARN  Make sure you have installed git correctly<br></code></pre></td></tr></table></figure><ul><li>ä¸‹è½½Nuxt3çš„æ–‡ä»¶åŒ…<br>åœ¨å¤šæ¬¡å°è¯•å¤±è´¥çš„æƒ…å†µä¸‹ï¼Œæˆ‘å†³å®šå…ˆå»Githubæ‰“åŒ…ä¸‹è½½Nuxtçš„åŸºæœ¬æ–‡ä»¶ï¼Œç„¶åå†ç”¨yarnå‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</li></ul><p>äºæ˜¯æˆ‘å†Nuxt3çš„å®˜æ–¹Githubä¸Šæ‰¾åˆ°äº†è¿™æ ·çš„ç½‘å€ã€‚</p><p><a href="https://github.com/nuxt/starter/tree/v3">https://github.com/nuxt/starter/tree/v3</a><br>æ‰“å¼€ç½‘å€å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå°±æ˜¯æœ€ç®€å•çš„Nuxt3é¡¹ç›®çš„ç›®å½•ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥Cloneä¸‹æ¥ï¼Œä½†æˆ‘å‘ç°Cloneè¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œæ„æ€æ˜¯æ— æ³•æ‰¾åˆ°ä»“åº“ä½ç½®ã€‚é‚£è¿™æ—¶å€™æˆ‘åªèƒ½ç”¨æœ€åŸå§‹çš„ä¸‹è½½ZIPï¼ˆDownload ZIPï¼‰çš„æ–¹å¼äº†ã€‚</p><p>ä¸‹è½½å®Œæˆåï¼Œå†ä½¿ç”¨yarnå‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p><ul><li>yarn install</li></ul><p>ç¨ç­‰ä¸€ä¼šï¼Œå°±å¯ä»¥å®‰è£…æˆåŠŸäº†ã€‚å®‰è£…æˆåŠŸä»¥åï¼Œå†ä½¿ç”¨</p><ul><li>yarn dev</li></ul><p>å¼€å¯æœåŠ¡åï¼Œå†æµè§ˆå™¨ä¸­è¾“å…¥ <a href="http://localhost:3000/">http://localhost:3000/</a> ,å°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ã€‚ è¿™æ ·æˆ‘ä»¬å°±è§£å†³äº†æ— æ³•ç”¨å®˜æ–¹ç»™å‡ºçš„æ–¹æ³•å®‰è£…çš„é—®é¢˜äº†ã€‚æœ¬è§†é¢‘åªæ˜¯ä¸ªè¡¥å……è§†é¢‘ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å®‰è£…å¤±è´¥çš„ç”¨æˆ·ï¼Œè¿›è¡Œå®‰è£…ã€‚</p><h2 id="åå››ã€Nuxt3-ä¸­SEOç›¸å…³çš„é…ç½®"><a href="#åå››ã€Nuxt3-ä¸­SEOç›¸å…³çš„é…ç½®" class="headerlink" title="åå››ã€Nuxt3 ä¸­SEOç›¸å…³çš„é…ç½®"></a>åå››ã€Nuxt3 ä¸­SEOç›¸å…³çš„é…ç½®</h2><p>ä½¿ç”¨Nuxt3æ¡†æ¶è§£å†³çš„ä¸»è¦é—®é¢˜å°±æ˜¯è¦å¯¹æœç´¢å¼•æ“å‹å¥½,é‚£ä¸ºä»€ä¹ˆæœç´¢å¼•æ“å¯ä»¥æœåˆ°æˆ‘çš„ç½‘ç«™é‚£ï¼Ÿè¿™è¦å½’åŠŸäºHTMLä¸­çš„Mateæ ‡ç­¾å’Œtitle æ ‡ç­¾ã€‚</p><p>title å’Œ meta æ ‡ç­¾çš„ä½œç”¨</p><p>titleæ ‡ç­¾ï¼šä¸»è¦æ˜¯ä¸ºäº†å‘Šè¯‰æœç´¢å¼•æ“æˆ‘ä»¬çš„ç½‘ç«™æ ‡é¢˜æ˜¯ä»€ä¹ˆï¼Œç„¶åæœç´¢å¼•æ“æ‰ä¼šæ ¹æ®ä½ æä¾›çš„çš„titleç»™ä½ æ‰“ä¸Štagï¼Œç”¨æˆ·åœ¨æœç´¢çš„æ—¶å€™æ‰ä¼šæœç´¢åˆ°ä½ ã€‚</p><p>metaæ ‡ç­¾ï¼šè¿™ä¸ªæ ‡ç­¾æ ¹æ®nameçš„ä¸åŒæœ‰å¾ˆå¤šä¸­ï¼Œå’ŒSEOç›¸å…³çš„ä¸»è¦æ˜¯name&#x3D;description å’Œname&#x3D;keywords è¿™ä¸¤ç§ï¼Œå¦‚æœä¸è®¾ç½®è¿™ä¸¤ä¸ªæ ‡ç­¾ï¼Œå¯¹SEOçš„æ•ˆæœå°±ä¼šæœ‰æ‰€å½±å“ã€‚ </p><p>æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘éœ€è¦SEOçš„ç½‘ç«™æ—¶ï¼Œå¯¹è¿™ä¸¤ä¸ªæ ‡ç­¾ä¸€å®šè¦è¿›è¡Œè®¾ç½®ã€‚å½“ç„¶ä½ å¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•å¯¹metaæ ‡ç­¾è¿›è¡Œè®¾ç½®ï¼Œ</p><p>è¿™èŠ‚æˆ‘ä»¬å°±è®²ä¸¤ä¸ªæ–¹æ³•ã€‚ 1.ä½¿ç”¨useHead( )æ–¹æ³• 2.ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ ‡ç­¾</p><p>Nuxt3ä¸­çš„useHead å’ŒuseMeta</p><p>Nuxt3ä¸­æä¾›äº† useHeadæ–¹æ³•æ¥è®¾ç½®SEOéœ€è¦çš„å†…å®¹ï¼Œç”¨å®ƒå¯ä»¥è®¾ç½®HTMLä¸­Headçš„å…¨éƒ¨å†…å®¹ï¼Œæ‰€ä»¥è¿™ä¹ŸåŒ…æ‹¬metaæ ‡ç­¾çš„å†…å®¹ï¼ŒåŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿæ˜¯å¾ˆç®€å•ã€‚</p><p>åœ¨æ ¹ç›®å½•ä¸­ä¸‹çš„ pageæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>demo1.vue</code>ï¼Œç„¶åä½¿ç”¨ useHead( )æ–¹æ³•æ¥è®¾ç½®å¤´éƒ¨ä¿¡æ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>Demo8 Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">useHead</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">title</span>: <span class="hljs-string">&quot; åšå®¢&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">viewport</span>: <span class="hljs-string">&quot;width=device-width,initial-scale=1,maximum-scale=1 &quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">charset</span>: <span class="hljs-string">&quot;utf-8&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">meta</span>: [</span></span><br><span class="language-javascript"><span class="language-xml">    &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;description&quot;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;åšå®¢&quot;</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;keywords&quot;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&quot;trumen&quot;</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  ],</span></span><br><span class="language-javascript"><span class="language-xml">&#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å¦‚æœä½ è¿™æ—¶å€™æŠ¥é”™ï¼Œè¯´æ˜ä½ æŒ‰ç…§çš„ä¸æ˜¯æœ€æ–°çš„Nuxtç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥å®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œå°±åœ¨æœ€æ–°çš„ç‰ˆæœ¬ä¸Šä½¿ç”¨äº†useHead( ) æ–¹æ³•ã€‚</p><p>ä½¿ç”¨templateä¸­çš„æ ‡ç­¾å®šä¹‰Head</p><p>é™¤äº†ä½¿ç”¨useHead( ) æ–¹æ³•å¤–ï¼Œä½ è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨<template> ä¸­çš„çš„<head>æ¥å®šä¹‰SEOç›¸å…³çš„å±æ€§ã€‚</p><p>æˆ‘ä»¬åœ¨&#x2F;pages æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»ºä¸€ä¸ªdemo1.vue çš„æ–‡ä»¶ï¼Œç„¶åç¼–å†™ä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Head</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Title</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">:content</span>=<span class="hljs-string">&quot;title&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åšå®¢<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> title = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;åšå®¢&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ä»ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†<Head>æ ‡ç­¾ï¼Œç„¶ååœ¨é‡Œè¾¹è¿˜å¯ä»¥ä½¿ç”¨<Title>æ ‡ç­¾å’Œ<Meta>æ ‡ç­¾ï¼Œå¯ä»¥è®¾ç½®è¿™ä¸¤ä¸ªæ ‡ç­¾åï¼Œå…³äºSEOçš„è®¾ç½®å°±éƒ½å¯ä»¥ä½œäº†ã€‚</p><p> æˆ‘ä»¬ä½¿ç”¨Nuxtçš„æ„ä¹‰å°±åœ¨äºå¯ä»¥æœ‰å¾ˆå¥½çš„SEOæ•ˆæœï¼Œæ‰€ä»¥åœ¨ä½ å¼€å‘çš„æ—¶å€™ï¼Œä¸€å®šè¦å¯¹é¡µé¢è¿›è¡Œæ ‡é¢˜ã€æè¿°å’Œå…³é”®è¯çš„è®¾ç½®å’Œç¼–å†™ã€‚ </p><h2 id="åäº”ã€Nuxt3ä¸­Cookieçš„è®¾ç½®"><a href="#åäº”ã€Nuxt3ä¸­Cookieçš„è®¾ç½®" class="headerlink" title="åäº”ã€Nuxt3ä¸­Cookieçš„è®¾ç½®"></a>åäº”ã€Nuxt3ä¸­Cookieçš„è®¾ç½®</h2><p>åœ¨ç½‘é¡µåˆ¶ä½œæ—¶ï¼Œç»å¸¸éœ€è¦ä¸´æ—¶ä¿å­˜ä¸€äº›ä¿¡æ¯åˆ°Cookieä¸­ï¼Œè€Œä¸æ˜¯å…¨éƒ¨éƒ½ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ ·ä½œèƒ½å‡è½»æœåŠ¡å™¨çš„å‹åŠ›ã€‚è¿™èŠ‚å°±å­¦ä¹ ä¸€ä¸‹Nuxt3ä¸­çš„Cookieæ“ä½œã€‚</p><h3 id="1-cookieçš„ä½œç”¨"><a href="#1-cookieçš„ä½œç”¨" class="headerlink" title="1.cookieçš„ä½œç”¨"></a>1.cookieçš„ä½œç”¨</h3><p>å…ˆæ¥äº†è§£ä¸€ä¸‹Cookieçš„ä½œç”¨ï¼ŒCookieæœ€å¸¸è§çš„å¼€å‘ä½œç”¨å°±æ˜¯ä¸´æ—¶è®°å½•ç”¨æˆ·ä¸ªäººä¿¡æ¯ï¼Œæ¯”å¦‚æˆ‘ä»¬ç™»å½•äº†ä¸€ä¸ªç½‘ç«™ï¼Œç„¶åæé†’ä¸‹æ¬¡è®°ä½ä¿¡æ¯ï¼Œä¸‹æ¬¡å†æµè§ˆè¿™ä¸ªç½‘ç«™æ—¶ï¼Œå°±ä¸ç”¨ç™»å½•äº†ã€‚</p><p>è¿™å°±æ˜¯cookieèµ·çš„ä½œç”¨ï¼Œå½“æˆ‘ä»¬ç™»å½•ä¸€æ¬¡åï¼ŒæŠŠç™»å½•ä¿¡æ¯è®°å½•åœ¨äº†cookieé‡Œï¼Œä½†æ˜¯è¿™ä¸ªè®°å½•æ˜¯æœ‰æ—¶æ•ˆæ€§çš„ï¼Œé€šè¿‡å±æ€§å¯ä»¥è¿›è¡Œè®¾ç½®ã€‚æ¯”å¦‚ä½ è¿ç»­7å¤©æ²¡ç™»å½•ï¼Œé‚£cookieå°±è¿‡æœŸäº†ï¼Œå†æµè§ˆè¿™ä¸ªç½‘ç«™å°±éœ€è¦é‡æ–°ç™»å½•äº†ã€‚</p><h3 id="2-useCookie-æ–¹æ³•çš„ä½¿ç”¨"><a href="#2-useCookie-æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="2.useCookie( )æ–¹æ³•çš„ä½¿ç”¨"></a>2.useCookie( )æ–¹æ³•çš„ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> cookie = <span class="hljs-title function_">useCookie</span>(name, options)<br></code></pre></td></tr></table></figure><p>åˆ¶ä½œç™»å½•å¤ªå¤æ‚ï¼Œæˆ‘ä»¬è¿™å±äºæ˜¯å…¥é—¨çš„æ•™ç¨‹ï¼Œæ‰€ä»¥å°±ç”¨Cookieåˆ¶ä½œä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®©ä½ äº†è§£Cookieçš„ä½¿ç”¨æ–¹æ³•ã€‚è¿™é‡Œè¦ä½¿ç”¨çš„å‡½æ•°å°±æ˜¯useCookie ,ä»£ç å¦‚ä¸‹ã€‚<br>åœ¨pages æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªé¡µé¢demo3.vue</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Counter:&#123;&#123; counter &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;reset&quot;</span>&gt;</span>Reset<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">&quot;counter&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">counter.<span class="hljs-property">value</span> = counter.<span class="hljs-property">value</span> || <span class="hljs-number">0</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  counter.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  counter.<span class="hljs-property">value</span> = counter.<span class="hljs-property">value</span> + <span class="hljs-number">1</span>;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç çš„æ„æ€ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå«åšcounterçš„Cookieå€¼ï¼Œç„¶åå–å¾—Cookieå€¼ï¼Œæ”¾åˆ°é¡µé¢ä¸Šï¼Œå¦‚æœæ²¡æœ‰Cookieå€¼çš„æ—¶å€™ï¼Œå°±åˆå§‹åŒ–Counterçš„Cookieå€¼ä¸º0ã€‚ç„¶åæˆ‘åˆä½œäº†ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªæ˜¯ç›´æ¥å°†Cookieå€¼è®¾ç½®ä¸º0ï¼Œä¸€ä¸ªæ˜¯æ¯ç‚¹å‡»ä¸€æ¬¡CookieåŠ 1ã€‚</p><p>ä»£ç ç¼–å†™å®Œæˆåï¼Œå¯ä»¥åˆ°æµè§ˆå™¨ä¸­æŸ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰F12æ‰“å¼€æµè§ˆå™¨çš„è°ƒè¯•æ¨¡å¼ï¼Œæ‰¾åˆ°Application æ ‡ç­¾ï¼Œå†æ‰¾åˆ°Cookie é€‰é¡¹ï¼Œå°±å¯ä»¥çœ‹åˆ°é‡Œè¾¹çš„Cookieå€¼äº†ï¼Œè¿™ä¹Ÿå¾ˆå¥½çš„è¯æ˜æˆ‘ä»¬çš„Cookieå€¼è®¾ç½®æˆåŠŸäº†ã€‚</p><p>å¸¸ç”¨çš„ç›¸å…³å±æ€§</p><p>useCookie( )å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è®¾ç½®Cookieå€¼çš„åå­—ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºé€‰é¡¹option,æˆ‘ä»¬æ¥ç€æ¥çœ‹æœ‰é‚£äº›å¯é€‰æ‹©é…ç½®çš„Cookieå‚æ•°ã€‚ï¼ˆæ³¨æ„ï¼šæˆ‘è¿™é‡Œåªè¯´ä¸¤ä¸ªå¸¸ç”¨çš„ï¼‰</p><p>maxAge&#x2F;expires</p><p>è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯è®¾ç½®Cookieçš„æœ‰æ•ˆæ—¶é•¿çš„ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•°ä½ éƒ½ä¸è®¾ç½®ï¼Œé‚£Cookieçš„å€¼åœ¨å…³é—­æµè§ˆå™¨çš„æ—¶å€™å°†ä¼šè¢«æ¸…ç©ºã€‚ä¸¤ä¸ªå‚æ•°çš„ä¸åŒæ˜¯ï¼ŒmaxAgeçš„å€¼æ˜¯ä¸€ä¸ªæ•°å­—Number,è€Œexpiresçš„å€¼æ˜¯ä¸€ä¸ªæ—¥æœŸå¯¹è±¡Date object.<br>æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›è®¾ç½®Cookieçš„è¿‡æ°”æ—¶é—´æ˜¯ä¸€ä¸ªå°æ—¶ï¼Œä¹Ÿå°±æ˜¯3600ç§’ï¼Œé‚£æˆ‘ä»¬çš„é…ç½®å°±éœ€è¦è¿™æ ·å†™ã€‚</p><p>const counter &#x3D; useCookie(â€œcounterâ€,{<br>  maxAge:3600,<br>});</p><p><strong>httpOnly</strong></p><p>è¿™ç®—æ˜¯ä¸€ä¸ªå®‰å…¨è®¾ç½®ï¼Œå¦‚æœæŠŠhttpOnlyè®¾ç½®ä¸ºtrueï¼Œå¯ä»¥å¯¹æœ€å¸¸è§çš„XSSæ”»å‡»èµ·åˆ°é˜²èŒƒä½œç”¨ã€‚</p><p>ä»€ä¹ˆæ˜¯HttpOnlyï¼Ÿ HttpOnlyæ˜¯åŒ…å«åœ¨httpè¿”å›å¤´Set-Cookiewé‡Œé¢çš„ä¸€ä¸ªé™„ä»¶çš„flagï¼Œæ‰€ä»¥å®ƒæ˜¯åç«¯æœåŠ¡å™¨å¯¹cookieè®¾ç½®çš„ä¸€ä¸ªé™„ä»¶å±æ€§ï¼Œåœ¨ç”Ÿæˆcookieæ—¶ä½¿ç”¨HttpOnlyæ ‡å¿—æœ‰åŠ©äºå‡è½»å®¢æˆ·ç«¯è„šæœ¬è®¿é—®æ”¶ä¿æŠ¤cookieçš„é£é™©ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">&quot;counter&quot;</span>,&#123;<br>  <span class="hljs-attr">htttpOnly</span>:<span class="hljs-literal">true</span>,<br>&#125;);<br></code></pre></td></tr></table></figure><p><strong>secure</strong></p><p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå®‰å…¨è®¾ç½®ï¼Œå¦‚æœä½ çš„ç½‘å€ä¸æ˜¯HTTPSçš„ï¼Œå¹¶ä¸”æŠŠsecureçš„å€¼è®¾ç½®ä¸ºtrueï¼Œé‚£Cookieçš„å€¼å°±ä¸ä¼šä¼ é€’ç»™æœåŠ¡ç«¯ã€‚æ€»çš„æ¥è¯´è¿˜æ˜¯ä¸€ä¸ªä¸ºäº†æœåŠ¡å™¨å®‰å…¨çš„è®¾ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">&quot;counter&quot;</span>,&#123;<br>  <span class="hljs-attr">secure</span>:<span class="hljs-literal">true</span>,<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªéœ€è¦é…ç½®HTTPS æ‰€ä»¥ä¸å¤ªå¥½æ¼”ç¤ºï¼Œè¿™é‡Œä¹Ÿå°±ä¸æ¼”ç¤ºäº†ã€‚</p><p>å…¶ä½™çš„è¿˜æœ‰domain ,path ,sameSite ,encode,decode è¿™äº›å±æ€§è®¾ç½®ï¼Œå…¶å®éƒ½è·Ÿå®‰å…¨æœ‰å…³ï¼Œå› ä¸ºCookieçš„è®¾ç½®ç¡®å®éœ€è¦è€ƒè™‘å®‰å…¨æ€§ï¼Œæ‰€ä»¥æ ¹æ®æœåŠ¡ç«¯å’Œappçš„éœ€æ±‚ï¼Œå°½é‡è®¾ç½®å¤šçš„å®‰å…¨æ€§å‚æ•°</p>]]></content>
    
    
    
    <tags>
      
      <tag>Nuxt3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ–Pinia</title>
    <link href="/2023/04/01/Pinia/"/>
    <url>/2023/04/01/Pinia/</url>
    
    <content type="html"><![CDATA[<h1 id="1-piniaä»‹ç»"><a href="#1-piniaä»‹ç»" class="headerlink" title="1.piniaä»‹ç»"></a>1.piniaä»‹ç»</h1><p>ä¸€ä¸ªå…¨æ–°çš„ç”¨äºVueçš„çŠ¶æ€ç®¡ç†åº“ï¼Œä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„Vuexï¼Œä¹Ÿå°±æ˜¯Vuex5.0ã€‚</p><p>ä¹‹å‰çš„vuexä¸»è¦ç”¨äºvue2,é€‰é¡¹å¼APIï¼›å¦‚æœæƒ³è¦åœ¨vue3ä¸­ä½¿ç”¨vuexï¼Œéœ€è¦ä½¿ç”¨å®ƒçš„ç‰ˆæœ¬4ï¼ˆåªæ˜¯ä¸€ä¸ªè¿‡æ¸¡çš„é€‰æ‹©ï¼Œè¿˜æœ‰ç¼ºé™·ï¼‰ã€‚æ•…Vue3ä¼´éšç€ç»„åˆå¼APIè¯ç”Ÿåã€‚è®¾è®¡äº†å…¨æ–°çš„Vuexï¼špinia(ä¹Ÿå°±æ˜¯vuex5)</p><ul><li><p>piniaçš„æ¨¡å—æ›´åƒä¸€ä¸ªhooksï¼Œä¸éœ€è¦åµŒå¥—ï¼Œæ¨¡å—ä¹‹é—´å¯ä»¥äº’ç›¸å¼•ç”¨ï¼Œè®©ä»£ç ç»„ç»‡æ›´çµæ´»</p></li><li><p>ç¬¦åˆVue3 çš„ Composition apiçš„é£æ ¼ï¼Œå¯ä»¥ç›´æ¥ç»“åˆvue3çš„APIå®šä¹‰çŠ¶æ€ï¼Œæ²¡æœ‰åµŒå¥—æ¨¡å—</p></li><li><p>æ²¡æœ‰mutationsï¼Œåªæœ‰ stateã€gettersã€actions</p></li><li><p>vue2å’Œvue3éƒ½å¯ä»¥æ”¯æŒ</p></li><li><p>æ”¯æŒTypeScript</p></li><li><p>æ”¯æŒVue DevToolsï¼ŒdevtoolsåŒæ ·å¯ä»¥è¿½è¸ªåˆ°çŠ¶æ€çš„ä¿®æ”¹</p></li></ul><p>ç­‰ç­‰â€¦â€¦.</p><p>piniaä»ä½¿ç”¨è§’åº¦å’Œvuexå‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œæ¯”vuexç­‰ç®€å•äº†ã€‚</p><p>vuexæœ‰å››ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šstateã€gettersã€mutationsã€actions.</p><p>piniaæœ‰ä¸‰ä¸ªï¼šstateã€gettersã€actions(åŒæ­¥å¼‚æ­¥éƒ½æ”¯æŒ)</p><hr><p>vuexå½“å‰æœ€æ–°ç‰ˆæœ¬æ˜¯4.x</p><ul><li><p>vuex4ç”¨äºvue3</p></li><li><p>vuex3ç”¨äºvue2</p></li></ul><p>piniaå½“å‰æœ€æ–°ç‰ˆæœ¬æ˜¯2.x</p><ul><li><p>æ—¢æ”¯æŒvue2ä¹Ÿæ”¯æŒvue3</p></li><li><p>å¯ä»¥è®¤ä¸ºå°±æ˜¯vuex5,å› ä¸ºå®ƒçš„ä½œè€…æ˜¯å®˜æ–¹çš„å¼€å‘äººå‘˜ã€‚ã€‚ã€‚</p></li></ul><h1 id="2-piniaçš„ä½¿ç”¨"><a href="#2-piniaçš„ä½¿ç”¨" class="headerlink" title="2.piniaçš„ä½¿ç”¨"></a>2.piniaçš„ä½¿ç”¨</h1><h2 id="ä¸€ã€åˆå§‹åŒ–é…ç½®"><a href="#ä¸€ã€åˆå§‹åŒ–é…ç½®" class="headerlink" title="ä¸€ã€åˆå§‹åŒ–é…ç½®"></a>ä¸€ã€åˆå§‹åŒ–é…ç½®</h2><h3 id="1-åˆ›å»ºé¡¹ç›®"><a href="#1-åˆ›å»ºé¡¹ç›®" class="headerlink" title="1. åˆ›å»ºé¡¹ç›®"></a>1. åˆ›å»ºé¡¹ç›®</h3><p>npm init vite@latest</p><p>(è¯¦è§Vite å®˜æ–¹ä¸­æ–‡æ–‡æ¡£)</p><h3 id="2-å®‰è£…-Pinia"><a href="#2-å®‰è£…-Pinia" class="headerlink" title="2. å®‰è£… Pinia"></a>2. å®‰è£… Pinia</h3><p>npm install pinia</p><h2 id="äºŒã€åŸºæœ¬ä½¿ç”¨"><a href="#äºŒã€åŸºæœ¬ä½¿ç”¨" class="headerlink" title="äºŒã€åŸºæœ¬ä½¿ç”¨"></a>äºŒã€åŸºæœ¬ä½¿ç”¨</h2><h3 id="1-åˆ›å»º-Pinia-å®ä¾‹å¹¶æŒ‚è½½"><a href="#1-åˆ›å»º-Pinia-å®ä¾‹å¹¶æŒ‚è½½" class="headerlink" title="1. åˆ›å»º Pinia å®ä¾‹å¹¶æŒ‚è½½"></a>1. åˆ›å»º Pinia å®ä¾‹å¹¶æŒ‚è½½</h3><p><strong>src&#x2F;main.js</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./style.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-comment">// åˆ›å»º Pinia å®ä¾‹</span><br><span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>();<br><br><span class="hljs-comment">// æŒ‚è½½åˆ°Vueæ ¹å®ä¾‹</span><br><span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">use</span>(pinia).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);<br><br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨çš„æ˜¯Vue2ï¼Œè¿˜éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œå¹¶å°†åˆ›å»ºä¸€ä¸ªpiniaæ³¨å…¥åˆ°åº”ç”¨çš„rootï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; createPinia, <span class="hljs-title class_">PiniaVuePlugin</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">PiniaVuePlugin</span>)<br><span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>  <span class="hljs-comment">// å…¶ä»–é€‰é¡¹...</span><br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-comment">// æ³¨æ„åŒä¸€ä¸ªpiniaå®ä¾‹å¯ä»¥åœ¨å¤šä¸ªVueåº”ç”¨ä¸­ä½¿ç”¨</span><br>  pinia,<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="2-å®šä¹‰-Store"><a href="#2-å®šä¹‰-Store" class="headerlink" title="2.å®šä¹‰ Store"></a>2.å®šä¹‰ Store</h3><p> store æ˜¯ä½¿ç”¨<strong>defineStore()</strong> å®šä¹‰çš„ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•´ä¸ªåº”ç”¨ä¸­storeçš„å”¯ä¸€åç§°(id)</p><p> å»ºè®®ï¼š</p><p>å¯ä»¥ä¸ºdefineStore()çš„è¿”å›å€¼ä»»æ„å‘½åï¼Œä½†æ˜¯æœ€å¥½ä½¿ç”¨useåŠ ä¸Šstoreçš„åç§°å’ŒStoreï¼Œä¾‹å¦‚ï¼šuseUserStoreã€useCartStoreã€useProductStore</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;main&#x27;</span>, &#123;<br>  <span class="hljs-comment">// å…·ä½“ä»£ç ...</span><br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="3-Storeä¸­çš„é€‰é¡¹"><a href="#3-Storeä¸­çš„é€‰é¡¹" class="headerlink" title="3. Storeä¸­çš„é€‰é¡¹"></a>3. Storeä¸­çš„é€‰é¡¹</h3><p>ç±»ä¼¼äºVueçš„é€‰é¡¹APIï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå¸¦æœ‰stateã€actionså’Œgetterså±æ€§çš„é€‰é¡¹å¯¹è±¡</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;counter&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123; <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Eduardo&#x27;</span> &#125;),<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-attr">doubleCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>,<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>    &#125;,<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œstateå°±ç±»ä¼¼äºç»„ä»¶çš„ data ï¼Œç”¨æ¥å­˜å‚¨å…¨å±€çŠ¶æ€çš„ï¼Œgetterså°±ç±»ä¼¼äºç»„ä»¶çš„ computedï¼Œç”¨æ¥å°è£…è®¡ç®—å±æ€§ï¼Œæœ‰ç¼“å­˜åŠŸèƒ½ï¼Œactionsç±»ä¼¼äºç»„ä»¶çš„ methodsï¼Œç”¨æ¥å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œä¿®æ”¹ stateã€‚</p><h3 id="4-åŸºæœ¬ä½¿ç”¨"><a href="#4-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4.åŸºæœ¬ä½¿ç”¨"></a>4.åŸºæœ¬ä½¿ç”¨</h3><p>å¦‚æœä½ è¦åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œå°±éœ€è¦å…ˆå°†<strong>store</strong>å¼•å…¥è¿›æ¥ï¼Œå¹¶åœ¨**setup()**ä¸­å£°æ˜è°ƒç”¨</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; useMainStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (&#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> mainStore = <span class="hljs-title function_">useMainStore</span>();<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mainStore.<span class="hljs-property">count</span>); <span class="hljs-comment">// è¿™æ ·å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­è·å–åˆ°Storeä¸­çš„countäº†</span><br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><p>åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.foo &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡éƒ½éœ€è¦mainStoreï¼Œè¿™æ ·å°±å¾ˆéº»çƒ¦ã€‚</p><p>å¦‚æœä½ å¯¹ES6äº†è§£çš„è¯å¯èƒ½ä¼šæƒ³åˆ°è§£æ„å‡ºæ¥ã€‚ä½†æ˜¯è¿™æ ·å–å‡ºæ¥çš„æ•°æ®æ˜¯æœ‰é—®é¢˜çš„ï¼Œå®ƒå·²ç»ä¸¢å¤±äº†å“åº”å¼ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡æ€§çš„ã€‚</p><p>å°±åƒä¸Šé¢è¿™æ®µä»£ç ï¼Œè§£æ„å‡ºæ¥çš„æ•°æ®å°±å·²ç»å¤±å»äº†å“åº”å¼ï¼Œå¦‚æœä¹‹åå¯¹æ•°æ®çš„ä¿®æ”¹Vueæ˜¯æ— æ³•ç›‘æµ‹åˆ°æ•°æ®å˜åŒ–çš„ã€‚</p><p>è§£å†³åŠæ³•ï¼šè¿™é‡Œå°±éœ€è¦ä½¿ç”¨Piniaä¸ºæˆ‘ä»¬æä¾›çš„**storeToRefs()**APIè¿™å°±ç±»ä¼¼Vue3ä¸­çš„toRefs()</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; storeToRefs &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (&#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> mainStore = <span class="hljs-title function_">useMainStore</span>();<br><span class="hljs-keyword">const</span> &#123; count, foo &#125; = <span class="hljs-title function_">storeToRefs</span>(mainStore);<br><br>    <span class="hljs-keyword">return</span> &#123;<br>      count,<br>      foo,<br>    &#125;<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure><h3 id="5-çŠ¶æ€æ›´æ–°å’ŒActions"><a href="#5-çŠ¶æ€æ›´æ–°å’ŒActions" class="headerlink" title="5.çŠ¶æ€æ›´æ–°å’ŒActions"></a>5.çŠ¶æ€æ›´æ–°å’ŒActions</h3><p>Actionsç›¸å½“äºç»„ä»¶ä¸­çš„æ–¹æ³•ã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨defineStore()ä¸­çš„actionså±æ€§æ¥å®šä¹‰ï¼Œå¹¶ä¸”å®ƒä»¬éå¸¸é€‚åˆå®šä¹‰ä¸šåŠ¡é€»è¾‘</p><p>é‚£ä¹ˆæ¥ä¸‹æ¥æ€ä¹ˆä¿®æ”¹æ•°æ®å‘¢ï¼Ÿè¿™é‡Œæœ‰å››ç§æ–¹æ³•æ¥ä¿®æ”¹ã€‚</p><p>ä¾‹å¦‚ï¼šè¿™é‡Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹stateä¸­çš„countã€fooã€arr</p><p><strong>storeä¸­</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useMainStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;main&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>    <span class="hljs-attr">count</span>: <span class="hljs-number">100</span>,<br>    <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>    <span class="hljs-attr">arr</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>  &#125;),<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç»„ä»¶ä¸­</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript">&lt;template&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; foo &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; arr &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleChangeState&quot;</span>&gt;</span>ä¿®æ”¹æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">...</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChangeState</span> = (<span class="hljs-params"></span>) =&gt;&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    ...</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æ–¹æ³•ä¸€ï¼šæœ€ç®€å•çš„æ–¹å¼ä¿®æ”¹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript">mainStore.<span class="hljs-property">count</span>++;<br>mainStore.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;hello&#x27;</span>;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šå¦‚æœéœ€è¦ä¿®æ”¹å¤šä¸ªæ•°æ®ï¼Œå»ºè®®ä½¿ç”¨ $patchæ‰¹é‡æ›´æ–°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript">mainStore.$patch(&#123;<br>  <span class="hljs-attr">count</span>: mainStore.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>,<br>  <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;hello&#x27;</span>,<br>  <span class="hljs-comment">// ç”±äºæ˜¯ä»¥å¯¹è±¡å½¢å¼ä¼ é€’çš„ï¼Œæ˜¾ç„¶å¦‚æœè¦ç»™æ•°ç»„è¿½åŠ å…ƒç´ ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©</span><br>  <span class="hljs-attr">arr</span>: [...mainStore.<span class="hljs-property">arr</span>, <span class="hljs-number">4</span>],<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰ï¼šæ›´å¥½çš„æ‰¹é‡æ›´æ–°çš„æ–¹æ³•ï¼š$patchä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå‡½æ•°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript">mainStore.$patch(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// è¿™é‡Œæ¥æ”¶çš„å½¢å‚å°±æ˜¯state</span><br>  state.<span class="hljs-property">count</span>++;<br>  state.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;hello&#x27;</span>;<br>  state.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ–¹æ³•å››ï¼šé€»è¾‘æ¯”è¾ƒå¤šçš„æ—¶å€™å¯ä»¥å°è£…åˆ° actions é‡Œé¢</p><p>ç»„ä»¶ä¸­</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typescript">mainStore.<span class="hljs-title function_">changeState</span>(); <span class="hljs-comment">// åœ¨ä¿®æ”¹æ•°æ®çš„æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå°è£…åœ¨actionsé‡Œé¢çš„å‡½æ•°</span><br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useMainStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;main&#x27;</span>, &#123;<br>  ...<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ï¼Œå› ä¸ºä½¿ç”¨ç®­å¤´å‡½æ•°ä¼šå¯¼è‡´ this æŒ‡å‘é”™è¯¯</span><br>    <span class="hljs-title function_">changeState</span>(<span class="hljs-params">num</span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> += num;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;hello&#x27;</span>;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);<br><br>      <span class="hljs-comment">// this.$patch(&#123;&#125;) // è¿™é‡Œå¦‚æœæ‰¹é‡æ›´æ–°å’Œæ–¹æ³•äºŒã€ä¸‰ä¸€æ ·</span><br>      <span class="hljs-comment">// this.$patch((state) =&gt; &#123;&#125;);</span><br>    &#125;,<br>  &#125;,<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-Gettersä½¿ç”¨"><a href="#6-Gettersä½¿ç”¨" class="headerlink" title="6.Gettersä½¿ç”¨"></a>6.Gettersä½¿ç”¨</h3><p>Getterså®Œå…¨ç­‰åŒäºStore stateçš„è®¡ç®—å€¼ã€‚</p><p>å¯ä»¥ä½¿ç”¨defineStore()ä¸­çš„getterså±æ€§æ¥å®šä¹‰å®ƒä»¬ï¼Œå¹¶ä¸”å®ƒä»¬å°†stateä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶ï¼Œä»¥é¼“åŠ±ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ™®é€šå‡½æ•°çš„è¯ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ä¸æ¥æ”¶ä¹Ÿå¯ä»¥ä½¿ç”¨thisï¼Œ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useMainStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;main&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>    <span class="hljs-attr">count</span>: <span class="hljs-number">100</span>,<br>  &#125;),<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-comment">// å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œæ˜¯ state å¯¹è±¡</span><br>    <span class="hljs-comment">/* count10(state) &#123;</span><br><span class="hljs-comment">            console.log(&#x27;count10 è¢«è°ƒç”¨äº†&#x27;);</span><br><span class="hljs-comment">            return state.count * 10;</span><br><span class="hljs-comment">        &#125;, */</span><br><br>    <span class="hljs-comment">// ğŸ”´ å¦‚æœæ˜¯åœ¨tsä¸­çš„è¯ï¼Œthisçš„ç±»å‹æ˜¯æ¨å¯¼ä¸å‡ºæ¥çš„ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æŒ‡å®š</span><br>    <span class="hljs-comment">/* count10: number() &#123;</span><br><span class="hljs-comment">            console.log(&#x27;count10 è¢«è°ƒç”¨äº†&#x27;);</span><br><span class="hljs-comment">            return this.count * 10;</span><br><span class="hljs-comment">        &#125;, */</span><br>    <span class="hljs-attr">count10</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">10</span>,<br>  &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>src&#x2F;store&#x2F;index.js</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><br><span class="hljs-comment">// 1ã€å®šä¹‰å®¹å™¨</span><br><span class="hljs-comment">// å‚æ•°1ï¼šå®¹å™¨åç§° ID ï¼Œå¿…é¡»å”¯ä¸€ï¼Œå°†æ¥ Pinia ä¼šæŠŠæ‰€æœ‰çš„å®¹å™¨æŒ‚è½½åˆ°æ ¹å®¹å™¨</span><br><span class="hljs-comment">// å‚æ•°2ï¼šé€‰é¡¹å¯¹è±¡</span><br><span class="hljs-comment">// è¿”å›å€¼ï¼šä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å¾—åˆ°å®¹å™¨å®ä¾‹</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useMainStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;main&#x27;</span>, &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç±»ä¼¼äºç»„ä»¶çš„ dataï¼Œç”¨æ¥å­˜å‚¨å…¨å±€çŠ¶æ€çš„</span><br><span class="hljs-comment">     * 1ã€å¿…é¡»æ˜¯å‡½æ•°ï¼šè¿™æ ·æ˜¯ä¸ºäº†åœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ—¶å€™é¿å…äº¤å‰è¯·æ±‚å¯¼è‡´æ•°æ®çš„çŠ¶æ€æ±¡æŸ“</span><br><span class="hljs-comment">     * 2ã€å¿…é¡»æ˜¯ç®­å¤´å‡½æ•°ï¼šè¿™æ˜¯ä¸ºäº†æ›´å¥½çš„ TS ç±»å‹æ¨å¯¼</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>        <span class="hljs-attr">count</span>: <span class="hljs-number">100</span>,<br>        <span class="hljs-attr">foo</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>        <span class="hljs-attr">arr</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>    &#125;),<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç±»ä¼¼äºç»„ä»¶çš„ computedï¼Œç”¨æ¥å°è£…è®¡ç®—å±æ€§ï¼Œæœ‰ç¼“å­˜åŠŸèƒ½</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-attr">getters</span>: &#123;<br>        <span class="hljs-comment">// å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œæ˜¯ state å¯¹è±¡</span><br>        <span class="hljs-comment">/* count10(state) &#123;</span><br><span class="hljs-comment">            console.log(&#x27;count10 è¢«è°ƒç”¨äº†&#x27;);</span><br><span class="hljs-comment">            return state.count * 10;</span><br><span class="hljs-comment">        &#125;, */</span><br><br>        <span class="hljs-comment">//  å¦‚æœæ˜¯åœ¨tsä¸­çš„è¯ï¼Œthisçš„ç±»å‹æ˜¯æ¨å¯¼ä¸å‡ºæ¥çš„ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æŒ‡å®š(åŠ :number)</span><br>        <span class="hljs-comment">/* count10() &#123;</span><br><span class="hljs-comment">            console.log(&#x27;count10 è¢«è°ƒç”¨äº†&#x27;);</span><br><span class="hljs-comment">            return this.count * 10;</span><br><span class="hljs-comment">        &#125;, */</span><br>        <span class="hljs-attr">count10</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">10</span>,<br>    &#125;,<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç±»ä¼¼äºç»„ä»¶çš„ methodsï¼Œç”¨æ¥å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œä¿®æ”¹ state</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-attr">actions</span>: &#123;<br>        <span class="hljs-comment">//æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ï¼Œå› ä¸ºä½¿ç”¨ç®­å¤´å‡½æ•°ä¼šå¯¼è‡´ this æŒ‡å‘é”™è¯¯</span><br>        <span class="hljs-title function_">changeState</span>(<span class="hljs-params">num</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> += num;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">foo</span> = <span class="hljs-string">&#x27;hello&#x27;</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>);<br><br>            <span class="hljs-comment">// this.$patch(&#123;&#125;)</span><br>            <span class="hljs-comment">// this.$patch((state) =&gt; &#123;&#125;);</span><br>        &#125;,<br>    &#125;,<br>&#125;);<br><span class="hljs-comment">// 2ã€ä½¿ç”¨å®¹å™¨ä¸­çš„ state</span><br><br><span class="hljs-comment">// 3ã€ä¿®æ”¹ state</span><br><br><span class="hljs-comment">// 4ã€å®¹å™¨ä¸­çš„ action çš„ä½¿ç”¨</span><br><br></code></pre></td></tr></table></figure><p><strong>src&#x2F;components&#x2F;HelloWord.vue</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs typescript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.foo &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.arr &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.count10 &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.count10 &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; mainStore.count10 &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123; foo &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleChangeState&quot;</span>&gt;</span>ä¿®æ”¹æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">import</span> &#123; storeToRefs &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">import</span> &#123; useMainStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store&#x27;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> mainStore = <span class="hljs-title function_">useMainStore</span>();</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mainStore.<span class="hljs-property">count</span>);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// è¿™æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™æ ·æ‹¿åˆ°çš„æ•°æ®ä¸æ˜¯å“åº”å¼çš„ï¼Œæ˜¯ä¸€æ¬¡æ€§çš„</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// Pinia å…¶å®å°±æ˜¯æŠŠ state æ•°æ®éƒ½åšäº† reactive å¤„ç†äº†</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// const &#123; count, foo &#125; = mainStore;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨ storeToRefs</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">// æŠŠè§£æ„å‡ºæ¥çš„æ•°æ®åš ref å“åº”å¼ä»£ç†</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> &#123; count, foo &#125; = <span class="hljs-title function_">storeToRefs</span>(mainStore);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChangeState</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•ä¸€ï¼šæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯è¿™æ ·</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// mainStore.count++;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// mainStore.foo = &#x27;hello&#x27;;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•äºŒï¼šå¦‚æœéœ€è¦ä¿®æ”¹å¤šä¸ªæ•°æ®ï¼Œå»ºè®®ä½¿ç”¨ $patch æ‰¹é‡æ›´æ–°</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">/* mainStore.$patch(&#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        count: mainStore.count + 1,</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        foo: &#x27;hello&#x27;,</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        arr: [...mainStore.arr, 4],</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    &#125;); */</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•ä¸‰ æ›´å¥½çš„æ‰¹é‡æ›´æ–°çš„æ–¹æ³•ï¼š$patch ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">/* mainStore.$patch((state) =&gt; &#123;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        state.count++;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        state.foo = &#x27;hello&#x27;;</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">        state.arr.push(4);</span></span></span><br><span class="hljs-comment"><span class="language-javascript"><span class="language-xml">    &#125;); */</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•å››ï¼šé€»è¾‘æ¯”è¾ƒå¤šçš„æ—¶å€™å¯ä»¥å°è£…åˆ° actions é‡Œé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">    mainStore.<span class="hljs-title function_">changeState</span>(<span class="hljs-number">10</span>);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>piniaå’Œvue-detools<br><a href="https://postimg.cc/Zvc3SwZc"><img src="https://i.postimg.cc/6TshCPmD/image.png" alt="image.png"></a></p><h1 id="3-â€å®æˆ˜â€"><a href="#3-â€å®æˆ˜â€" class="headerlink" title="3.â€å®æˆ˜â€"></a>3.â€å®æˆ˜â€</h1><h2 id="ä¸€ã€ç¯å¢ƒåˆå§‹åŒ–"><a href="#ä¸€ã€ç¯å¢ƒåˆå§‹åŒ–" class="headerlink" title="ä¸€ã€ç¯å¢ƒåˆå§‹åŒ–"></a>ä¸€ã€ç¯å¢ƒåˆå§‹åŒ–</h2><h3 id="1-åˆ›å»ºé¡¹ç›®-1"><a href="#1-åˆ›å»ºé¡¹ç›®-1" class="headerlink" title="1.åˆ›å»ºé¡¹ç›®"></a>1.åˆ›å»ºé¡¹ç›®</h3><p>npm create vite</p><p>ç„¶åè·Ÿç€æç¤ºä¸€æ­¥æ­¥èµ°ï¼Œä½¿ç”¨ts<br>2.å®‰è£…pinia<br>äºŒã€åŸºæœ¬ä½¿ç”¨<br>1.åˆ›å»ºpiniaç¤ºä¾‹å¹¶æŒ‚è½½<br>2.åŸºæœ¬ä½¿ç”¨<br>æ‰“å¼€App.vueï¼Œç æ‰æ²¡ç”¨çš„ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨é¡¹ç›®ä¸­HelloWorld.vueç»„ä»¶<br>ä¸‹é¢æ˜¯HelloWorld.vueçš„å†…å®¹<br>ä»ä»¥ä¸Šå‡ ç§ä¿®æ”¹storeæ•°æ®çš„æ–¹å¼ï¼Œå¯ä»¥çœ‹å‡ºpiniaçš„ä½¿ç”¨éå¸¸çš„ç®€ä¾¿+çµæ´»ï¼Œä¹Ÿéå¸¸çš„Composition APIã€‚æ¨èä½¿ç”¨åä¸¤ç§æ–¹å¼ã€‚<br>ä¸‰ã€è´­ç‰©è½¦æ¡ˆä¾‹<br>1.å‡†å¤‡å·¥ä½œ<br>éœ€æ±‚è¯´æ˜<br>å•†å“åˆ—è¡¨<br>å±•ç¤ºå•†å“åˆ—è¡¨<br>æ·»åŠ åˆ°è´­ç‰©è½¦<br>è´­ç‰©è½¦<br>å±•ç¤ºè´­ç‰©è½¦å•†å“åˆ—è¡¨<br>å±•ç¤ºæ€»ä»·æ ¼<br>è®¢å•ç»“ç®—<br>å±•ç¤ºç»“ç®—çŠ¶æ€<br>é¡µé¢æ¨¡æ¿<br>æ•°æ®æ¥å£<br>2.å¼€å§‹å¼€å‘<br>å®šä¹‰Store<br>ä»¥ä¸‹ä»£ç å­¦ä¹ ç‚¹ï¼š<br>asç±»å‹æ–­è¨€<br>å¦‚ä½•åœ¨actionsä¸­å†™å¼‚æ­¥æ“ä½œ<br>ä¸‹é¢çš„ä»£ç ï¼Œæœ‰ä»¥ä¸‹å­¦ä¹ ç‚¹ï¼š<br>typeç±»å‹åˆå¹¶ä¸è¿‡æ»¤<br>è·¨å®¹å™¨é€šä¿¡çš„æè‡´ä¼˜é›…æ“ä½œ<br>é‡å†™ç»„ä»¶<br>src\components\ProductList.vue<br>Vue<br>å¤åˆ¶ä»£ç <br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br><template><br>  <ul><br>    <li v-for="item in productsStore.all"><br>       - <br>      <br><br>      &lt;button :disabled&#x3D;â€!item.inventoryâ€ @click&#x3D;â€cartStore.addProductToCart(item)â€&gt;æ·»åŠ åˆ°è´­ç‰©è½¦</button><br>    </li><br>  </ul><br></template></p><script lang="ts" setup>import { useCartStore } from '../store/cart';import { useProdunctsStore } from '../store/products'const productsStore = useProdunctsStore()const cartStore = useCartStore()productsStore.loadAllProducts() // åŠ è½½æ‰€æœ‰æ•°æ®</script><p>src\components\ShoppingCart.vue<br>Vue<br>å¤åˆ¶ä»£ç <br>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br><template><br>  <div class="cart"><br>    <h2>æˆ‘çš„è´­ç‰©è½¦</h2><br>    <p><br>      <i>è¯·æ·»åŠ ä¸€äº›å•†å“åˆ°è´­ç‰©è½¦</i><br>    </p><br>    <ul><br>      <li v-for="item in cartStore.cartProducts"> -  Ã— </li><br>    </ul><br>    <p>å•†å“æ€»ä»·ï¼š </p><br>    <p><br>      &lt;button @click&#x3D;â€cartStore.checkOutâ€&gt;ç»“ç®—</button><br>    </p><br>    <p v-show="cartStore.checkoutStatus">ç»“ç®—.</p><br>  </div><br></template></p><script lang="ts" setup>import { useCartStore } from '../store/cart'const cartStore = useCartStore()</script>]]></content>
    
    
    
    <tags>
      
      <tag>Pinia</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ¦•React</title>
    <link href="/2023/03/01/React/"/>
    <url>/2023/03/01/React/</url>
    
    <content type="html"><![CDATA[<h1 id="1-React-å…¥é—¨æ¦‚è¿°"><a href="#1-React-å…¥é—¨æ¦‚è¿°" class="headerlink" title="1. React å…¥é—¨æ¦‚è¿°"></a>1. React å…¥é—¨æ¦‚è¿°</h1><h2 id="1-1-ä»‹ç»"><a href="#1-1-ä»‹ç»" class="headerlink" title="1.1 ä»‹ç»"></a>1.1 ä»‹ç»</h2><p>ç”¨äºåŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“(åªå…³æ³¨äºè§†å›¾)</p><pre><code class="hljs">1.å‘é€è¯·æ±‚è·å–æ•°æ®2.å¤„ç†æ•°æ®ï¼ˆè¿‡æ»¤ï¼Œæ•´ç†æ ¼å¼ç­‰ï¼‰3.æ“ä½œDOMå‘ˆç°é¡µé¢ï¼ˆReactåšçš„äº‹æƒ…ï¼‰</code></pre><p>Reactæ˜¯ä¸€ä¸ªå°†æ•°æ®æ¸²æŸ“ä¸ºHTMLè§†å›¾çš„å¼€æºJavaScriptåº“</p><h2 id="1-2-åŸç”ŸJavaScriptçš„ç¼ºç‚¹"><a href="#1-2-åŸç”ŸJavaScriptçš„ç¼ºç‚¹" class="headerlink" title="1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹"></a>1.2 åŸç”ŸJavaScriptçš„ç¼ºç‚¹</h2><pre><code class="hljs">1. åŸç”ŸJavaScriptæ“ä½œDOMç¹çï¼Œæ•ˆç‡ä½ï¼ˆDOM-APIæ“ä½œUIï¼‰2. ä½¿ç”¨JavaScriptç›´æ¥æ“ä½œDOMï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œå¤§é‡çš„é‡ç»˜é‡æ’3. åŸç”ŸJavaScriptæ²¡æœ‰ç»„ä»¶åŒ–ç¼–ç æ–¹æ¡ˆï¼Œä»£ç å¤ç”¨ç‡å¾ˆä½</code></pre><p>ã€è¡¥å……ã€‘æµè§ˆå™¨é‡ç»˜é‡æ’</p><p>æµè§ˆå™¨é‡ç»˜(repaint)é‡æ’(reflow)ä¸ä¼˜åŒ–[æµè§ˆå™¨æœºåˆ¶]</p><p><strong>é‡ç»˜</strong>(repaint)ï¼šå½“ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚å‘ç”Ÿæ”¹å˜ï¼Œä½†æ²¡æœ‰æ”¹å˜å¸ƒå±€,é‡æ–°æŠŠå…ƒç´ å¤–è§‚ç»˜åˆ¶å‡ºæ¥çš„è¿‡ç¨‹ï¼Œå«åšé‡ç»˜</p><p><strong>é‡æ’</strong>(reflow)ï¼šå½“DOMçš„å˜åŒ–å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯(DOMå¯¹è±¡çš„ä½ç½®å’Œå°ºå¯¸å¤§å°)ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå°†å…¶å®‰æ”¾åœ¨ç•Œé¢ä¸­çš„æ­£ç¡®ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’</p><p>##ã€è¡¥å……ã€‘æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–</p><pre><code class="hljs">â€¢ æ¨¡å—    1. ç†è§£ï¼šå‘å¤–æä¾›ç‰¹å®šåŠŸèƒ½çš„jsç¨‹åº, ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶    2. ä¸ºä»€ä¹ˆè¦æ‹†æˆæ¨¡å—ï¼šéšç€ä¸šåŠ¡é€»è¾‘å¢åŠ ï¼Œä»£ç è¶Šæ¥è¶Šå¤šä¸”å¤æ‚ã€‚    3. ä½œç”¨ï¼šå¤ç”¨js, ç®€åŒ–jsçš„ç¼–å†™, æé«˜jsè¿è¡Œæ•ˆç‡    â€¢ ç»„ä»¶    1. ç†è§£ï¼šç”¨æ¥å®ç°å±€éƒ¨åŠŸèƒ½æ•ˆæœçš„ä»£ç å’Œèµ„æºçš„é›†åˆ(html/css/js/imageç­‰ç­‰)    2. ä¸ºä»€ä¹ˆè¦ç”¨ç»„ä»¶ï¼š ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½æ›´å¤æ‚    3. ä½œç”¨ï¼šå¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡    </code></pre><p>æ¨¡å—åŒ–ï¼šå½“åº”ç”¨çš„jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™çš„, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨</p><p>ç»„ä»¶åŒ–ï¼šå½“åº”ç”¨æ˜¯ä»¥å¤šç»„ä»¶çš„æ–¹å¼å®ç°, è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨</p><h2 id="1-3-Reactçš„ç‰¹ç‚¹"><a href="#1-3-Reactçš„ç‰¹ç‚¹" class="headerlink" title="1.3 Reactçš„ç‰¹ç‚¹"></a>1.3 Reactçš„ç‰¹ç‚¹</h2><pre><code class="hljs">1. é‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼ã€å£°æ˜å¼ç¼–ç ï¼Œæé«˜å¼€å‘æ•ˆç‡åŠç»„ä»¶å¤ç”¨ç‡2. åœ¨ React Nativeä¸­å¯ä»¥ä½¿ç”¨Reactè¯­æ³•è¿›è¡Œç§»åŠ¨ç«¯å¼€å‘3. ä½¿ç”¨è™šæ‹ŸDOM+Diffç®—æ³•ï¼Œå°½é‡å‡å°‘ä¸çœŸå®DOMçš„äº¤äº’</code></pre><h2 id="1-4-Reacté«˜æ•ˆçš„åŸå› "><a href="#1-4-Reacté«˜æ•ˆçš„åŸå› " class="headerlink" title="1.4. Reacté«˜æ•ˆçš„åŸå› "></a>1.4. Reacté«˜æ•ˆçš„åŸå› </h2><pre><code class="hljs">1. ä½¿ç”¨è™šæ‹Ÿ(virtual)DOM, ä¸æ€»æ˜¯ç›´æ¥æ“ä½œé¡µé¢çœŸå®DOMã€‚2. DOM Diffingç®—æ³•, æœ€å°åŒ–é¡µé¢é‡ç»˜ã€‚</code></pre><h1 id="2-Hello-React"><a href="#2-Hello-React" class="headerlink" title="2. Hello React"></a>2. Hello React</h1><h2 id="2-1-ç›¸å…³åº“ä»‹ç»"><a href="#2-1-ç›¸å…³åº“ä»‹ç»" class="headerlink" title="2.1 ç›¸å…³åº“ä»‹ç»"></a>2.1 ç›¸å…³åº“ä»‹ç»</h2><pre><code class="hljs">â€¢ æ—§ç‰ˆæœ¬ 16.8.4 (March 5, 2019)â€¢ æ–°ç‰ˆæœ¬ æœ‰ä¸ä¸€æ ·çš„ä¼šè¯´æ˜1. react.jsï¼šReactæ ¸å¿ƒåº“ã€‚2. react-dom.jsï¼šæä¾›æ“ä½œDOMçš„Reactæ‰©å±•åº“ã€‚3. babel.min.jsï¼šè§£æJSXè¯­æ³•ä»£ç è½¬ä¸ºJSä»£ç çš„åº“ã€‚</code></pre><h2 id="ã€è¡¥å……ã€‘babel-jsçš„ä½œç”¨"><a href="#ã€è¡¥å……ã€‘babel-jsçš„ä½œç”¨" class="headerlink" title="ã€è¡¥å……ã€‘babel.jsçš„ä½œç”¨"></a>ã€è¡¥å……ã€‘babel.jsçš„ä½œç”¨</h2><pre><code class="hljs">1. æµè§ˆå™¨ä¸èƒ½ç›´æ¥è§£æJSXä»£ç , éœ€è¦babelè½¬è¯‘ä¸ºçº¯JSçš„ä»£ç æ‰èƒ½è¿è¡Œ2. åªè¦ç”¨äº†JSXï¼Œéƒ½è¦åŠ ä¸Štype=&quot;text/babel&quot;, å£°æ˜éœ€è¦babelæ¥å¤„ç†</code></pre><h2 id="2-2-ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM"><a href="#2-2-ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM" class="headerlink" title="2.2 ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM"></a>2.2 ä½¿ç”¨JSXåˆ›å»ºè™šæ‹ŸDOM</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">const VDOM= &lt;h1&gt;Hello,React&lt;/h1&gt;<br></code></pre></td></tr></table></figure><h2 id="2-3-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ "><a href="#2-3-æ¸²æŸ“è™šæ‹ŸDOM-å…ƒç´ " class="headerlink" title="2.3 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )"></a>2.3 æ¸²æŸ“è™šæ‹ŸDOM(å…ƒç´ )</h2><pre><code class="hljs">1. è¯­æ³•: </code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs react">ReactDOM.render(virtualDOM, containerDOM)<br></code></pre></td></tr></table></figure><pre><code class="hljs">2. ä½œç”¨: å°†è™šæ‹ŸDOMå…ƒç´ æ¸²æŸ“åˆ°é¡µé¢ä¸­çš„çœŸå®å®¹å™¨DOMä¸­æ˜¾ç¤º3. å‚æ•°è¯´æ˜     1. å‚æ•°ä¸€: çº¯jsæˆ–jsxåˆ›å»ºçš„è™šæ‹Ÿdomå¯¹è±¡        2. å‚æ•°äºŒ: ç”¨æ¥åŒ…å«è™šæ‹ŸDOMå…ƒç´ çš„çœŸå®domå…ƒç´ å¯¹è±¡(ä¸€èˆ¬æ˜¯ä¸€ä¸ªdiv)</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>hello_react<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªâ€œå®¹å™¨â€ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥reactæ ¸å¿ƒåº“ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥react-domï¼Œç”¨äºæ”¯æŒreactæ“ä½œDOM --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼•å…¥babelï¼Œç”¨äºå°†jsxè½¬ä¸ºjs --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span>&gt;</span><span class="language-javascript"> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šè¦å†™babel */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="2-4-é¡µé¢æ˜¾ç¤º"><a href="#2-4-é¡µé¢æ˜¾ç¤º" class="headerlink" title="2.4 é¡µé¢æ˜¾ç¤º"></a>2.4 é¡µé¢æ˜¾ç¤º</h2><img width="451" alt="image" src="https://user-images.githubusercontent.com/117837871/216939381-0451d71f-c024-46bf-8fb1-ff25e775c093.png"><h1 id="3-åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼"><a href="#3-åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼" class="headerlink" title="3. åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼"></a>3. åˆ›å»ºè™šæ‹ŸDOMçš„ä¸¤ç§æ–¹å¼</h1><h2 id="3-1-çº¯JSæ–¹å¼-ä¸€èˆ¬ä¸ç”¨"><a href="#3-1-çº¯JSæ–¹å¼-ä¸€èˆ¬ä¸ç”¨" class="headerlink" title="3.1 çº¯JSæ–¹å¼(ä¸€èˆ¬ä¸ç”¨)"></a>3.1 çº¯JSæ–¹å¼(ä¸€èˆ¬ä¸ç”¨)</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">&lt;div id=<span class="hljs-string">&quot;test&quot;</span>&gt;&lt;/div&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"> </span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;h1&#x27;</span>,&#123;<span class="hljs-attr">id</span>:<span class="hljs-string">&#x27;title&#x27;</span>&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;span&#x27;</span>,&#123;&#125;,<span class="hljs-string">&#x27;Hello,React&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br></code></pre></td></tr></table></figure><h2 id="3-2-JSXæ–¹å¼"><a href="#3-2-JSXæ–¹å¼" class="headerlink" title="3.2 JSXæ–¹å¼"></a>3.2 JSXæ–¹å¼</h2><pre><code class="hljs">JSXæ–¹å¼å°±æ˜¯jsåˆ›å»ºè™šæ‹ŸDOMçš„è¯­æ³•ç³–</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div id=<span class="hljs-string">&quot;test&quot;</span>&gt;&lt;/div&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span> &gt;</span><span class="language-javascript"> <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šè¦å†™babel */</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//1.åˆ›å»ºè™šæ‹ŸDOM</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (  <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span></span></span><br><span class="language-xml"><span class="language-javascript"><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></span></span><br><span class="language-xml"><span class="language-javascript"><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span></span><br><span class="language-javascript"><span class="language-xml">    )</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//2.æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>![image](<span class="hljs-attr">https</span>:<span class="hljs-comment">//user-images.githubusercontent.com/117837871/216940180-3b28dbc4-3910-4119-845f-4f3b124ecc95.png)</span><br></code></pre></td></tr></table></figure><h1 id="4-è™šæ‹ŸDOMä¸çœŸå®DOM"><a href="#4-è™šæ‹ŸDOMä¸çœŸå®DOM" class="headerlink" title="4. è™šæ‹ŸDOMä¸çœŸå®DOM"></a>4. è™šæ‹ŸDOMä¸çœŸå®DOM</h1><p>æ‰“å°è¾“å‡ºè™šæ‹ŸDOMå’ŒçœŸå®DOMè¿›è¡Œæ¯”è¾ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">VDOM</span> = (  <span class="hljs-comment">/* æ­¤å¤„ä¸€å®šä¸è¦å†™å¼•å·ï¼Œå› ä¸ºä¸æ˜¯å­—ç¬¦ä¸² */</span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello,React<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>)<br><span class="hljs-comment">// æ¸²æŸ“è™šæ‹ŸDOMåˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-variable constant_">VDOM</span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br>constTDOM= <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;demo&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è™šæ‹ŸDOM&#x27;</span>,<span class="hljs-variable constant_">VDOM</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;çœŸå®DOM&#x27;</span>,<span class="hljs-variable constant_">TDOM</span>);<br><span class="hljs-keyword">debugger</span>;<br></code></pre></td></tr></table></figure><p>çœ‹çœ‹è™šæ‹ŸDOMèº«ä¸Šæœ‰å“ªäº›å±æ€§<br><img width="433" alt="image" src="https://user-images.githubusercontent.com/117837871/216941884-1eb6f1e5-c9f2-429b-b6e0-38214ffd8a06.png"></p><p>çœ‹çœ‹çœŸå®DOMèº«ä¸Šæœ‰å“ªäº›å±æ€§<br><img width="448" alt="image" src="https://user-images.githubusercontent.com/117837871/216941911-7af3b347-61b2-4a52-93a3-c98240f22c6d.png"></p><pre><code class="hljs">1. è™šæ‹ŸDOMæœ¬è´¨æ˜¯Objectç±»å‹çš„å¯¹è±¡ï¼ˆä¸€èˆ¬å¯¹è±¡ï¼‰2. è™šæ‹ŸDOMæ¯”è¾ƒ â€œè½»â€ï¼ŒçœŸå®DOMæ¯”è¾ƒ â€œé‡â€ï¼Œå› ä¸ºè™šæ‹ŸDOMæ˜¯Reactå†…éƒ¨åœ¨ç”¨ï¼Œæ— éœ€çœŸå®DOMä¸Šé‚£ä¹ˆå¤šçš„å±æ€§3. è™šæ‹ŸDOMæœ€ç»ˆä¼šè¢«Reactè½¬åŒ–ä¸ºçœŸå®DOMï¼Œå‘ˆç°åœ¨é¡µé¢ä¸Š</code></pre><h1 id="5-JSXå…¥é—¨"><a href="#5-JSXå…¥é—¨" class="headerlink" title="5. JSXå…¥é—¨"></a>5. JSXå…¥é—¨</h1><h2 id="5-1-æ¦‚è¿°"><a href="#5-1-æ¦‚è¿°" class="headerlink" title="5.1 æ¦‚è¿°"></a>5.1 æ¦‚è¿°</h2><pre><code class="hljs">1. å…¨ç§°: JavaScript XML2. Reactå®šä¹‰çš„ä¸€ç§ç±»ä¼¼äºXMLçš„JSæ‰©å±•è¯­æ³•: JS + XMLæœ¬è´¨æ˜¯React.createElement(component, props, ...children)æ–¹æ³•çš„è¯­æ³•ç³–3. ä½œç”¨: ç”¨æ¥ç®€åŒ–åˆ›å»ºè™šæ‹ŸDOM     1. å†™æ³•ï¼švar ele = &lt;h1&gt;Hello JSX!&lt;/h1&gt;        2. æ³¨æ„1ï¼šå®ƒä¸æ˜¯å­—ç¬¦ä¸², ä¹Ÿä¸æ˜¯HTML/XMLæ ‡ç­¾        3. æ³¨æ„2ï¼šå®ƒæœ€ç»ˆäº§ç”Ÿçš„å°±æ˜¯ä¸€ä¸ªJSå¯¹è±¡    4. æ ‡ç­¾åä»»æ„: HTMLæ ‡ç­¾æˆ–å…¶å®ƒæ ‡ç­¾5. æ ‡ç­¾å±æ€§ä»»æ„: HTMLæ ‡ç­¾å±æ€§æˆ–å…¶å®ƒ</code></pre><h2 id="5-2-åŸºæœ¬è¯­æ³•è§„åˆ™"><a href="#5-2-åŸºæœ¬è¯­æ³•è§„åˆ™" class="headerlink" title="5.2 åŸºæœ¬è¯­æ³•è§„åˆ™"></a>5.2 åŸºæœ¬è¯­æ³•è§„åˆ™</h2><pre><code class="hljs">1. å®šä¹‰è™šæ‹ŸDOMæ—¶ï¼Œä¸è¦å†™å¼•å·ã€‚2. æ ‡ç­¾ä¸­æ··å…¥JSè¡¨è¾¾å¼æ—¶è¦ç”¨ &#123; &#125;ã€‚3. æ ·å¼çš„ç±»åæŒ‡å®šä¸è¦ç”¨ classï¼Œè¦ç”¨ classNameã€‚ï¼ˆå› ä¸ºclassæ˜¯ES6ä¸­ç±»çš„å…³é”®å­—ï¼Œæ‰€ä»¥ä¸è®©ç”¨ï¼‰4. å†…è”æ ·å¼ï¼Œè¦ç”¨ style=&#123;&#123; key:value &#125;&#125; çš„å½¢å¼å»å†™ã€‚5. åªæœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾6. æ ‡ç­¾å¿…é¡»é—­åˆ7. æ ‡ç­¾é¦–å­—æ¯     1. è‹¥å°å†™å­—æ¯å¼€å¤´ï¼Œåˆ™å°†è¯¥æ ‡ç­¾è½¬ä¸ºhtmlä¸­åŒåå…ƒç´ ï¼Œè‹¥htmlä¸­æ— è¯¥æ ‡ç­¾å¯¹åº”çš„åŒåå…ƒç´ ï¼Œåˆ™æŠ¥é”™ã€‚    2. è‹¥å¤§å†™å­—æ¯å¼€å¤´ï¼ŒReactå°±å»æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼Œè‹¥ç»„ä»¶æ²¡æœ‰å®šä¹‰ï¼Œåˆ™æŠ¥é”™ã€‚    </code></pre><h2 id="ã€è¡¥å……ã€‘-åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥"><a href="#ã€è¡¥å……ã€‘-åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥" class="headerlink" title="ã€è¡¥å……ã€‘ åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥"></a>ã€è¡¥å……ã€‘ åŒºåˆ†jsè¡¨è¾¾å¼ä¸jsè¯­å¥</h2><pre><code class="hljs">1. è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼Œä¸‹é¢è¿™äº›éƒ½æ˜¯è¡¨è¾¾å¼ï¼š    1. a        2. a+b        3. demo(1) // å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼        4. arr.map()        5. function test () &#123;&#125;    2. è¯­å¥(ä»£ç )ï¼Œä¸‹é¢è¿™äº›éƒ½æ˜¯è¯­å¥(ä»£ç )ï¼šã€æ§åˆ¶è¯­å¥ï¼Œæ§åˆ¶ä»£ç èµ°å‘ï¼Œè€Œä¸æ˜¯äº§ç”Ÿå€¼ã€‘    1. if()&#123; &#125;        2. for()&#123; &#125;        3. switch( )&#123;case:xxxx&#125;    </code></pre><h2 id="5-3-æ€»ç»“"><a href="#5-3-æ€»ç»“" class="headerlink" title="5.3 æ€»ç»“"></a>5.3 æ€»ç»“</h2><pre><code class="hljs">1. é‡åˆ° &lt; å¼€å¤´çš„ä»£ç , ä»¥æ ‡ç­¾çš„è¯­æ³•è§£æ: htmlåŒåæ ‡ç­¾è½¬æ¢ä¸ºhtmlåŒåå…ƒç´ , å…¶å®ƒæ ‡ç­¾éœ€è¦ç‰¹åˆ«è§£æ2. é‡åˆ°ä»¥ &#123; å¼€å¤´çš„ä»£ç ï¼Œä»¥JSè¯­æ³•è§£æ: æ ‡ç­¾ä¸­çš„jsè¡¨è¾¾å¼å¿…é¡»ç”¨&#123; &#125;åŒ…å«</code></pre><h1 id="ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹-åŸºæœ¬ç†è§£å’Œä½¿ç”¨-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs-äº‹ä»¶å¤„ç†-éå—æ§ç»„ä»¶-å—æ§ç»„ä»¶-é«˜é˜¶å‡½æ•°"><a href="#ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹-åŸºæœ¬ç†è§£å’Œä½¿ç”¨-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs-äº‹ä»¶å¤„ç†-éå—æ§ç»„ä»¶-å—æ§ç»„ä»¶-é«˜é˜¶å‡½æ•°" class="headerlink" title="ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹ - åŸºæœ¬ç†è§£å’Œä½¿ç”¨ - ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs - äº‹ä»¶å¤„ç† - éå—æ§ç»„ä»¶ - å—æ§ç»„ä»¶ - é«˜é˜¶å‡½æ•°"></a>ã€Reactã€‘é¢å‘ç»„ä»¶ç¼–ç¨‹ - åŸºæœ¬ç†è§£å’Œä½¿ç”¨ - ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§state-props-refs - äº‹ä»¶å¤„ç† - éå—æ§ç»„ä»¶ - å—æ§ç»„ä»¶ - é«˜é˜¶å‡½æ•°</h1><h2 id="1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨"><a href="#1-åŸºæœ¬ç†è§£å’Œä½¿ç”¨" class="headerlink" title="1 . åŸºæœ¬ç†è§£å’Œä½¿ç”¨"></a>1 . åŸºæœ¬ç†è§£å’Œä½¿ç”¨</h2><h3 id="1-1-å‡½æ•°å¼ç»„ä»¶"><a href="#1-1-å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="1.1 å‡½æ•°å¼ç»„ä»¶"></a>1.1 å‡½æ•°å¼ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºå‡½æ•°å¼ç»„ä»¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">MyCompontent</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<span class="hljs-comment">//è¿™é‡Œçš„thisæ˜¯undefinedï¼Œå› ä¸ºbabelç¼–è¯‘åå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨å‡½æ•°å®šä¹‰çš„ç»„ä»¶ï¼ˆé€‚ç”¨äºç®€å•ç»„ä»¶çš„å®šä¹‰ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyCompontent</span>/&gt;</span></span>,docement.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/217765611-333f4b51-104d-478c-a907-c875c5ba30e0.png" alt="image"></p><pre><code class="hljs">æ‰§è¡Œäº†ReactDOM.render(&lt;MyComponent/&gt;.......ä¹‹åï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼ŸReactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyComponentç»„ä»¶ã€‚å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨å‡½æ•°å®šä¹‰çš„ï¼Œéšåè°ƒç”¨è¯¥å‡½æ•°ï¼Œå°†è¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­ã€‚</code></pre><p>ã€è¡¥å……ã€‘ä¸¥æ ¼æ¨¡å¼ä¸­çš„this</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayThis</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)<br>&#125;<br><span class="hljs-title function_">sayThis</span>() <span class="hljs-comment">// Window &#123;...&#125;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayThis2</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-string">&#x27;use strict&#x27;</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)<br>&#125;<br><span class="hljs-title function_">sayThis2</span>() <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„thisæŒ‡å‘window</p><p>å¦‚æœå¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„thisæ˜¯undefined</p><h3 id="1-2-ç±»å¼ç»„ä»¶"><a href="#1-2-ç±»å¼ç»„ä»¶" class="headerlink" title="1.2 ç±»å¼ç»„ä»¶"></a>1.2 ç±»å¼ç»„ä»¶</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç±»å¼ç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCompontent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.compontent</span> &#123;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//renderæ˜¯æ”¾åœ¨å“ªé‡Œçš„ï¼Ÿâ€”â€” MyComponentçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨ã€‚</span><br>    <span class="hljs-comment">//renderä¸­çš„thisæ˜¯è°ï¼Ÿâ€”â€” MyComponentçš„å®ä¾‹å¯¹è±¡ &lt;=&gt; MyComponentç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</span><br>        <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯ç”¨ç±»å®šä¹‰çš„ç»„ä»¶(é€‚ç”¨äºã€å¤æ‚ç»„ä»¶ã€‘çš„å®šä¹‰)<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>    &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyCompontent</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/217765681-3219dbba-ba4e-430b-89ab-491304411957.png" alt="image"><br><img src="https://user-images.githubusercontent.com/117837871/217765719-0818ccdb-4d40-40c7-84ba-1556b6028719.png" alt="image"></p><pre><code class="hljs">æ‰§è¡Œäº†ReactDOM.render(&lt;MyComponent/&gt;.......ä¹‹åï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼ŸReactè§£æç»„ä»¶æ ‡ç­¾ï¼Œæ‰¾åˆ°äº†MyComponentç»„ä»¶ã€‚å‘ç°ç»„ä»¶æ˜¯ä½¿ç”¨ç±»å®šä¹‰çš„ï¼Œéšånewå‡ºæ¥è¯¥ç±»çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡è¯¥å®ä¾‹è°ƒç”¨åˆ°åŸå‹ä¸Šçš„renderæ–¹æ³•ã€‚å°†renderè¿”å›çš„è™šæ‹ŸDOMè½¬ä¸ºçœŸå®DOMï¼Œéšåå‘ˆç°åœ¨é¡µé¢ä¸­ã€‚</code></pre><p>ã€è¡¥å……ã€‘å…³äºES6ä¸­ç±»çš„æ³¨æ„äº‹é¡¹</p><p>ç±»ä¸­çš„æ„é€ å™¨ä¸æ˜¯å¿…é¡»è¦å†™çš„ï¼Œè¦å¯¹å®ä¾‹è¿›è¡Œä¸€äº›åˆå§‹åŒ–çš„æ“ä½œï¼Œå¦‚æ·»åŠ æŒ‡å®šå±æ€§æ—¶æ‰å†™ã€‚</p><p>å¦‚æœAç±»ç»§æ‰¿äº†Bç±»ï¼Œä¸”Aç±»ä¸­å†™äº†æ„é€ å™¨ï¼Œé‚£ä¹ˆAç±»æ„é€ å™¨ä¸­çš„superæ˜¯å¿…é¡»è¦è°ƒç”¨çš„ã€‚</p><p>ç±»ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ”¾åœ¨äº†ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹å»ä½¿ç”¨ã€‚</p><h3 id="1-3-æ³¨æ„"><a href="#1-3-æ³¨æ„" class="headerlink" title="1.3 æ³¨æ„"></a>1.3 æ³¨æ„</h3><p>ç»„ä»¶åå¿…é¡»é¦–å­—æ¯å¤§å†™</p><p>è™šæ‹ŸDOMå…ƒç´ åªèƒ½æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </p><p>è™šæ‹ŸDOMå…ƒç´ å¿…é¡»æœ‰ç»“æŸæ ‡ç­¾</p><p>é‡ç‚¹å…³æ³¨ä¸‹æ¸²æŸ“ç±»ç»„ä»¶æ ‡ç­¾çš„åŸºæœ¬æµç¨‹</p><ul><li>Reactå†…éƒ¨ä¼šåˆ›å»ºç»„ä»¶å®ä¾‹å¯¹è±¡</li><li>è°ƒç”¨render()å¾—åˆ°è™šæ‹ŸDOM, å¹¶è§£æä¸ºçœŸå®DOM</li><li>æ’å…¥åˆ°æŒ‡å®šçš„é¡µé¢å…ƒç´ å†…éƒ¨</li></ul><h2 id="2-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1-state-çŠ¶æ€"><a href="#2-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1-state-çŠ¶æ€" class="headerlink" title="2. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1: state çŠ¶æ€"></a>2. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§1: state çŠ¶æ€</h2><h3 id="2-1-ç†è§£"><a href="#2-1-ç†è§£" class="headerlink" title="2.1 ç†è§£"></a>2.1 ç†è§£</h3><p>stateæ˜¯ç»„ä»¶å¯¹è±¡æœ€é‡è¦çš„å±æ€§, å€¼æ˜¯å¯¹è±¡(å¯ä»¥åŒ…å«å¤šä¸ªkey-valueçš„ç»„åˆ)</p><p>ç»„ä»¶è¢«ç§°ä¸ºâ€çŠ¶æ€æœºâ€, é€šè¿‡æ›´æ–°ç»„ä»¶çš„stateæ¥æ›´æ–°å¯¹åº”çš„é¡µé¢æ˜¾ç¤º(é‡æ–°æ¸²æŸ“ç»„ä»¶)</p><h3 id="2-2-åº”ç”¨"><a href="#2-2-åº”ç”¨" class="headerlink" title="2.2 åº”ç”¨"></a>2.2 åº”ç”¨</h3><p>éœ€æ±‚: å®šä¹‰ä¸€ä¸ªå±•ç¤ºå¤©æ°”ä¿¡æ¯çš„ç»„ä»¶</p><p>é»˜è®¤å±•ç¤ºå¤©æ°”ç‚çƒ­ æˆ– å‡‰çˆ½</p><p>ç‚¹å‡»æ–‡å­—åˆ‡æ¢å¤©æ°”</p><h4 id="2-2-1-æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ"><a href="#2-2-1-æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ" class="headerlink" title="2.2.1 æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ"></a>2.2.1 æ‰‹åŠ¨åˆ‡æ¢ç‰ˆ</h4><p>ç±»å¼ç»„ä»¶ï¼Œåœ¨æ„é€ å™¨ä¸­ åˆå§‹åŒ–çŠ¶æ€ï¼Œåœ¨renderä¸­é€šè¿‡this.state è¯»å–çŠ¶æ€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Copmpontent</span>&#123;<br>    <span class="hljs-title function_">contructor</span>(<span class="hljs-params">prop</span>)&#123;<br>        <span class="hljs-variable language_">super</span>(prop);<br>        <span class="hljs-comment">//åˆå§‹åŒ–çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<br>            <span class="hljs-attr">isHot</span>: <span class="hljs-literal">true</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-comment">//è¯»å–çŠ¶æ€</span><br>        <span class="hljs-keyword">const</span> &#123;isHot&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>        <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>    &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="hljs-string">&#x27;&lt;Weather/&gt;&#x27;</span>,docement.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.test&#x27;</span>));<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/217765896-b98139ee-c913-4141-9b3f-52c687cd07c8.png" alt="image"></p><p>ã€è¡¥å……ã€‘åŸç”ŸJavaScriptç»‘å®šäº‹ä»¶ç›‘å¬çš„ä¸‰ç§æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;button id=<span class="hljs-string">&quot;btn1&quot;</span>&gt;æŒ‰é’®<span class="hljs-number">1</span>&lt;/button&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;btn2&quot;</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;demo()&quot;</span>&gt;</span>æŒ‰é’®3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> btn1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn1&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  btn1.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>,<span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®1è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">const</span> btn2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;btn2&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  btn2.<span class="hljs-property">onclick</span> = <span class="hljs-function">()=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®2è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;æŒ‰é’®3è¢«ç‚¹å‡»äº†&#x27;</span>)</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ã€è¡¥å……ã€‘ç±»ä¸­æ–¹æ³•çš„thisæŒ‡å‘é—®é¢˜</p><p>ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œåœ¨å†…éƒ¨é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼</p><p>å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå‡½æ•°å¦‚æœç›´æ¥è°ƒç”¨ï¼Œthisä¸ä¼šæŒ‡å‘windowï¼Œè€Œæ˜¯undefined</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name,age</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>  &#125;<br>  <span class="hljs-title function_">study</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//studyæ–¹æ³•æ”¾åœ¨äº†å“ªé‡Œï¼Ÿâ€”â€”ç±»çš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨</span><br>    <span class="hljs-comment">//é€šè¿‡Personå®ä¾‹è°ƒç”¨studyæ—¶ï¼Œstudyä¸­çš„thiså°±æ˜¯Personå®ä¾‹</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;tom&#x27;</span>,<span class="hljs-number">18</span>)<br>p1.<span class="hljs-title function_">study</span>() <span class="hljs-comment">//é€šè¿‡å®ä¾‹è°ƒç”¨studyæ–¹æ³•  Person</span><br><span class="hljs-keyword">const</span> x = p1.<span class="hljs-property">study</span><br><span class="hljs-title function_">x</span>() <span class="hljs-comment">// ç›´æ¥è°ƒç”¨ undefined</span><br></code></pre></td></tr></table></figure><h4 id="2-2-2-ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™"><a href="#2-2-2-ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™" class="headerlink" title="2.2.2 ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™"></a>2.2.2 ç‚¹å‡»åˆ‡æ¢ç‰ˆâ€™</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1.åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br><br>  <span class="hljs-comment">// æ„é€ å™¨è°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” 1æ¬¡</span><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;constructor&#x27;</span>);<br>    <span class="hljs-variable language_">super</span>(props)<br>    <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<span class="hljs-attr">isHot</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">wind</span>:<span class="hljs-string">&#x27;å¾®é£&#x27;</span>&#125;<br>    <span class="hljs-comment">// è§£å†³ changeWeather ä¸­ this æŒ‡å‘é—®é¢˜</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">changeWeather</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">changeWeather</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>)<br>  &#125;<br><br>  <span class="hljs-comment">// renderè°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” 1+næ¬¡ 1æ˜¯åˆå§‹åŒ–çš„é‚£æ¬¡ næ˜¯çŠ¶æ€æ›´æ–°çš„æ¬¡æ•°</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;render&#x27;</span>);<br>    <span class="hljs-comment">//è¯»å–çŠ¶æ€</span><br>    <span class="hljs-keyword">const</span> &#123;isHot,wind&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;ï¼Œ&#123;wind&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &#125;<br><br>  <span class="hljs-comment">// changeWeatherè°ƒç”¨å‡ æ¬¡ï¼Ÿ â€”â€”â€”â€” ç‚¹å‡ æ¬¡è°ƒå‡ æ¬¡</span><br>  <span class="hljs-title function_">changeWeather</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// changeWeatheræ”¾åœ¨å“ªé‡Œï¼Ÿ â€”â€”â€”â€” Weatherçš„åŸå‹å¯¹è±¡ä¸Šï¼Œä¾›å®ä¾‹ä½¿ç”¨</span><br>    <span class="hljs-comment">// ç”±äºchangeWeatheræ˜¯ä½œä¸ºonClickçš„å›è°ƒï¼Œæ‰€ä»¥ä¸æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨çš„ï¼Œæ˜¯ç›´æ¥è°ƒç”¨</span><br>    <span class="hljs-comment">// ç±»ä¸­çš„æ–¹æ³•é»˜è®¤å¼€å¯äº†å±€éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥changeWeatherä¸­çš„thisä¸ºundefined</span><br><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;changeWeather&#x27;</span>);<br>    <span class="hljs-comment">// è·å–åŸæ¥çš„isHotå€¼</span><br>    <span class="hljs-keyword">const</span> isHot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isHot</span><br>    <span class="hljs-comment">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€å¿…é¡»é€šè¿‡setStateè¿›è¡Œæ›´æ–°,ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢ã€‚</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">isHot</span>:!isHot&#125;)<br>    <span class="hljs-comment">// console.log(this);</span><br><br>    <span class="hljs-comment">// ä¸¥é‡æ³¨æ„ï¼šçŠ¶æ€(state)ä¸å¯ç›´æ¥æ›´æ”¹ï¼Œä¸‹é¢è¿™è¡Œå°±æ˜¯ç›´æ¥æ›´æ”¹ï¼ï¼ï¼</span><br>    <span class="hljs-comment">// this.state.isHot = !isHot //è¿™æ˜¯é”™è¯¯çš„å†™æ³•</span><br>  &#125;<br>&#125;<br><span class="hljs-comment">//2.æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Weather</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/217765963-ceed33e2-9a84-4e6e-b591-ee0873ff1c45.png" alt="image"></p><h4 id="2-2-3-ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰"><a href="#2-2-3-ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰" class="headerlink" title="2.2.3 ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰"></a>2.2.3 ç²¾ç®€ä»£ç ï¼ˆå®é™…å¼€å‘ä¸­è¿™æ ·å†™ï¼‰</h4><p>å¯ä»¥ä¸å†™æ„é€ å™¨ï¼Œç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥æ¥åˆå§‹åŒ–çŠ¶æ€</p><p>ä¸ç”¨bindæ¥ç»‘å®šthisï¼ˆèµ‹å€¼è¯­å¥çš„å½¢å¼+ç®­å¤´å‡½æ•°ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 1.åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Weather</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<span class="hljs-attr">isHot</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">wind</span>:<span class="hljs-string">&#x27;å¾®é£&#x27;</span>&#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">const</span> &#123;isHot,wind&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.changeWeather&#125;</span>&gt;</span>ä»Šå¤©å¤©æ°”å¾ˆ&#123;isHot ? &#x27;ç‚çƒ­&#x27; : &#x27;å‡‰çˆ½&#x27;&#125;ï¼Œ&#123;wind&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &#125;<br><br>  <span class="hljs-comment">// è‡ªå®šä¹‰æ–¹æ³•â€”â€”â€”â€”è¦ç”¨èµ‹å€¼è¯­å¥çš„å½¢å¼ + ç®­å¤´å‡½æ•°</span><br>  <span class="hljs-comment">// æ²¡æœ‰æ”¾åœ¨åŸå‹ä¸Šï¼Œè€Œæ˜¯æ”¾åœ¨å®ä¾‹ä¸Š</span><br>  changeWeather = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> isHot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isHot</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">isHot</span>:!isHot&#125;)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// 2.æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Weather</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p>ã€è¡¥å……ã€‘ç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥</p><p>åœ¨ç±»ä¸­ç›´æ¥å†™èµ‹å€¼è¯­å¥ï¼Œç­‰äºæ˜¯ç»™ç±»çš„å®ä¾‹å¯¹è±¡æ·»åŠ å±æ€§ä¸”èµ‹å€¼</p><h2 id="2-3-æ³¨æ„"><a href="#2-3-æ³¨æ„" class="headerlink" title="#2.3 æ³¨æ„"></a>#2.3 æ³¨æ„</h2><p>ç»„ä»¶ä¸­renderæ–¹æ³•ä¸­çš„thisä¸ºç»„ä»¶å®ä¾‹å¯¹è±¡</p><p>ç»„ä»¶è‡ªå®šä¹‰çš„æ–¹æ³•ä¸­thisä¸ºundefinedï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p><pre><code class="hljs">a)å¼ºåˆ¶ç»‘å®šthis: é€šè¿‡å‡½æ•°å¯¹è±¡çš„bind()b)ç®­å¤´å‡½æ•° + èµ‹å€¼è¯­å¥</code></pre><p>çŠ¶æ€æ•°æ®stateï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æˆ–æ›´æ–°ã€‚çŠ¶æ€å¿…é¡»é€šè¿‡  setState() è¿›è¡Œæ›´æ–°, ä¸”æ›´æ–°æ˜¯ä¸€ç§åˆå¹¶ï¼Œä¸æ˜¯æ›¿æ¢ã€‚</p><h2 id="3-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2-props"><a href="#3-ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2-props" class="headerlink" title="3. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2: props"></a>3. ç»„ä»¶å®ä¾‹çš„ä¸‰å¤§æ ¸å¿ƒå±æ€§2: props</h2><h3 id="3-1-ç†è§£"><a href="#3-1-ç†è§£" class="headerlink" title="3.1 ç†è§£"></a>3.1 ç†è§£</h3><p>æ¯ä¸ªç»„ä»¶å¯¹è±¡éƒ½ä¼šæœ‰props(propertiesçš„ç®€å†™)å±æ€§</p><p>ç»„ä»¶æ ‡ç­¾çš„æ‰€æœ‰å±æ€§éƒ½ä¿å­˜åœ¨propsä¸­</p><h3 id="3-2-ä½œç”¨"><a href="#3-2-ä½œç”¨" class="headerlink" title="3.2 ä½œç”¨"></a>3.2 ä½œç”¨</h3><p>é€šè¿‡æ ‡ç­¾å±æ€§ä»ç»„ä»¶å¤–å‘ç»„ä»¶å†…ä¼ é€’å˜åŒ–çš„æ•°æ®</p><p>æ³¨æ„: ç»„ä»¶å†…éƒ¨ä¸å¯ä¿®æ”¹propsæ•°æ®ï¼Œæ˜¯åªè¯»çš„</p><h3 id="3-3-å°è¯•ä¸€ä¸‹"><a href="#3-3-å°è¯•ä¸€ä¸‹" class="headerlink" title="3.3 å°è¯•ä¸€ä¸‹"></a>3.3 å°è¯•ä¸€ä¸‹</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶ </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//const &#123;name, sex, age&#125; = this.props </span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        &#123;/* <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>  */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;this.props.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;this.props.sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> </span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;this.props.age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢ä¸Š</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;yk&quot;</span> <span class="hljs-attr">age</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">sex</span>=<span class="hljs-string">&quot;ç”·&quot;</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/217766032-9d58d0cf-c11c-44d5-8a96-8d2d1681b4c0.png" alt="image"></p><h3 id="3-4-ä½¿ç”¨æŒ‡å—"><a href="#3-4-ä½¿ç”¨æŒ‡å—" class="headerlink" title="3.4 ä½¿ç”¨æŒ‡å—"></a>3.4 ä½¿ç”¨æŒ‡å—</h3><h4 id="3-4-1-å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼"><a href="#3-4-1-å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼" class="headerlink" title="3.4.1 å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼"></a>3.4.1 å†…éƒ¨è¯»å–æŸä¸ªå±æ€§å€¼</h4><p>this.props.name</p><h3 id="3-4-2-æ‰©å±•å±æ€§-å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰"><a href="#3-4-2-æ‰©å±•å±æ€§-å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰" class="headerlink" title="3.4.2 æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰"></a>3.4.2 æ‰©å±•å±æ€§: å°†å¯¹è±¡çš„æ‰€æœ‰å±æ€§é€šè¿‡propsä¼ é€’ï¼ˆæ‰¹é‡ä¼ é€’æ ‡ç­¾å±æ€§ï¼‰</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;yk&quot;</span> <span class="hljs-attr">age</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">sex</span>=<span class="hljs-string">&quot;ç”·&quot;</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br><br><span class="hljs-keyword">const</span> person = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;yk&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">sex</span>: <span class="hljs-string">&#x27;ç”·&#x27;</span>&#125;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> &#123; <span class="hljs-attr">...person</span> &#125;/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p>ã€è¡¥å……ã€‘å±•å¼€è¿ç®—ç¬¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-keyword">let</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]<br><br><span class="hljs-keyword">let</span> arr2 = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br><br><span class="hljs-comment">// 1. å±•å¼€ä¸€ä¸ªæ•°ç»„</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...arr1); <span class="hljs-comment">// 1 3 5 7 9</span><br><br><span class="hljs-comment">// 2. è¿æ¥æ•°ç»„</span><br><br><span class="hljs-keyword">let</span> arr3 = [...arr1, ...arr2] <span class="hljs-comment">// [1,3,5,7,9,2,4,6,8,10]</span><br><br><span class="hljs-comment">// 3. åœ¨å‡½æ•°ä¸­ä½¿ç”¨</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...numbers</span>) &#123;<br>    <span class="hljs-comment">//æ±‚å’Œï¼preValueå‰ä¸€ä¸ªæ•°ï¼ŒcurrentValueå½“å‰æ•°</span><br>  <span class="hljs-keyword">return</span> numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">preValue, currentValue</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> preValue + currentValue<br>  &#125;)<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// 10</span><br><br><span class="hljs-comment">// 4. æ„é€ å­—é¢é‡å¯¹è±¡æ—¶ä½¿ç”¨å±•å¼€è¯­æ³•</span><br><span class="hljs-keyword">let</span> person = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;tom&#x27;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span><br>&#125;<br><br><span class="hljs-comment">// console.log(...person); // æŠ¥é”™ï¼Œå±•å¼€è¿ç®—ç¬¦ä¸èƒ½å±•å¼€å¯¹è±¡</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(&#123;...person&#125;) <span class="hljs-comment">// &#123;name: &quot;tom&quot;, age: 18&#125;</span><br><span class="hljs-comment">//babel+reactä½¿å¾—å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ï¼Œä½†ä»…ä»…å®ç”¨äºæ ‡ç­¾å±æ€§çš„ä¼ é€’ï¼Œå¦‚ä¸‹â¬‡ï¸</span><br><span class="hljs-keyword">let</span> person2 = &#123; ...person &#125; <span class="hljs-comment">// å¯ä»¥æ‹·è´ä¸€ä¸ªå¯¹è±¡</span><br>person.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;jerry&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person2); <span class="hljs-comment">// &#123;name: &quot;tom&quot;, age: 18&#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person); <span class="hljs-comment">// &#123;name: &quot;jerry&quot;, age: 18&#125;</span><br><br><span class="hljs-comment">// 5. åˆå¹¶å¯¹è±¡</span><br><span class="hljs-keyword">let</span> person3 = &#123;<br>  ...person,<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;trumen&#x27;</span>,<br>  <span class="hljs-attr">address</span>: <span class="hljs-string">&quot;ä¸Šæµ·&quot;</span><br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person3); <span class="hljs-comment">// &#123;name: &quot;trumen&quot;, age: 18, address: &quot;ä¸Šæµ·&quot;&#125;</span><br></code></pre></td></tr></table></figure><h3 id="3-4-3-å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶"><a href="#3-4-3-å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶" class="headerlink" title="3.4.3 å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶"></a>3.4.3 å¯¹propsä¸­çš„å±æ€§å€¼è¿›è¡Œç±»å‹é™åˆ¶å’Œå¿…è¦æ€§é™åˆ¶</h3><ul><li><ol><li>ç¬¬ä¸€ç§æ–¹å¼ï¼ˆReact v15.5 å¼€å§‹å·²å¼ƒç”¨ï¼‰</li></ol></li></ul><p>ç›´æ¥å†™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">PropTypes</span>.<span class="hljs-property">number</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><ol start="2"><li>ç¬¬äºŒç§æ–¹å¼ï¼ˆæ–°ï¼‰ï¼šä½¿ç”¨prop-typesåº“è¿›é™åˆ¶ï¼ˆéœ€è¦å¼•å…¥prop-typesåº“ï¼‰</li></ol></li></ul><!-- å¼•å…¥prop-typesï¼Œç”¨äºå¯¹ç»„ä»¶æ ‡ç­¾å±æ€§è¿›è¡Œé™åˆ¶ --><script type="text/javascript" src="../js/prop-types.js"></script><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">// é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>, <span class="hljs-comment">// é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>, <span class="hljs-comment">// é™åˆ¶ageä¸ºæ•°å€¼</span><br>  <span class="hljs-attr">speak</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>, <span class="hljs-comment">// é™åˆ¶speakä¸ºå‡½æ•°</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥å†™åœ¨ç±»çš„é‡Œé¢ï¼Œå‰é¢åŠ staticå…³é”®å­—</p><h4 id="3-4-4-é»˜è®¤å±æ€§å€¼"><a href="#3-4-4-é»˜è®¤å±æ€§å€¼" class="headerlink" title="3.4.4 é»˜è®¤å±æ€§å€¼"></a>3.4.4 é»˜è®¤å±æ€§å€¼</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">defaultProps</span> = &#123;<br>  <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>, <span class="hljs-comment">// sexé»˜è®¤å€¼ä¸ºç”·</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">//ageé»˜è®¤å€¼ä¸º18</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥å†™åœ¨ç±»çš„é‡Œé¢ï¼Œå‰é¢åŠ staticå…³é”®å­—</p><h4 id="3-4-5-ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°"><a href="#3-4-5-ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°" class="headerlink" title="3.4.5 ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°"></a>3.4.5 ç»„ä»¶ç±»çš„æ„é€ å‡½æ•°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>  <span class="hljs-variable language_">super</span>(props)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>)<span class="hljs-comment">//æ‰“å°æ‰€æœ‰å±æ€§</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ„é€ å™¨æ˜¯å¦æ¥æ”¶propsï¼Œæ˜¯å¦ä¼ é€’ç»™superï¼Œå–å†³äºï¼šæ˜¯å¦å¸Œæœ›åœ¨æ„é€ å™¨ä¸­é€šè¿‡thisè®¿é—®props</li></ul><h3 id="3-5-åº”ç”¨"><a href="#3-5-åº”ç”¨" class="headerlink" title="3.5 åº”ç”¨"></a>3.5 åº”ç”¨</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç”¨æ¥æ˜¾ç¤ºä¸€ä¸ªäººå‘˜ä¿¡æ¯çš„ç»„ä»¶</p><p>å§“åå¿…é¡»æŒ‡å®šï¼Œä¸”ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼›</p><p>æ€§åˆ«ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœæ€§åˆ«æ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸ºç”·</p><p>å¹´é¾„ä¸ºæ•°å­—ç±»å‹ï¼Œé»˜è®¤å€¼ä¸º18</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">//é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>,<span class="hljs-comment">//é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>,<span class="hljs-comment">//é™åˆ¶ageä¸ºæ•°å€¼</span><br>  &#125;<br><br>  <span class="hljs-comment">//æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br>  <span class="hljs-keyword">static</span> defaultProps = &#123;<br>    <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-comment">//sexé»˜è®¤å€¼ä¸ºç”·</span><br>    <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">//ageé»˜è®¤å€¼ä¸º18</span><br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// console.log(this);</span><br>    <span class="hljs-keyword">const</span> &#123;name,age,sex&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-comment">//propsæ˜¯åªè¯»çš„</span><br>    <span class="hljs-comment">//this.props.name = &#x27;jack&#x27; //æ­¤è¡Œä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºpropsæ˜¯åªè¯»çš„</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age+1&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jerry&quot;</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test1&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="3-6-å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props"><a href="#3-6-å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props" class="headerlink" title="3.6 å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props"></a>3.6 å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨props</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span> (props)&#123;<br>  <span class="hljs-keyword">const</span> &#123;name,age,sex&#125; = props<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å§“åï¼š&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§åˆ«ï¼š&#123;sex&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¹´é¾„ï¼š&#123;age&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>&#125;<br><br><span class="hljs-comment">//å¯¹æ ‡ç­¾å±æ€§è¿›è¡Œç±»å‹ã€å¿…è¦æ€§çš„é™åˆ¶</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">name</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>, <span class="hljs-comment">//é™åˆ¶nameå¿…ä¼ ï¼Œä¸”ä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">sex</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>,  <span class="hljs-comment">//é™åˆ¶sexä¸ºå­—ç¬¦ä¸²</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>,  <span class="hljs-comment">//é™åˆ¶ageä¸ºæ•°å€¼</span><br>&#125;<br><br><span class="hljs-comment">// æŒ‡å®šé»˜è®¤æ ‡ç­¾å±æ€§å€¼</span><br><span class="hljs-title class_">Person</span>.<span class="hljs-property">defaultProps</span> = &#123;<br>  <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;ç”·&#x27;</span>,<span class="hljs-comment">// sexé»˜è®¤å€¼ä¸ºç”·</span><br>  <span class="hljs-attr">age</span>:<span class="hljs-number">18</span> <span class="hljs-comment">// ageé»˜è®¤å€¼ä¸º18</span><br>&#125;<br><br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Person</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jerry&quot;</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test1&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="4-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3-refsä¸äº‹ä»¶å¤„ç†"><a href="#4-ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3-refsä¸äº‹ä»¶å¤„ç†" class="headerlink" title="4. ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3: refsä¸äº‹ä»¶å¤„ç†"></a>4. ç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§3: refsä¸äº‹ä»¶å¤„ç†</h2><h3 id="4-1-ç†è§£"><a href="#4-1-ç†è§£" class="headerlink" title="4.1 ç†è§£"></a>4.1 ç†è§£</h3><p>ç»„ä»¶å†…çš„æ ‡ç­¾å¯ä»¥å®šä¹‰refå±æ€§æ¥æ ‡è¯†è‡ªå·±</p><h3 id="4-2-åº”ç”¨"><a href="#4-2-åº”ç”¨" class="headerlink" title="4.2 åº”ç”¨"></a>4.2 åº”ç”¨</h3><p>éœ€æ±‚: è‡ªå®šä¹‰ç»„ä»¶, åŠŸèƒ½è¯´æ˜å¦‚ä¸‹</p><p>ç‚¹å‡»æŒ‰é’®, æç¤ºç¬¬ä¸€ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</p><p>å½“ç¬¬2ä¸ªè¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶, æç¤ºè¿™ä¸ªè¾“å…¥æ¡†ä¸­çš„å€¼</p><h2 id="4-3-ç¼–ç "><a href="#4-3-ç¼–ç " class="headerlink" title="4.3 ç¼–ç "></a>4.3 ç¼–ç </h2><h3 id="4-3-1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ-æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº†-ï¼‰"><a href="#4-3-1-å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ-æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº†-ï¼‰" class="headerlink" title="4.3.1 å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ** æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº† **ï¼‰"></a>4.3.1 å­—ç¬¦ä¸²å½¢å¼çš„refï¼ˆ** æ–°ç‰ˆæœ¬ä¸æ¨èä½¿ç”¨äº† **ï¼‰</h3><ol><li><p>å®šä¹‰</p><input ref="input1"/></li><li><p>ä½¿ç”¨<br>this.refs.input1</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input1&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span><br>    <span class="hljs-title function_">alert</span>(input1.<span class="hljs-property">value</span>)<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input2&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refs</span><br>    <span class="hljs-title function_">alert</span>(input2.<span class="hljs-property">value</span>)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;input1&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;input2&quot;</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure></li></ol><h3 id="4-3-2-å›è°ƒå½¢å¼çš„ref"><a href="#4-3-2-å›è°ƒå½¢å¼çš„ref" class="headerlink" title="4.3.2 å›è°ƒå½¢å¼çš„ref"></a>4.3.2 å›è°ƒå½¢å¼çš„ref</h3><ol><li>å®šä¹‰</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;input ref=&#123;<span class="hljs-function">(<span class="hljs-params">currentNode</span>)=&gt;</span>&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">input1</span> = currentNode&#125;&#125; /&gt;<br></code></pre></td></tr></table></figure><p>ç®€å†™ä¸€ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;input ref=&#123; <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">input1</span> = c &#125; /&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨</li></ol><p>this.input1</p><ol start="3"><li>ç¤ºä¾‹</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-comment">//ä»å®ä¾‹è‡ªèº«å–</span><br>    <span class="hljs-keyword">const</span> &#123;input1&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(input1.<span class="hljs-property">value</span>)<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> &#123;input2&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(input2.<span class="hljs-property">value</span>)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">c</span> =&gt;</span> this.input1 = c &#125; type=&quot;text&quot; placeholder=&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;/&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.input2 = c &#125; type=&quot;text&quot; placeholder=&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;/&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><ol start="4"><li>å›è°ƒæ‰§è¡Œæ¬¡æ•°</li></ol><p><img src="https://user-images.githubusercontent.com/117837871/218298374-9f3931c3-ea0d-45a5-80c2-cd4b15e1a51f.png" alt="image"></p><p><img src="https://user-images.githubusercontent.com/117837871/218298384-a6b30e7b-a208-408e-b0ca-27d979d71fe6.png" alt="image"></p><p>å†…è”çš„å›è°ƒï¼Œæ¸²æŸ“æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡æ›´æ–°éƒ½ä¼šæ‰§è¡Œä¸¤æ¬¡</p><p>ç±»ç»‘å®šçš„å›è°ƒï¼Œå°±åœ¨åˆå§‹æ¸²æŸ“æ—¶è°ƒç”¨ä¸€æ¬¡</p><p>å½±å“ä¸å¤§ï¼Œæ—¥å¸¸å¼€å‘åŸºæœ¬éƒ½ç”¨å†…è”ï¼Œæ–¹ä¾¿ä¸€ç‚¹</p><h3 id="4-3-3-createRefåˆ›å»ºrefå®¹å™¨"><a href="#4-3-3-createRefåˆ›å»ºrefå®¹å™¨" class="headerlink" title="4.3.3 createRefåˆ›å»ºrefå®¹å™¨"></a>4.3.3 createRefåˆ›å»ºrefå®¹å™¨</h3><ol><li>å®šä¹‰</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// React.createRefè°ƒç”¨åå¯ä»¥è¿”å›ä¸€ä¸ªå®¹å™¨</span><br><span class="hljs-comment">// è¯¥å®¹å™¨å¯ä»¥å­˜å‚¨è¢«refæ‰€æ ‡è¯†çš„èŠ‚ç‚¹,è¯¥å®¹å™¨æ˜¯â€œä¸“äººä¸“ç”¨â€çš„</span><br>myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>() <br><br>&lt;input ref=&#123;<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>&#125;/&gt;<br></code></pre></td></tr></table></figure><ol start="2"><li>ä½¿ç”¨</li></ol><p>this.myRef.current</p><ol start="3"><li>ç¤ºä¾‹</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  myRef2 = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef2</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="5-Reactä¸­çš„äº‹ä»¶å¤„ç†"><a href="#5-Reactä¸­çš„äº‹ä»¶å¤„ç†" class="headerlink" title="5. Reactä¸­çš„äº‹ä»¶å¤„ç†"></a>5. Reactä¸­çš„äº‹ä»¶å¤„ç†</h2><p>é€šè¿‡onXxxå±æ€§æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°(æ³¨æ„å¤§å°å†™)</p><p>Reactä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰(åˆæˆ)äº‹ä»¶, è€Œä¸æ˜¯ä½¿ç”¨çš„åŸç”ŸDOMäº‹ä»¶â€”-ä¸ºäº†æ›´å¥½çš„å…¼å®¹æ€§</p><p>Reactä¸­çš„äº‹ä»¶æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜æ–¹å¼å¤„ç†çš„(å§”æ‰˜ç»™ç»„ä»¶æœ€å¤–å±‚çš„å…ƒç´ ) â€”-ä¸ºäº†çš„é«˜æ•ˆ</p><p>é€šè¿‡event.targetå¾—åˆ°å‘ç”Ÿäº‹ä»¶çš„DOMå…ƒç´ å¯¹è±¡â€”-ä¸è¦è¿‡åº¦ä½¿ç”¨ref</p><p>å‘ç”Ÿäº‹ä»¶çš„å…ƒç´ æ˜¯éœ€è¦æ“ä½œçš„å…ƒç´ æ—¶ï¼Œå¯ä»¥é¿å…ä½¿ç”¨ref</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">//åˆ›å»ºrefå®¹å™¨</span><br>  myRef = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createRef</span>()<br>  <span class="hljs-comment">// myRef2 = React.createRef()</span><br><br>  <span class="hljs-comment">//å±•ç¤ºå·¦ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>); <span class="hljs-comment">// &lt;button&gt;ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®&lt;/button&gt;</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myRef</span>.<span class="hljs-property">current</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-comment">//å±•ç¤ºå³ä¾§è¾“å…¥æ¡†çš„æ•°æ®</span><br>  showData2 = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    <span class="hljs-title function_">alert</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;this.myRef&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;ç‚¹å‡»æŒ‰é’®æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.showData&#125;</span>&gt;</span>ç‚¹æˆ‘æç¤ºå·¦ä¾§çš„æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onBlur</span>=<span class="hljs-string">&#123;this.showData2&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å¤±å»ç„¦ç‚¹æç¤ºæ•°æ®&quot;</span>/&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶åˆ°é¡µé¢</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="6-æ”¶é›†è¡¨å•æ•°æ®"><a href="#6-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="6. æ”¶é›†è¡¨å•æ•°æ®"></a>6. æ”¶é›†è¡¨å•æ•°æ®</h2><h3 id="6-1-ç†è§£"><a href="#6-1-ç†è§£" class="headerlink" title="6.1 ç†è§£"></a>6.1 ç†è§£</h3><p>åŒ…å«è¡¨å•çš„ç»„ä»¶åˆ†ç±»</p><p>å—æ§ç»„ä»¶</p><p>éå—æ§ç»„ä»¶</p><h3 id="6-2-åº”ç”¨"><a href="#6-2-åº”ç”¨" class="headerlink" title="6.2 åº”ç”¨"></a>6.2 åº”ç”¨</h3><p>éœ€æ±‚:</p><p>å®šä¹‰ä¸€ä¸ªåŒ…å«è¡¨å•çš„ç»„ä»¶</p><p>è¾“å…¥ç”¨æˆ·åå¯†ç å, ç‚¹å‡»ç™»å½•æç¤ºè¾“å…¥ä¿¡æ¯</p><h3 id="6-3-éå—æ§ç»„ä»¶"><a href="#6-3-éå—æ§ç»„ä»¶" class="headerlink" title="6.3 éå—æ§ç»„ä»¶"></a>6.3 éå—æ§ç»„ä»¶</h3><p>é¡µé¢ä¸­æ‰€æœ‰è¾“å…¥ç±»DOMçš„å€¼ï¼Œéƒ½æ˜¯ç°ç”¨ç°å–çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    event.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">// é˜»æ­¢è¡¨å•æäº¤</span><br>    <span class="hljs-keyword">const</span> &#123;username, password&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨è¾“å…¥çš„ç”¨æˆ·åæ˜¯ <span class="hljs-subst">$&#123;username.value&#125;</span>ï¼Œæ‚¨è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password.value&#125;</span>`</span>)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot; /&gt;</span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot; /&gt;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="6-4-å—æ§ç»„ä»¶"><a href="#6-4-å—æ§ç»„ä»¶" class="headerlink" title="6.4 å—æ§ç»„ä»¶"></a>6.4 å—æ§ç»„ä»¶</h2><p>é¡µé¢ä¸­è¾“å…¥ç±»çš„DOMï¼Œéšç€è¾“å…¥çš„è¿‡ç¨‹ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨çŠ¶æ€stateä¸­ï¼Œéœ€è¦ç”¨çš„æ—¶å€™åœ¨ä»çŠ¶æ€stateä¸­å–ï¼ˆæœ‰ç‚¹ç±»ä¼¼Vueä¸­çš„åŒå‘æ•°æ®ç»‘å®šï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span><br>  &#125;<br>  <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·ååˆ°çŠ¶æ€ä¸­</span><br>  saveUsername = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">username</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>  &#125;<br>  <span class="hljs-comment">// ä¿å­˜å¯†ç åˆ°çŠ¶æ€ä¸­</span><br>  savePassword = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">password</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>  &#125;<br>  <span class="hljs-comment">// è¡¨å•æäº¤çš„å›è°ƒ</span><br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    event.<span class="hljs-title function_">preventDefault</span>()<br>    <span class="hljs-keyword">const</span> &#123;username, password&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`æ‚¨è¾“å…¥çš„ç”¨æˆ·åæ˜¯ <span class="hljs-subst">$&#123;username&#125;</span>ï¼Œæ‚¨è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password&#125;</span>`</span>)<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveUsername&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> /&gt;</span></span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.savePassword&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="7-é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–"><a href="#7-é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–" class="headerlink" title="7. é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–"></a>7. é«˜é˜¶å‡½æ•°ä¸å‡½æ•°çš„æŸ¯é‡ŒåŒ–</h2><h3 id="7-1-é«˜é˜¶å‡½æ•°"><a href="#7-1-é«˜é˜¶å‡½æ•°" class="headerlink" title="7.1 é«˜é˜¶å‡½æ•°"></a>7.1 é«˜é˜¶å‡½æ•°</h3><p>é«˜é˜¶å‡½æ•°ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ç¬¦åˆä¸‹é¢2ä¸ªè§„èŒƒä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œé‚£è¯¥å‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•°ã€‚</p><p>è‹¥Aå‡½æ•°ï¼Œæ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±å¯ä»¥ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚</p><p>è‹¥Aå‡½æ•°ï¼Œè°ƒç”¨çš„è¿”å›å€¼ä¾ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆAå°±å¯ä»¥ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚</p><p>å¸¸è§çš„é«˜é˜¶å‡½æ•°æœ‰ï¼šPromiseã€setTimeoutã€arr.map()ç­‰ç­‰</p><h3 id="7-2-å‡½æ•°çš„æŸ¯é‡ŒåŒ–"><a href="#7-2-å‡½æ•°çš„æŸ¯é‡ŒåŒ–" class="headerlink" title="7.2 å‡½æ•°çš„æŸ¯é‡ŒåŒ–"></a>7.2 å‡½æ•°çš„æŸ¯é‡ŒåŒ–</h3><p>å‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼šé€šè¿‡å‡½æ•°è°ƒç”¨ç»§ç»­è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œå®ç°å¤šæ¬¡æ¥æ”¶å‚æ•°æœ€åç»Ÿä¸€å¤„ç†çš„å‡½æ•°ç¼–ç å½¢å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum1</span>(<span class="hljs-params">a, b, c</span>)&#123;<br>  <span class="hljs-keyword">return</span> a + b + c;<br>&#125;<br><span class="hljs-title function_">sum1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment">// æŸ¯é‡ŒåŒ–å</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">a</span>)&#123;<br>  <span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">b</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">c</span>)=&gt;</span>&#123;<br>      <span class="hljs-keyword">return</span> a+b+c<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><h3 id="7-3-åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6-4çš„ä»£ç "><a href="#7-3-åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6-4çš„ä»£ç " class="headerlink" title="7.3 åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6.4çš„ä»£ç "></a>7.3 åˆ©ç”¨é«˜é˜¶å‡½æ•°ä¸å‡½æ•°æŸ¯é‡ŒåŒ–ç®€å†™6.4çš„ä»£ç </h3><p>å¿…é¡»ä¼ ä¸€ä¸ªå‡½æ•°ä½œä¸ºonChangeäº‹ä»¶çš„å›è°ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br>  <span class="hljs-comment">//åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">username</span>:<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-comment">//ç”¨æˆ·å</span><br>    <span class="hljs-attr">password</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">//å¯†ç </span><br>  &#125;<br><br>  <span class="hljs-comment">//ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­ ï¼ˆé«˜é˜¶å‡½æ•°+å‡½æ•°æŸ¯é‡ŒåŒ–ï¼‰</span><br>  saveFormData = <span class="hljs-function">(<span class="hljs-params">dataType</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;[dataType]:event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">//è¡¨å•æäº¤çš„å›è°ƒ</span><br>  handleSubmit = <span class="hljs-function">(<span class="hljs-params">event</span>)=&gt;</span>&#123;<br>    event.<span class="hljs-title function_">preventDefault</span>() <span class="hljs-comment">//é˜»æ­¢è¡¨å•æäº¤</span><br>    <span class="hljs-keyword">const</span> &#123;username,password&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ è¾“å…¥çš„ç”¨æˆ·åæ˜¯ï¼š<span class="hljs-subst">$&#123;username&#125;</span>,ä½ è¾“å…¥çš„å¯†ç æ˜¯ï¼š<span class="hljs-subst">$&#123;password&#125;</span>`</span>)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveFormData(</span>&#x27;<span class="hljs-attr">username</span>&#x27;)&#125; <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>/&gt;</span></span><br><span class="language-xml">        å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.saveFormData(</span>&#x27;<span class="hljs-attr">password</span>&#x27;)&#125; <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="7-4-ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7-3"><a href="#7-4-ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7-3" class="headerlink" title="7.4 ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7.3"></a>7.4 ä¸ç”¨æŸ¯é‡ŒåŒ–å®ç°7.3</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä¿å­˜è¡¨å•æ•°æ®åˆ°çŠ¶æ€ä¸­</span><br>saveFormData = <span class="hljs-function">(<span class="hljs-params">dataType,event</span>)=&gt;</span>&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;[dataType]:event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>&#125;)<br>&#125;<br><br><span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-keyword">return</span>(<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;this.handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">  ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">event</span> =&gt;</span> this.saveFormData(&#x27;username&#x27;,event) &#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span><br><span class="language-xml">  å¯†ç ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">event</span> =&gt;</span> this.saveFormData(&#x27;password&#x27;,event) &#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ-è™šæ‹ŸDOM-DOM-Diffingç®—æ³•"><a href="#ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ-è™šæ‹ŸDOM-DOM-Diffingç®—æ³•" class="headerlink" title="ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ - è™šæ‹ŸDOM - DOM Diffingç®—æ³•"></a>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ - è™šæ‹ŸDOM - DOM Diffingç®—æ³•</h1><h2 id="1-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#1-ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1. ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>1. ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="1-1-ç†è§£"><a href="#1-1-ç†è§£" class="headerlink" title="1.1 ç†è§£"></a>1.1 ç†è§£</h3><p>ç»„ä»¶ä»åˆ›å»ºåˆ°æ­»äº¡å®ƒä¼šç»å†ä¸€äº›ç‰¹å®šçš„é˜¶æ®µã€‚</p><p>Reactç»„ä»¶ä¸­åŒ…å«ä¸€ç³»åˆ—å‹¾å­å‡½æ•°(ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°), ä¼šåœ¨ç‰¹å®šçš„æ—¶åˆ»è°ƒç”¨ã€‚</p><p>æˆ‘ä»¬åœ¨å®šä¹‰ç»„ä»¶æ—¶ï¼Œä¼šåœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ä¸­ï¼Œåšç‰¹å®šçš„å·¥ä½œã€‚</p><h3 id="1-2-å¼•å…¥æ¡ˆä¾‹"><a href="#1-2-å¼•å…¥æ¡ˆä¾‹" class="headerlink" title="1.2 å¼•å…¥æ¡ˆä¾‹"></a>1.2 å¼•å…¥æ¡ˆä¾‹</h3><p>éœ€æ±‚:å®šä¹‰ç»„ä»¶å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><p>è®©æŒ‡å®šçš„æ–‡æœ¬åšæ˜¾ç¤º &#x2F; éšè—çš„æ¸å˜åŠ¨ç”»</p><p>ä»å®Œå…¨å¯è§ï¼Œåˆ°å½»åº•æ¶ˆå¤±ï¼Œè€—æ—¶2S</p><p>ç‚¹å‡»â€œä¸æ´»äº†â€æŒ‰é’®ä»ç•Œé¢ä¸­å¸è½½ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åˆ›å»ºç»„ä»¶</span><br><span class="hljs-comment">//ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸå‡½æ•° &lt;=&gt; ç”Ÿå‘½å‘¨æœŸé’©å­</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Life</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  state = &#123;<span class="hljs-attr">opacity</span>:<span class="hljs-number">1</span>&#125;<br><br>  death = <span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨</span><br>    <span class="hljs-comment">// clearInterval(this.timer)</span><br>    <span class="hljs-comment">// å¸è½½ç»„ä»¶</span><br>    <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">unmountComponentAtNode</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br>  &#125;<br><br>  <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½å®Œæ¯•</span><br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;componentDidMount&#x27;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-comment">//è·å–åŸçŠ¶æ€</span><br>      <span class="hljs-keyword">let</span> &#123;opacity&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>      <span class="hljs-comment">//å‡å°0.1</span><br>      opacity -= <span class="hljs-number">0.1</span><br>      <span class="hljs-keyword">if</span>(opacity &lt;= <span class="hljs-number">0</span>) opacity = <span class="hljs-number">1</span><br>      <span class="hljs-comment">//è®¾ç½®æ–°çš„é€æ˜åº¦</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;opacity&#125;)<br>    &#125;, <span class="hljs-number">200</span>);<br>  &#125;<br><br>  <span class="hljs-comment">// ç»„ä»¶å°†è¦å¸è½½</span><br>  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨</span><br>    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>)<br>  &#125;<br><br>  <span class="hljs-comment">// åˆå§‹åŒ–æ¸²æŸ“ã€çŠ¶æ€æ›´æ–°ä¹‹å è°ƒç”¨1+næ¬¡</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;render&#x27;</span>);<br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;opacity:this.state.opacity&#125;&#125;</span>&gt;</span>Reactå­¦ä¸ä¼šæ€ä¹ˆåŠï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.death&#125;</span>&gt;</span>ä¸æ´»äº†<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br><span class="hljs-comment">//æ¸²æŸ“ç»„ä»¶</span><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Life</span>/&gt;</span></span>,<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="image"></p><p><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc4090cc0a5f44248e534fec82ab82d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image</a></p><h3 id="1-3-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰"><a href="#1-3-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰" class="headerlink" title="1.3 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰"></a>1.3 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ—§ï¼‰</h3><p><img src="https://user-images.githubusercontent.com/117837871/218704757-f4bd7825-9d5d-4eb6-89fe-2c33532ac4aa.png" alt="image"></p><p>v16.8.4</p><h4 id="1-3-1-åˆå§‹åŒ–é˜¶æ®µ"><a href="#1-3-1-åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="1.3.1 åˆå§‹åŒ–é˜¶æ®µ"></a>1.3.1 åˆå§‹åŒ–é˜¶æ®µ</h4><p>ç”±**ReactDOM.render()**è§¦å‘â€”åˆæ¬¡æ¸²æŸ“</p><p>1.**constructor()**â€”â€” ç±»ç»„ä»¶ä¸­çš„æ„é€ å‡½æ•°</p><p>2.<strong>componentWillMount()</strong> â€”â€” ç»„ä»¶å°†è¦æŒ‚è½½ ã€å³å°†åºŸå¼ƒã€‘</p><p>3.<strong>render()</strong>  â€”â€” æŒ‚è½½ç»„ä»¶</p><p>4.<strong>componentDidMount()</strong> â€”â€” ç»„ä»¶æŒ‚è½½å®Œæˆ æ¯”è¾ƒå¸¸ç”¨ï¼š</p><p>ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼Œä¾‹å¦‚ï¼šå¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Count</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span>&#123;<br><br>  <span class="hljs-comment">// æ„é€ å™¨</span><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;constructor&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---constructor&#x27;</span>);<br><span class="hljs-variable language_">super</span>(props)<br><span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;<span class="hljs-attr">count</span>:<span class="hljs-number">0</span>&#125;<br>  &#125;<br>  <span class="hljs-comment">// state = &#123;count:0&#125;</span><br>  add = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">count</span>: count+<span class="hljs-number">1</span>&#125;)<br>  &#125;<br>  <br>  <span class="hljs-comment">//ç»„ä»¶å°†è¦æŒ‚è½½çš„é’©å­ã€å³å°†åºŸå¼ƒã€‘</span><br>  <span class="hljs-title function_">componentWillMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;componentWillMount&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---componentWillMount&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-comment">// æŒ‚è½½ç»„ä»¶</span><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;render&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---render&#x27;</span>);<br>    <span class="hljs-keyword">const</span> &#123;count&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span>(<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å½“å‰è®¡æ•°å€¼ï¼š&#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.add&#125;</span>&gt;</span>ç‚¹æˆ‘+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br><br>  <span class="hljs-comment">//ç»„ä»¶æŒ‚è½½å®Œæ¯•çš„é’©å­</span><br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;componentDidMount&#x27;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Count---componentDidMount&#x27;</span>);<br>  &#125;<br>&#125;<br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Count</span>/&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;test&#x27;</span>))<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/218704847-ae672973-44d9-44c1-b65c-45a8751596e1.png" alt="image"><br><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7505801778224e368ee9f40edf2d2642~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7505801778224e368ee9f40edf2d2642~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image</a></p><h4 id="1-3-2-æ›´æ–°é˜¶æ®µ"><a href="#1-3-2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="1.3.2 æ›´æ–°é˜¶æ®µ"></a>1.3.2 æ›´æ–°é˜¶æ®µ</h4><p>ã€ç¬¬ä¸€ç§æƒ…å†µã€‘çˆ¶ç»„ä»¶é‡æ–°<strong>render</strong>è§¦å‘</p><p><strong>componentWillReceiveProps()</strong> â€”â€” æ¥æ”¶å±æ€§å‚æ•°ï¼ˆéé¦–æ¬¡ï¼‰ã€å³å°†åºŸå¼ƒã€‘</p><p>ç„¶åè°ƒç”¨ä¸‹é¢çš„é’©å­å‡½æ•°*</p><p>ã€ç¬¬äºŒç§æƒ…å†µã€‘ç”±ç»„ä»¶å†…éƒ¨<strong>this.setSate()</strong></p><p><strong>shouldComponentUpdate()</strong> â€”â€” ç»„ä»¶æ˜¯å¦åº”è¯¥è¢«æ›´æ–°ï¼ˆé»˜è®¤è¿”å›trueï¼‰</p><p>ç„¶åè°ƒç”¨ä¸‹é¢çš„é’©å­å‡½æ•°</p><p>ã€ç¬¬ä¸‰ç§æƒ…å†µã€‘å¼ºåˆ¶æ›´æ–° <strong>forceUpdate()</strong></p><p><strong>componentWillUpdate()</strong> â€”â€”ç»„ä»¶å°†è¦æ›´æ–° ã€å³å°†åºŸå¼ƒã€‘</p><p><strong>render()</strong> â€”â€” ç»„ä»¶æ›´æ–°</p><p><strong>componentDidUpdate()</strong> â€”â€” ç»„ä»¶å®Œæˆæ›´æ–°</p><h4 id="1-3-3-å¸è½½ç»„ä»¶"><a href="#1-3-3-å¸è½½ç»„ä»¶" class="headerlink" title="1.3.3 å¸è½½ç»„ä»¶"></a>1.3.3 å¸è½½ç»„ä»¶</h4><p>ç”±**ReactDOM.unmountComponentAtNode()**è§¦å‘</p><p><strong>componentWillUnmount()</strong> â€”â€” ç»„ä»¶å³å°†å¸è½½</p><h3 id="1-4-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰"><a href="#1-4-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰" class="headerlink" title="1.4 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰"></a>1.4 ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼ˆæ–°ï¼‰</h3><p>![image](<a href="https://user-images.githubusercontent.com/11783">https://user-images.githubusercontent.com/11783</a>  7871&#x2F;218704912-83a52735-9acc-42e0-9cc6-83e6d752122f.png)</p><p>v17.0.1</p><h5 id="1-åˆå§‹åŒ–é˜¶æ®µ"><a href="#1-åˆå§‹åŒ–é˜¶æ®µ" class="headerlink" title="1. åˆå§‹åŒ–é˜¶æ®µ"></a>1. åˆå§‹åŒ–é˜¶æ®µ</h5><p>ç”±**ReactDOM.render()**è§¦å‘ â€”â€” åˆæ¬¡æ¸²æŸ“</p><ul><li><p><strong>constructor()</strong> â€”â€” ç±»ç»„ä»¶ä¸­çš„æ„é€ å‡½æ•°</p></li><li><p><strong>static getDerivedStateFromProps(props, state)</strong> ä»propså¾—åˆ°ä¸€ä¸ªæ´¾ç”Ÿçš„çŠ¶æ€ã€æ–°å¢ã€‘</p></li><li><p><strong>render()</strong> â€”â€” æŒ‚è½½ç»„ä»¶</p></li><li><p><strong>componentDidMount()</strong> â€”â€” ç»„ä»¶æŒ‚è½½å®Œæˆ æ¯”è¾ƒ&#x3D;&#x3D;å¸¸ç”¨&#x3D;&#x3D;</p></li></ul><h5 id="2-æ›´æ–°é˜¶æ®µ"><a href="#2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="2. æ›´æ–°é˜¶æ®µ"></a>2. æ›´æ–°é˜¶æ®µ</h5><p>ç”±ç»„ä»¶å†…éƒ¨<strong>this.setSate()<strong>æˆ–çˆ¶ç»„ä»¶</strong>é‡æ–°render</strong>è§¦å‘æˆ–å¼ºåˆ¶æ›´æ–°<strong>forceUpdate()</strong></p><ul><li><p><strong>getDerivedStateFromProps()</strong> â€”â€” ä»propså¾—åˆ°ä¸€ä¸ªæ´¾ç”Ÿçš„çŠ¶æ€  ã€æ–°å¢ã€‘</p></li><li><p><strong>shouldComponentUpdate()</strong> â€”â€” ç»„ä»¶æ˜¯å¦åº”è¯¥è¢«æ›´æ–°ï¼ˆé»˜è®¤è¿”å›trueï¼‰</p></li><li><p><strong>render()</strong> â€”â€” æŒ‚è½½ç»„ä»¶</p></li><li><p><strong>getSnapshotBeforeUpdate()</strong> â€”â€” åœ¨æ›´æ–°ä¹‹å‰è·å–å¿«ç…§ã€æ–°å¢ã€‘</p></li><li><p><strong>componentDidUpdate(prevProps, prevState, snapshotValue)</strong> â€”â€” ç»„ä»¶å®Œæˆæ›´æ–°</p></li></ul><h5 id="3-å¸è½½ç»„ä»¶"><a href="#3-å¸è½½ç»„ä»¶" class="headerlink" title="3. å¸è½½ç»„ä»¶"></a>3. å¸è½½ç»„ä»¶</h5><ul><li><p>ç”±ReactDOM.unmountComponentAtNode()è§¦å‘</p></li><li><p><strong>componentWillUnmount()</strong> â€”â€” ç»„ä»¶å³å°†å¸è½½</p></li></ul><h3 id="1-5-é‡è¦çš„å‹¾å­"><a href="#1-5-é‡è¦çš„å‹¾å­" class="headerlink" title="1.5 é‡è¦çš„å‹¾å­"></a>1.5 é‡è¦çš„å‹¾å­</h3><p><strong>render</strong>ï¼šåˆå§‹åŒ–æ¸²æŸ“æˆ–æ›´æ–°æ¸²æŸ“è°ƒç”¨</p><p><strong>componentDidMount</strong>ï¼šå¼€å¯ç›‘å¬, å‘é€ajaxè¯·æ±‚</p><p><strong>componentWillUnmount</strong>ï¼šåšä¸€äº›æ”¶å°¾å·¥ä½œ, å¦‚: æ¸…ç†å®šæ—¶å™¨</p><h3 id="1-6-å³å°†åºŸå¼ƒçš„å‹¾å­"><a href="#1-6-å³å°†åºŸå¼ƒçš„å‹¾å­" class="headerlink" title="1.6 å³å°†åºŸå¼ƒçš„å‹¾å­"></a>1.6 å³å°†åºŸå¼ƒçš„å‹¾å­</h3><p>componentWillMount</p><p>componentWillReceiveProps</p><p>componentWillUpdate</p><p>ç°åœ¨ä½¿ç”¨ä¼šå‡ºç°è­¦å‘Šï¼Œä¸‹ä¸€ä¸ªå¤§ç‰ˆæœ¬éœ€è¦åŠ ä¸ŠUNSAFE_å‰ç¼€æ‰èƒ½ä½¿ç”¨ï¼Œä»¥åå¯èƒ½ä¼šè¢«å½»åº•åºŸå¼ƒï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p><h2 id="2-è™šæ‹ŸDOMä¸DOM-Diffingç®—æ³•"><a href="#2-è™šæ‹ŸDOMä¸DOM-Diffingç®—æ³•" class="headerlink" title="2. è™šæ‹ŸDOMä¸DOM Diffingç®—æ³•"></a>2. è™šæ‹ŸDOMä¸DOM Diffingç®—æ³•</h2><h3 id="2-1-åŸºæœ¬åŸç†å›¾"><a href="#2-1-åŸºæœ¬åŸç†å›¾" class="headerlink" title="2.1 åŸºæœ¬åŸç†å›¾"></a>2.1 åŸºæœ¬åŸç†å›¾</h3><p><img src="https://user-images.githubusercontent.com/117837871/218704968-244b5f61-9cad-4458-8fcf-fa62ba1e00ab.png" alt="image"></p><p>è¯¦ç»†çš„åŸç†å¯ä»¥çœ‹ä¹‹å‰åœ¨å­¦Vueæºç æ—¶çš„å…³äºdiffçš„ç¬”è®°ã€Vueæºç ã€‘å›¾è§£ diffç®—æ³• ä¸ è™šæ‹ŸDOM-snabbdom-æœ€å°é‡æ›´æ–°åŸç†è§£æ-æ‰‹å†™æºç -</p><h3 id="2-2-å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜"><a href="#2-2-å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜" class="headerlink" title="2.2 å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜"></a>2.2 å…³äºkeyçš„ç»å…¸é¢è¯•é¢˜</h3><p>react&#x2F;vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼ˆkeyçš„å†…éƒ¨åŸç†æ˜¯ä»€ä¹ˆï¼Ÿï¼‰</p><p>ä¸ºä»€ä¹ˆéå†åˆ—è¡¨æ—¶ï¼Œkeyæœ€å¥½ä¸è¦ç”¨index?</p><h4 id="2-2-1-è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨"><a href="#2-2-1-è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨" class="headerlink" title="2.2.1 è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨"></a>2.2.1 è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨</h4><p>ç®€å•çš„è¯´: keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†, åœ¨æ›´æ–°æ˜¾ç¤ºæ—¶keyèµ·ç€æå…¶é‡è¦çš„ä½œç”¨ã€‚</p><p>è¯¦ç»†çš„è¯´: å½“çŠ¶æ€ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œreactä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, éšåReactè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„diffæ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</p><p>æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š</p><p>è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOM</p><p>è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOM</p><p>æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</p><p>æ ¹æ®æ•°æ®åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢</p><h4 id="2-2-2-ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜"><a href="#2-2-2-ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜" class="headerlink" title="2.2.2 ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜"></a>2.2.2 ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜</h4><p>è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ: ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½</p><p>å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼šä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° &#x3D;&#x3D;&gt; ç•Œé¢æœ‰é—®é¢˜</p><p>æ³¨æ„ï¼å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„</p><p>2.2.3 å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?</p><p>æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼</p><p>å¦‚æœç¡®å®šåªæ˜¯ç®€å•çš„å±•ç¤ºæ•°æ®ï¼Œç”¨indexä¹Ÿæ˜¯å¯ä»¥çš„</p><h1 id="ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"><a href="#ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨" class="headerlink" title="ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨"></a>ä½¿ç”¨create-react-appåˆ›å»ºreactåº”ç”¨</h1><h2 id="1-1-reactè„šæ‰‹æ¶"><a href="#1-1-reactè„šæ‰‹æ¶" class="headerlink" title="1.1. reactè„šæ‰‹æ¶"></a>1.1. reactè„šæ‰‹æ¶</h2><p>1.xxxè„šæ‰‹æ¶: ç”¨æ¥å¸®åŠ©ç¨‹åºå‘˜å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸºäºxxxåº“çš„æ¨¡æ¿é¡¹ç›®</p><ul><li><p>åŒ…å«äº†æ‰€æœ‰éœ€è¦çš„é…ç½®ï¼ˆè¯­æ³•æ£€æŸ¥ã€jsxç¼–è¯‘ã€devServerâ€¦ï¼‰</p></li><li><p>ä¸‹è½½å¥½äº†æ‰€æœ‰ç›¸å…³çš„ä¾èµ–</p></li><li><p>å¯ä»¥ç›´æ¥è¿è¡Œä¸€ä¸ªç®€å•æ•ˆæœ</p></li></ul><p>2.reactæä¾›äº†ä¸€ä¸ªç”¨äºåˆ›å»ºreacté¡¹ç›®çš„è„šæ‰‹æ¶åº“: create-react-app</p><p>3.é¡¹ç›®çš„æ•´ä½“æŠ€æœ¯æ¶æ„ä¸º:  react + webpack + es6 + eslint</p><p>4.ä½¿ç”¨è„šæ‰‹æ¶å¼€å‘çš„é¡¹ç›®çš„ç‰¹ç‚¹: æ¨¡å—åŒ–, ç»„ä»¶åŒ–, å·¥ç¨‹åŒ–</p><h2 id="1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"><a href="#1-2-åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨" class="headerlink" title="1.2. åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨"></a>1.2. åˆ›å»ºé¡¹ç›®å¹¶å¯åŠ¨</h2><p>å…¨å±€å®‰è£…ï¼š<strong>npm install -g create-react-app</strong></p><p>åˆ‡æ¢åˆ°æƒ³åˆ›é¡¹ç›®çš„ç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<strong>create-react-app hello-react</strong></p><p>è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼š<strong>cd hello-react</strong></p><p>å¯åŠ¨é¡¹ç›®ï¼š<strong>npm start</strong></p><p><img src="https://user-images.githubusercontent.com/117837871/220043507-be6a541b-0555-45ef-9f6b-3b4d3d7f2933.png" alt="image"></p><p><img src="https://user-images.githubusercontent.com/117837871/220043555-34074e8d-6f6e-4465-b3f4-3b66839e455d.png" alt="image"></p><h2 id="1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#1-3-reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="1.3. reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>1.3. reactè„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h2><p>public â€”- é™æ€èµ„æºæ–‡ä»¶å¤¹</p><pre><code class="hljs">favicon.icon ------ ç½‘ç«™é¡µç­¾å›¾æ ‡index.html -------- ä¸»é¡µé¢logo192.png ------- logoå›¾logo512.png ------- logoå›¾manifest.json ----- åº”ç”¨åŠ å£³çš„é…ç½®æ–‡ä»¶robots.txt -------- çˆ¬è™«åè®®æ–‡ä»¶</code></pre><p>src â€”- æºç æ–‡ä»¶å¤¹</p><pre><code class="hljs">App.css -------- Appç»„ä»¶çš„æ ·å¼App.js --------- Appç»„ä»¶App.test.js ---- ç”¨äºç»™Appåšæµ‹è¯•</code></pre><p>  index.css â€”â€” æ ·å¼</p><p>  index.js â€”â€”- å…¥å£æ–‡ä»¶</p><p>  logo.svg â€”â€”- logoå›¾</p><p>  reportWebVitals.js â€” é¡µé¢æ€§èƒ½åˆ†ææ–‡ä»¶(éœ€è¦web-vitalsåº“çš„æ”¯æŒ)</p><p>  setupTests.js â€”- ç»„ä»¶å•å…ƒæµ‹è¯•çš„æ–‡ä»¶(éœ€è¦jest-domåº“çš„æ”¯æŒ)</p><p><strong>&gt;&gt;index.html</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- %PUBLIC_URL%ä»£è¡¨publicæ–‡ä»¶å¤¹çš„è·¯å¾„ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- å¼€å¯ç†æƒ³è§†å£ï¼Œç”¨äºåšç§»åŠ¨ç«¯ç½‘é¡µçš„é€‚é… --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- ç”¨äºé…ç½®æµè§ˆå™¨é¡µç­¾+åœ°å€æ çš„é¢œè‰²(ä»…æ”¯æŒå®‰å“æ‰‹æœºæµè§ˆå™¨) --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;theme-color&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;red&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;Web site created using create-react-app&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- ç”¨äºæŒ‡å®šç½‘é¡µæ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•åçš„å›¾æ ‡ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;apple-touch-icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/logo192.png&quot;</span> /&gt;</span></span><br><span class="language-xml">  </span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    manifest.json provides metadata used when your web app is installed on a</span></span><br><span class="hljs-comment"><span class="language-xml">    user&#x27;s mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- åº”ç”¨åŠ å£³æ—¶çš„é…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;manifest&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/manifest.json&quot;</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    Notice the use of %PUBLIC_URL% in the tags above.</span></span><br><span class="hljs-comment"><span class="language-xml">    It will be replaced with the URL of the `public` folder during the build.</span></span><br><span class="hljs-comment"><span class="language-xml">    Only files inside the `public` folder can be referenced from the HTML.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    Unlike &quot;/favicon.ico&quot; or &quot;favicon.ico&quot;, &quot;%PUBLIC_URL%/favicon.ico&quot; will</span></span><br><span class="hljs-comment"><span class="language-xml">    work correctly both with client-side routing and a non-root public URL.</span></span><br><span class="hljs-comment"><span class="language-xml">    Learn how to configure a non-root public URL by running `npm run build`.</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!-- è‹¥æµè§ˆå™¨ä¸æ”¯æŒjsåˆ™å±•ç¤ºæ ‡ç­¾ä¸­çš„å†…å®¹ --&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-comment">&lt;!--</span></span><br><span class="hljs-comment"><span class="language-xml">    This HTML file is a template.</span></span><br><span class="hljs-comment"><span class="language-xml">    If you open it directly in the browser, you will see an empty page.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    You can add webfonts, meta tags, or analytics to this file.</span></span><br><span class="hljs-comment"><span class="language-xml">    The build step will place the bundled scripts into the &lt;body&gt; tag.</span></span><br><span class="hljs-comment"><span class="language-xml"></span></span><br><span class="hljs-comment"><span class="language-xml">    To begin the development, run `npm start` or `yarn start`.</span></span><br><span class="hljs-comment"><span class="language-xml">    To create a production bundle, use `npm run build` or `yarn build`.</span></span><br><span class="hljs-comment"><span class="language-xml">  --&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span>;<br><span class="hljs-keyword">import</span> reportWebVitals <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./reportWebVitals&#x27;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)<br>);<br><br><span class="hljs-comment">// If you want to start measuring performance in your app, pass a function</span><br><span class="hljs-comment">// to log results (for example: reportWebVitals(console.log))</span><br><span class="hljs-comment">// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals</span><br><span class="hljs-title function_">reportWebVitals</span>();<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> logo <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./logo.svg&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.css&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;logo&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-logo&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;logo&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">          Edit <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>src/App.js<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> and save to reload.</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">a</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App-link&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://reactjs.org&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noopener noreferrer&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        &gt;</span></span><br><span class="language-xml">          Learn React</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;<br></code></pre></td></tr></table></figure><h2 id="1-4-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰"><a href="#1-4-åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰" class="headerlink" title="1.4. åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰"></a>1.4. åŠŸèƒ½ç•Œé¢çš„ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰</h2><p>1.æ‹†åˆ†ç»„ä»¶: æ‹†åˆ†ç•Œé¢,æŠ½å–ç»„ä»¶</p><p>2.å®ç°é™æ€ç»„ä»¶: ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ</p><p>3.å®ç°åŠ¨æ€ç»„ä»¶</p><ul><li><p>åŠ¨æ€æ˜¾ç¤ºåˆå§‹åŒ–æ•°æ®</p><ul><li><p>æ•°æ®ç±»å‹</p></li><li><p>æ•°æ®åç§°</p></li><li><p>ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶</p></li></ul></li><li><p>äº¤äº’(ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹)</p></li></ul><h1 id="2-è„šæ‰‹æ¶ç‰ˆ-Hello-React"><a href="#2-è„šæ‰‹æ¶ç‰ˆ-Hello-React" class="headerlink" title="2. è„šæ‰‹æ¶ç‰ˆ Hello React"></a>2. è„šæ‰‹æ¶ç‰ˆ Hello React</h1><h2 id="2-1-æ³¨æ„äº‹é¡¹"><a href="#2-1-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.1 æ³¨æ„äº‹é¡¹"></a>2.1 æ³¨æ„äº‹é¡¹</h2><p>  1.ä¸ºäº†åŒºåˆ†ç»„ä»¶å’Œæ™®é€šjsæ–‡ä»¶ï¼Œå¯ä»¥æŠŠå®šä¹‰ç»„ä»¶çš„jsæ–‡ä»¶åç¼€æ”¹æˆjsx</p><p>  2.ä¸€ä¸ªç»„ä»¶ä¸€ä¸ªæ–‡ä»¶å¤¹</p><p>  3.å¼•å…¥jsæ–‡ä»¶æˆ–è€…jsxæ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä¸å†™åç¼€å</p><p>  4.ç»„ä»¶æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å¯ä»¥éƒ½å‘½åä¸ºindexï¼Œä¾‹å¦‚ index.jsx&#x2F;index.cssï¼Œå¼•å…¥çš„æ—¶å€™å¯ä»¥ç›´æ¥å¼•åˆ°ç›®å½•åå°±è¡Œäº†</p><h2 id="2-2-æ–‡ä»¶ç›®å½•"><a href="#2-2-æ–‡ä»¶ç›®å½•" class="headerlink" title="2.2 æ–‡ä»¶ç›®å½•"></a>2.2 æ–‡ä»¶ç›®å½•</h2><p><img src="https://user-images.githubusercontent.com/117837871/220043678-0443345f-4ad2-4437-a593-ef3bd9cba086.png" alt="image"></p><h2 id="2-3-ä»£ç "><a href="#2-3-ä»£ç " class="headerlink" title="2.3 ä»£ç "></a>2.3 ä»£ç </h2><p><strong>&gt;&gt;index.html</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">React.StrictMode</span>&gt;</span></span>,<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>)<br>);<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Hello/Hello&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Welcome</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Welcome/Welcome&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Hello</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Welcome</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Welcome</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Hello.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./Hello.css&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>Hello React<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Hello.css</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.<span class="hljs-property">title</span> &#123;<br>  background-<span class="hljs-attr">color</span>: pink;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Welcome.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;./Welcome.css&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Welcome</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span>Welcome<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Welcome.css</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">.<span class="hljs-property">demo</span> &#123;<br>  background-<span class="hljs-attr">color</span>: skyblue;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-4-é¡µé¢"><a href="#2-4-é¡µé¢" class="headerlink" title="2.4 é¡µé¢"></a>2.4 é¡µé¢</h2><p><img src="https://user-images.githubusercontent.com/117837871/220043748-e4348946-70a0-4c1b-b839-a110a2ef6382.png" alt="image"></p><h1 id="3-VSCodeç”Ÿæˆä»£ç æ¨¡æ¿"><a href="#3-VSCodeç”Ÿæˆä»£ç æ¨¡æ¿" class="headerlink" title="3. VSCodeç”Ÿæˆä»£ç æ¨¡æ¿"></a>3. VSCodeç”Ÿæˆä»£ç æ¨¡æ¿</h1><p><img src="https://user-images.githubusercontent.com/117837871/220043789-c8f7da4b-7405-4279-b1fd-f644c920d5dc.png" alt="image"></p><p>rcc+å›è½¦ ï¼ˆreact class componentï¼‰</p><p><img src="https://user-images.githubusercontent.com/117837871/220043844-498fe04c-4675-4891-81b3-fcee7c9c1a97.png" alt="image"></p><p>rfcï¼ˆreact function componentï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        </span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://user-images.githubusercontent.com/117837871/220043913-c6f6f826-a2e6-46d8-b6d6-befc49fc5948.png" alt="image"></p><h1 id="4-æ ·å¼çš„æ¨¡å—åŒ–"><a href="#4-æ ·å¼çš„æ¨¡å—åŒ–" class="headerlink" title="4. æ ·å¼çš„æ¨¡å—åŒ–"></a>4. æ ·å¼çš„æ¨¡å—åŒ–</h1><p>æ–‡ä»¶åä¿å­˜ä¸º <strong>index.module.css</strong></p><p>å¼•å…¥æ–‡ä»¶ <strong>import hello from â€˜.&#x2F;index.module.cssâ€™</strong></p><p>ä½¿ç”¨æ ·å¼ <strong><h2 className={hello.title}> Hello </h2></strong></p><h1 id="TodoList"><a href="#TodoList" class="headerlink" title="TodoList"></a>TodoList</h1><h2 id="1-ç›®æ ‡åŠŸèƒ½ç•Œé¢"><a href="#1-ç›®æ ‡åŠŸèƒ½ç•Œé¢" class="headerlink" title="1. ç›®æ ‡åŠŸèƒ½ç•Œé¢"></a>1. ç›®æ ‡åŠŸèƒ½ç•Œé¢</h2><p><img src="https://user-images.githubusercontent.com/117837871/220586710-8cda4354-1d15-44b3-8d2e-1196c43a9679.png" alt="image"></p><h2 id="2-ç•Œé¢æ¨¡å—æ‹†åˆ†"><a href="#2-ç•Œé¢æ¨¡å—æ‹†åˆ†" class="headerlink" title="2. ç•Œé¢æ¨¡å—æ‹†åˆ†"></a>2. ç•Œé¢æ¨¡å—æ‹†åˆ†</h2><p><img src="https://user-images.githubusercontent.com/117837871/220586632-ce9102cb-724b-472c-b580-74e5c67dd91b.png" alt="image"></p><p><img src="https://user-images.githubusercontent.com/117837871/220586897-9993ceae-c17b-4db0-b1fb-f51317040f25.png" alt="image"></p><h2 id="3-ä¸»é¡µ"><a href="#3-ä¸»é¡µ" class="headerlink" title="3. ä¸»é¡µ"></a>3. ä¸»é¡µ</h2><p><strong>&gt;&gt;index.html</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>React App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="4-é™æ€é¡µé¢æ­å»º"><a href="#4-é™æ€é¡µé¢æ­å»º" class="headerlink" title="4. é™æ€é¡µé¢æ­å»º"></a>4. é™æ€é¡µé¢æ­å»º</h2><p><strong>&gt;&gt;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-dom&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App&quot;</span>;<br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;root&quot;</span>));<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Header&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/List&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Footer&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./App.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*base*/</span><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.2</span>), <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">2px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>);<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#da4f49</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>&#125;<br><br><span class="hljs-comment">/*app*/</span><br><span class="hljs-selector-class">.todo-container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>&#125;<br><span class="hljs-selector-class">.todo-container</span> <span class="hljs-selector-class">.todo-wrap</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Header&#x2F;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Header&#x2F;index.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*header*/</span><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">560px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">28px</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">7px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.8</span>);<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.075</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.6</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../Item&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;List&#x2F;index.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*main*/</span><br><span class="hljs-selector-class">.todo-main</span> &#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-empty</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>xxxxx<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Item&#x2F;index.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*item*/</span><br><span class="hljs-selector-tag">li</span> &#123;<br>  <span class="hljs-attribute">list-style</span>: none;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">3px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:before</span> &#123;<br>  <span class="hljs-attribute">content</span>: initial;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:last-child</span> &#123;<br>  <span class="hljs-attribute">border-bottom</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Footer&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-footer&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å·²å®Œæˆ0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> / å…¨éƒ¨2</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span>&gt;</span>æ¸…é™¤å·²å®Œæˆä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Footer&#x2F;index.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*footer*/</span><br><span class="hljs-selector-class">.todo-footer</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-åŠ¨æ€ç»„ä»¶"><a href="#5-åŠ¨æ€ç»„ä»¶" class="headerlink" title="5. åŠ¨æ€ç»„ä»¶"></a>5. åŠ¨æ€ç»„ä»¶</h2><h3 id="5-1-åŠ¨æ€åˆå§‹åŒ–é¡µé¢"><a href="#5-1-åŠ¨æ€åˆå§‹åŒ–é¡µé¢" class="headerlink" title="5.1 åŠ¨æ€åˆå§‹åŒ–é¡µé¢"></a>5.1 åŠ¨æ€åˆå§‹åŒ–é¡µé¢</h3><p>çŠ¶æ€é©±åŠ¨ç»„ä»¶</p><p>è€ƒè™‘ä¸¤ä¸ªé—®é¢˜  è¦å°†çŠ¶æ€æ”¾åœ¨å“ªï¼Ÿ çŠ¶æ€çš„å­˜å‚¨å½¢å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¯ä»¥å°†çŠ¶æ€æ”¾åœ¨éœ€è¦ä½¿ç”¨çŠ¶æ€çš„ çˆ¶ç»„ä»¶ Appä¸­ï¼Œè¿™æ ·Headerå’ŒListéƒ½å¯ä»¥é€šè¿‡propsæ‹¿åˆ°çŠ¶æ€æ•°æ®</p><p>çŠ¶æ€çš„å­˜å‚¨å½¢å¼é‡‡ç”¨å¯¹è±¡æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>state = &#123;<br>  <span class="hljs-attr">todos</span>: [<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;001&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;åƒé¥­&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;002&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ç¡è§‰&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>    &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;003&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ•²ä»£ç &#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;,<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//åœ¨App.jsxç»„ä»¶ä¸­å®šä¹‰çŠ¶æ€stateï¼Œé€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’ç»™å­ç»„ä»¶Listçš„propsä¸­</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123;<br>    <span class="hljs-attr">todos</span>: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;001&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;åƒé¥­&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;002&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ç¡è§‰&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;003&#x27;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;æ•²ä»£ç &#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;,<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p><p>å­ç»„ä»¶é€šè¿‡this.propså¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„çŠ¶æ€</p><p>é€šè¿‡å¾ªç¯éå†todoså¾—åˆ°ä¸€ä¸ªä¸ªtodoï¼Œå°†ä»–ä»¬ä¼ é€’ç»™Itemå­ç»„ä»¶</p><p>é€šè¿‡æ ‡ç­¾å±æ€§çš„å½¢å¼ï¼Œçˆ¶ç»„ä»¶Listä¼ é€’çŠ¶æ€åˆ°å­ç»„ä»¶Itemä¸­</p><p>æŒ‡å®škey å†å±•å¼€todoä¼ é€’ç»™å­ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125;/&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p><p>å­ç»„ä»¶é€šè¿‡this.propså¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ¯ä¸ªtodoçš„çŠ¶æ€</p><p>åŠ¨æ€æ¸²æŸ“propsä¸­è·å–çš„çŠ¶æ€ name å’Œ done</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-2-åŠ¨æ€æ·»åŠ todo"><a href="#5-2-åŠ¨æ€æ·»åŠ todo" class="headerlink" title="5.2 åŠ¨æ€æ·»åŠ todo"></a>5.2 åŠ¨æ€æ·»åŠ todo</h3><p>å­ç»„ä»¶è¦å‘çˆ¶ç»„ä»¶ ä¼ é€’ å¾—åˆ°çš„è¾“å…¥å€¼</p><p>å¯ä»¥é€šè¿‡è°ƒç”¨å‡½æ•°ï¼Œ ä¼ é€’å‚æ•°çš„å½¢å¼ æ¥ä¼ é€’çŠ¶æ€</p><p>App.jsx</p><p>çŠ¶æ€åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œä¿®æ”¹çŠ¶æ€çš„æ“ä½œå°±å®šä¹‰åœ¨çˆ¶ç»„ä»¶ä¸­</p><p>åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªaddTodoå‡½æ•°ï¼Œç„¶åé€šè¿‡æ ‡ç­¾ä¼ é€’ç»™å­ç»„ä»¶</p><p>addTodoå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¦æ¥å—çš„å­ç»„ä»¶çš„æ•°æ®</p><p>é€šè¿‡è¿™ä¸ªå‚æ•°ï¼Œå°†å­ç»„ä»¶çš„æ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºæ·»åŠ ä¸€ä¸ªtodoï¼Œæ¥å—çš„å‚æ•°æ˜¯todoå¯¹è±¡</span><br>  addTodo = <span class="hljs-function">(<span class="hljs-params">todoObj</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–åŸtodos</span><br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-comment">// è¿½åŠ ä¸€ä¸ªtodo</span><br>    <span class="hljs-keyword">const</span> newTodos = [todoObj, ...todos]<br>    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123; <span class="hljs-attr">todos</span>: newTodos &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Header&#x2F;index.js</strong></p><p>ç”Ÿæˆå”¯ä¸€idçš„åº“</p><p>uuid</p><p>nanoid</p><p>npm install nanoid</p><p>çˆ¶ç»„ä»¶é€šè¿‡æ ‡ç­¾å±æ€§ä¼ é€’äº†ä¸€ä¸ªå‡½æ•°ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å¯ä»¥é€šè¿‡this.propsæ¥è°ƒç”¨å‡½æ•°</p><p>å‡½æ•°çš„å‚æ•°ï¼Œå°±æ˜¯å­ç»„ä»¶è¦ä¼ é€’ç»™çˆ¶ç»„ä»¶çš„æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  handleKeyUp = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;keyCode, target&#125; = event<br>    <span class="hljs-keyword">if</span> (keyCode !== <span class="hljs-number">13</span>) <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">if</span> (target.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">&#x27;&#x27;</span>) &#123;<br>      <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;è¾“å…¥ä¸èƒ½ä¸ºç©º&#x27;</span>)<br>      <span class="hljs-keyword">return</span><br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">addTodo</span>(&#123;<br>      <span class="hljs-attr">id</span>: <span class="hljs-title function_">nanoid</span>(),<br>      <span class="hljs-attr">name</span>: target.<span class="hljs-property">value</span>,<br>      <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span><br>    &#125;)<br>    target.<span class="hljs-property">value</span> = <span class="hljs-string">&#x27;&#x27;</span><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-header&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onKeyUp</span>=<span class="hljs-string">&#123;this.handleKeyUp&#125;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ çš„ä»»åŠ¡åç§°ï¼ŒæŒ‰å›è½¦é”®ç¡®è®¤&quot;</span>/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-3-é¼ æ ‡æ‚¬æµ®é«˜äº®"><a href="#5-3-é¼ æ ‡æ‚¬æµ®é«˜äº®" class="headerlink" title="5.3 é¼ æ ‡æ‚¬æµ®é«˜äº®"></a>5.3 é¼ æ ‡æ‚¬æµ®é«˜äº®</h2><p>å®šä¹‰ä¸€ä¸ªmouseçŠ¶æ€ï¼Œç”¨æ¥ æ ‡è¯†é¼ æ ‡ç§»å…¥ç§»å‡º</p><p>é€šè¿‡mouseçŠ¶æ€çš„æ”¹å˜ï¼Œæ¥æ”¹å˜styleæ ·å¼ï¼ˆèƒŒæ™¯é¢œè‰²+åˆ é™¤æŒ‰é’®æ˜¾ç¤ºä¸éšè—ï¼‰</p><p><strong>&gt;&gt;Item&#x2F;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// æ ‡è¯†é¼ æ ‡ç§»å…¥ç§»å‡º</span><br>  state = &#123;<br>    <span class="hljs-attr">mouse</span>: <span class="hljs-literal">false</span><br>  &#125;<br>  <span class="hljs-comment">// é¼ æ ‡ç§»å…¥ç§»å‡ºçš„å›è°ƒ</span><br>  handleMouse = <span class="hljs-function">(<span class="hljs-params">flag</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">mouse</span>: flag&#125;)<br>    &#125;<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:</span> <span class="hljs-attr">mouse</span>?&#x27;<span class="hljs-attr">block</span>&#x27;<span class="hljs-attr">:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-4-å‹¾é€‰-æ”¹å˜-çŠ¶æ€"><a href="#5-4-å‹¾é€‰-æ”¹å˜-çŠ¶æ€" class="headerlink" title="5.4 å‹¾é€‰ æ”¹å˜ çŠ¶æ€"></a>5.4 å‹¾é€‰ æ”¹å˜ çŠ¶æ€</h2><p>å‹¾é€‰å‰é¢çš„é€‰ä¸­æ¡†ï¼Œè¦æ”¹å˜åˆ°stateä¸­çš„æ•°æ®</p><p>æ ¹æ®é€‰ä¸­çš„æ¡†æ‰€å±çš„todoçš„idæ‰¾åˆ°æ•°æ®ï¼Œæ ¹æ®æ›´æ”¹ådoneçš„å€¼æ›´æ–°ç›¸åº”çš„doneçš„å€¼</p><p><strong>&gt;&gt;App.jsx</strong></p><p>åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªæ›´æ–°todoçš„å‡½æ•°ï¼Œç„¶åä¼ é€’ç»™å­ç»„ä»¶</p><p>æ ¹æ®æ‹¿åˆ°çš„idå’Œdoneçš„å€¼ï¼Œæ¥æ›´æ–°çŠ¶æ€stateä¸­ç›¸åº”idæ•°æ®çš„å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºæ›´æ–°ä¸€ä¸ªtodo</span><br>  updateTodo = <span class="hljs-function">(<span class="hljs-params">id, done</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (todo.<span class="hljs-property">id</span> === id) &#123;<br>        <span class="hljs-keyword">return</span> &#123;...todo, <span class="hljs-attr">done</span>: done&#125;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> todo<br>      &#125;<br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;/</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p><p>ä¸­è½¬ ä»çˆ¶ç»„ä»¶Appä¸­ä¼ è¿‡æ¥çš„å‡½æ•°ï¼Œç»§ç»­ä¼ ç»™å®ƒçš„å­ç»„ä»¶Itemï¼Œå®Œæˆç¥–å­™ç»„ä»¶ä¸­çš„é€šä¿¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos, updateTodo&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125; <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;updateTodo&#125;/</span>&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Item&#x2F;index.jsx</strong></p><p>é€šè¿‡Listä¸­è½¬ç»ˆäºæ‹¿åˆ°ç¥–å…ˆç»„ä»¶Appä¸­çš„å‡½æ•°updateTodo</p><p>ç»„ä»¶ä¸­å®šä¹‰onChangeäº‹ä»¶çš„å›è°ƒå‡½æ•°handleCheck ï¼Œã€é«˜é˜¶å‡½æ•°+æŸ¯é‡ŒåŒ–ã€‘</p><p>åœ¨å›è°ƒå‡½æ•°ä¸­è¿”å›ä¼ é€’è¿‡æ¥çš„å‡½æ•°å¹¶ä¼ å…¥å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å‹¾é€‰ã€å–æ¶ˆå‹¾é€‰todoçš„å›è°ƒ</span><br>  handleCheck = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateTodo</span>(id, event.<span class="hljs-property">target</span>.<span class="hljs-property">checked</span>)<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; id, name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">this.handleCheck</span>(<span class="hljs-attr">id</span>) &#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;display:mouse?</span>&#x27;<span class="hljs-attr">block</span>&#x27;<span class="hljs-attr">:</span>&#x27;<span class="hljs-attr">none</span>&#x27;&#125;&#125;&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-5-å¯¹propsè¿›è¡Œé™åˆ¶"><a href="#5-5-å¯¹propsè¿›è¡Œé™åˆ¶" class="headerlink" title="5.5 å¯¹propsè¿›è¡Œé™åˆ¶"></a>5.5 å¯¹propsè¿›è¡Œé™åˆ¶</h2><p>ç±»å‹åŠå¿…è¦æ€§è®¾ç½®</p><p>è‡ªè¡Œå®‰è£… prop-types åº“ npm i prop-types</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">addTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>      <span class="hljs-attr">todos</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">array</span>.<span class="hljs-property">isRequired</span>,<br>      <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;prop-types&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-5-åˆ é™¤ä¸€ä¸ªtodo"><a href="#5-5-åˆ é™¤ä¸€ä¸ªtodo" class="headerlink" title="5.5 åˆ é™¤ä¸€ä¸ªtodo"></a>5.5 åˆ é™¤ä¸€ä¸ªtodo</h2><p>é€‰ä¸­ä¸€ä¸ªtodoï¼Œç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼Œåˆ é™¤è¿™ä¸ªtodo</p><p><strong>&gt;&gt;App.jsx</strong></p><p>å› ä¸ºçŠ¶æ€æ•°æ®åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œæ‰€ä»¥åˆ é™¤todoçš„å‡½æ•°å°±å®šä¹‰åœ¨Appä¸­</p><p>ç„¶åå°†å‡½æ•°ä¼ é€’ç»™å­ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºåˆ é™¤ä¸€ä¸ªtodo</span><br>  deleteTodo = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> todo.<span class="hljs-property">id</span> !== id<br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>:newTodos&#125;)<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;this.deleteTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;List&#x2F;index.jsx</strong></p><p>ä¸­è½¬æ‹¿åˆ°å’Œå‡½æ•°ç»§ç»­ä¼ é€’</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">todos</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">array</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">deleteTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;todos, updateTodo, deleteTodo&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          todos.map((todo) =&gt; &#123;</span><br><span class="language-xml">            return <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;todo.id&#125;</span> &#123;<span class="hljs-attr">...todo</span>&#125; <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">deleteTodo</span> &#125;/&gt;</span></span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Item&#x2F;index.jsx</strong><br>å¾—åˆ°ä¼ é€’åˆ°çš„å‡½æ•°ï¼Œå°†idä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶</p><p>å®šä¹‰ç»‘å®šç‚¹å‡»äº‹ä»¶ è¿™æ¬¡æ²¡ç”¨é«˜é˜¶å‡½æ•°ï¼Œæ¢äº†ä¸€ç§å†™æ³•ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å¯¹æ¥æ”¶çš„propsè¿›è¡Œç±»å‹ä»¥åŠå¿…è¦æ€§çš„é™åˆ¶</span><br>  <span class="hljs-keyword">static</span> propTypes = &#123;<br>    <span class="hljs-attr">updateTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span>,<br>    <span class="hljs-attr">deleteTodo</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">func</span>.<span class="hljs-property">isRequired</span><br>  &#125;<br>  <span class="hljs-comment">// åˆ é™¤ä¸€ä¸ªtodoçš„å›è°ƒ</span><br>  handleDelete = <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">confirm</span>(<span class="hljs-string">`ç¡®å®šåˆ é™¤å˜›ï¼Ÿ`</span>)) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">deleteTodo</span>(id)<br>    &#125;<br>  &#125;<br>  <br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; id, name, done &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">const</span> &#123;mouse&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">mouse</span> ? &#x27;#<span class="hljs-attr">ddd</span>&#x27; <span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">white</span>&#x27; &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">&#123;this.handleMouse(true)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onMouseLeave</span>=<span class="hljs-string">&#123;this.handleMouse(false)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">defaultChecked</span>=<span class="hljs-string">&#123;done&#125;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;</span> <span class="hljs-attr">this.handleCheck</span>(<span class="hljs-attr">id</span>) &#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;</span> () =&gt;</span> this.handleDelete(id) &#125; className=&quot;btn btn-danger&quot; style=&#123;&#123;display:mouse?&#x27;block&#x27;:&#x27;none&#x27;&#125;&#125;&gt;åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>##5.6 åº•éƒ¨Footer</p><p><strong>&gt;&gt;App.jsx</strong></p><p>åœ¨Appä¸­å°†todosä¼ ç»™Footer</p><p>åœ¨Appä¸­å®šä¹‰å…¨é€‰å’Œå…¨ä¸é€‰çš„todosæ¥æ›´æ–°çŠ¶æ€</p><p>åœ¨Appä¸­å®šä¹‰æ¸…é™¤æ‰€æœ‰å·²å®Œæˆçš„todo</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºå…¨é€‰</span><br>  checkAll = <span class="hljs-function">(<span class="hljs-params">done</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–åŸæ¥çš„todos</span><br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-comment">// è¿‡æ»¤æ•°æ®</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> &#123;...todo, <span class="hljs-attr">done</span>: done&#125;<br>    &#125;)<br>    <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <span class="hljs-comment">// æ¸…é™¤æ‰€æœ‰å·²ç»å®Œæˆçš„</span><br>  clearAllDone = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">const</span> newTodos = todos.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> !todo.<span class="hljs-property">done</span><br>    &#125;)<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123;<span class="hljs-attr">todos</span>: newTodos&#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span>  &#123;todos&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-warp&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">addTodo</span>=<span class="hljs-string">&#123;this.addTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">updateTodo</span>=<span class="hljs-string">&#123;this.updateTodo&#125;</span> <span class="hljs-attr">deleteTodo</span>=<span class="hljs-string">&#123;this.deleteTodo&#125;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> <span class="hljs-attr">todos</span>=<span class="hljs-string">&#123;todos&#125;</span> <span class="hljs-attr">checkAll</span>=<span class="hljs-string">&#123;this.checkAll&#125;</span> <span class="hljs-attr">clearAllDone</span>=<span class="hljs-string">&#123;this.clearAllDone&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Footer&#x2F;index.jsx</strong><br>æ‹¿åˆ°todos</p><p>ç”¨æ¥è®¡ç®—ä¸¤ä¸ªæ•°æ®doneCountå’Œtotalï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸­</p><p>å®šä¹‰ä¸¤ä¸ªå›è°ƒå‡½æ•°handleCheckAllå’ŒhandleClearAllDone</p><p>å†ä»çˆ¶ç»„ä»¶æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ç„¶åè°ƒç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Footer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// å…¨é€‰</span><br>  handleCheckAll = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">checkAll</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">checked</span>)<br>  &#125;<br>  <span class="hljs-comment">// æ¸…é™¤æ‰€æœ‰å·²å®Œæˆçš„å›è°ƒ</span><br>  handleClearAllDone = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">clearAllDone</span>()<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; todos &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-comment">// è®¡ç®—å·²å®Œæˆ</span><br>    <span class="hljs-keyword">const</span> doneCount = todos.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre, todo</span>) =&gt;</span> &#123; <span class="hljs-keyword">return</span> pre + (todo.<span class="hljs-property">done</span> ? <span class="hljs-number">1</span>: <span class="hljs-number">0</span>) &#125;, <span class="hljs-number">0</span>)<br>    <span class="hljs-comment">// è®¡ç®—æ€»æ•°</span><br>    <span class="hljs-keyword">const</span> total = todos.<span class="hljs-property">length</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;todo-footer&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;this.handleCheckAll&#125;</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">&#123;doneCount</span> === <span class="hljs-string">total</span> &amp;&amp; <span class="hljs-attr">total</span> !== <span class="hljs-string">0</span> ? <span class="hljs-attr">true:</span> <span class="hljs-attr">false</span> &#125;/&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>å·²å®Œæˆ&#123; doneCount &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> / å…¨éƒ¨&#123;total&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.handleClearAllDone&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span>&gt;</span>æ¸…é™¤å·²å®Œæˆä»»åŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h1><p>æ‹†åˆ†ç»„ä»¶ã€å®ç°é™æ€ç»„ä»¶ï¼Œæ³¨æ„ï¼šclassNameã€styleçš„å†™æ³•</p><p>åŠ¨æ€åˆå§‹åŒ–åˆ—è¡¨ï¼Œå¦‚ä½•ç¡®å®šå°†æ•°æ®æ”¾åœ¨å“ªä¸ªç»„ä»¶çš„stateä¸­ï¼Ÿ</p><p>æŸä¸ªç»„ä»¶ä½¿ç”¨ï¼šæ”¾åœ¨å…¶ è‡ªèº« çš„stateä¸­</p><p>æŸäº›ç»„ä»¶ä½¿ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„ çˆ¶ç»„ä»¶ stateä¸­ï¼ˆå®˜æ–¹ç§°æ­¤æ“ä½œä¸ºï¼šçŠ¶æ€æå‡ï¼‰</p><p>å…³äºçˆ¶å­ä¹‹é—´é€šä¿¡ï¼š</p><p>ã€çˆ¶ç»„ä»¶ã€‘ç»™ã€å­ç»„ä»¶ã€‘ä¼ é€’æ•°æ®ï¼šé€šè¿‡propsä¼ é€’</p><p>ã€å­ç»„ä»¶ã€‘ç»™ã€çˆ¶ç»„ä»¶ã€‘ä¼ é€’æ•°æ®ï¼šé€šè¿‡propsä¼ é€’ï¼Œè¦æ±‚çˆ¶æå‰ç»™å­ä¼ é€’ä¸€ä¸ªå‡½æ•°</p><p>æ³¨æ„defaultChecked ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æ—¶å€™æœ‰ä½œç”¨ï¼Œä¹‹åå°±æ²¡ä½œç”¨äº†ï¼‰å’Œ checkedçš„åŒºåˆ«ï¼Œç±»ä¼¼çš„è¿˜æœ‰ï¼šdefaultValue å’Œ value<br>çŠ¶æ€åœ¨å“ªé‡Œï¼Œæ“ä½œçŠ¶æ€çš„æ–¹æ³•å°±åœ¨å“ªé‡Œ</p><p><img src="https://user-images.githubusercontent.com/117837871/220587169-d8c3072c-e800-46c0-8db2-83abd26f2911.png" alt="image"></p><p><img src="https://user-images.githubusercontent.com/117837871/220587280-1a81ccc3-a9b7-4012-aeed-b8959acf65a0.png" alt="image"></p><p><img src="https://user-images.githubusercontent.com/117837871/220587310-7b5ec9e9-8c6b-4929-b215-130d49d0e17a.png" alt="image"></p><p>æ³¨æ„defaultChecked ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡æŒ‡å®šçš„æ—¶å€™æœ‰ä½œç”¨ï¼Œä¹‹åå°±æ²¡ä½œç”¨äº†ï¼‰å’Œ checkedçš„åŒºåˆ«ï¼Œç±»ä¼¼çš„è¿˜æœ‰ï¼šdefaultValue å’Œ value</p><h1 id="ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†"><a href="#ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†" class="headerlink" title="ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†"></a>ç”¨æˆ·æœç´¢é¡µé¢ä¸é…ç½®ä»£ç†</h1><p>ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨Reactåšä¸€ä¸ªéœ€è¦å‘èµ·ajaxè¯·æ±‚çš„å°demoï¼ˆgithubç”¨æˆ·æœç´¢é¡µé¢ï¼‰ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨axioså®ç°ï¼Œæœ€åå†å®ç°ä¸€ä¸ªfetchç‰ˆæœ¬çš„ã€‚</p><p>è¿™ä¸­é—´æˆ‘ä»¬è¿˜ä¼šåœ¨Reactä¸­é…ç½®ä»£ç†æ¥è§£å†³è·¨åŸŸé—®é¢˜ï¼Œè¿˜ä¼šä½¿ç”¨æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒæ¨¡å¼æ”¹è¿›æˆ‘ä»¬çš„ä»£ç ã€‚</p><h2 id="1-ç†è§£"><a href="#1-ç†è§£" class="headerlink" title="1. ç†è§£"></a>1. ç†è§£</h2><p>ä¹‹å‰ä¹Ÿå­¦ä¹ è¿‡ajaxå’Œaxiosï¼Œå¯ä»¥å…ˆçœ‹çœ‹è¿™ä¸¤ä¸ªç¬”è®°å¤ä¹ ä¸€ä¸‹ajax</p><p><a href="https://juejin.cn/post/6999604180432191519">ã€Ajaxã€‘HTTPç›¸å…³é—®é¢˜-GET-POST-XHRä½¿ç”¨-jQueryä¸­çš„ajax-è·¨åŸŸ-åŒæº-jsonp-cors</a></p><p><a href="https://juejin.cn/post/7015487317582299144">ã€Axiosã€‘ä½¿ç”¨json-server æ­å»ºREST API - ä½¿ç”¨axios - è‡ªå®šä¹‰axios - å–æ¶ˆè¯·æ±‚ - æ‹¦æˆªå™¨</a></p><h3 id="1-1-å‰ç½®è¯´æ˜"><a href="#1-1-å‰ç½®è¯´æ˜" class="headerlink" title="1.1. å‰ç½®è¯´æ˜"></a>1.1. å‰ç½®è¯´æ˜</h3><p>Reactæœ¬èº«åªå…³æ³¨äºç•Œé¢, å¹¶ä¸åŒ…å«å‘é€<strong>ajax</strong>è¯·æ±‚çš„ä»£ç </p><p>å‰ç«¯åº”ç”¨éœ€è¦é€šè¿‡ajaxè¯·æ±‚ä¸åå°è¿›è¡Œäº¤äº’(jsonæ•°æ®)</p><p>Reactåº”ç”¨ä¸­éœ€è¦é›†æˆç¬¬ä¸‰æ–¹ajaxåº“(æˆ–è‡ªå·±å°è£…)</p><h3 id="1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"><a href="#1-2-å¸¸ç”¨çš„ajaxè¯·æ±‚åº“" class="headerlink" title="1.2. å¸¸ç”¨çš„ajaxè¯·æ±‚åº“"></a>1.2. å¸¸ç”¨çš„ajaxè¯·æ±‚åº“</h3><p>jQuery: æ¯”è¾ƒé‡, å¦‚æœéœ€è¦å¦å¤–å¼•å…¥ä¸å»ºè®®ä½¿ç”¨</p><p>axios: è½»é‡çº§, å»ºè®®ä½¿ç”¨</p><pre><code class="hljs">1.å°è£…XmlHttpRequestå¯¹è±¡çš„ajax2.promiseé£æ ¼3.å¯ä»¥ç”¨åœ¨æµè§ˆå™¨ç«¯å’ŒnodeæœåŠ¡å™¨ç«¯</code></pre><h2 id="2-axios"><a href="#2-axios" class="headerlink" title="2. axios"></a>2. axios</h2><p>å®‰è£…<strong>npm install axios</strong></p><h3 id="2-1-æ–‡æ¡£"><a href="#2-1-æ–‡æ¡£" class="headerlink" title="2.1. æ–‡æ¡£"></a>2.1. æ–‡æ¡£</h3><p>Github.com&#x2F;axios&#x2F;axios</p><h3 id="2-2-ç›¸å…³API"><a href="#2-2-ç›¸å…³API" class="headerlink" title="2.2. ç›¸å…³API"></a>2.2. ç›¸å…³API</h3><p>æ›´å¤šç»†èŠ‚å¯ä»¥å‚è€ƒè¿™ä¸ªç¬”è®°çš„å†…å®¹ <a href="https://blog.csdn.net/weixin_44972008/article/details/114368528">ã€axiosã€‘ä½¿ç”¨json-server æ­å»ºREST API - ä½¿ç”¨axios - è‡ªå®šä¹‰axios - å–æ¶ˆè¯·æ±‚ - æ‹¦æˆªå™¨</a></p><h2 id="3-Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"><a href="#3-Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="3. Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"></a>3. Reactä¸­é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜</h2><h3 id="3-1-é…ç½®ä»£ç†æ–¹æ³•"><a href="#3-1-é…ç½®ä»£ç†æ–¹æ³•" class="headerlink" title="3.1 é…ç½®ä»£ç†æ–¹æ³•"></a>3.1 é…ç½®ä»£ç†æ–¹æ³•</h3><p>è§£å†³è·¨åŸŸé—®é¢˜ï¼Œåœ¨Reactå¼€å¯ä¸­é—´ä»£ç†</p><p>åœ¨é¡¹ç›®ä¸­çš„package.jsonä¸­ï¼Œæœ€ååŠ ä¸Šä¸€è¡Œâ€proxyâ€: â€œ<a href="http://loaclhost:5000/">http://loaclhost:5000</a>â€œ å†™åˆ°ç«¯å£å·</p><p>ç„¶åé‡å¯è„šæ‰‹æ¶</p><p>å†æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™å°±ç›´æ¥å†™è‡ªå·±çš„3000ç«¯å£</p><p>3000ç«¯å£æœ‰çš„èµ„æºç›´æ¥è¯·æ±‚3000ç«¯å£çš„ï¼Œ3000ç«¯å£æ²¡æœ‰çš„èµ„æºå°±è¯·æ±‚ä»£ç†è®¾ç½®çš„5000ç«¯å£</p><p>åœ¨package.jsonä¸­è¿½åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-string">&quot;proxy&quot;</span>:<span class="hljs-string">&quot;http://localhost:5000&quot;</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><pre><code class="hljs">ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¯ä»¥ä¸åŠ ä»»ä½•å‰ç¼€ã€‚é…ç½®å¤šä¸ªä»£ç†ã€‚å·¥ä½œæ–¹å¼ï¼šä¸Šè¿°æ–¹å¼é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†3000ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™5000 ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</code></pre><h3 id="3-2-é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•"><a href="#3-2-é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•" class="headerlink" title="3.2 é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•"></a>3.2 é…ç½®å¤šä¸ªä»£ç†æ–¹æ³•</h3><p>é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸åœ¨ package.json é…ç½®</p><pre><code class="hljs">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»£ç†é…ç½®æ–‡ä»¶</code></pre><p>åœ¨srcä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼šsrc&#x2F;setupProxy.js</p><pre><code class="hljs">ç¼–å†™setupProxy.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>)<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">app</span>) &#123;<br>  app.<span class="hljs-title function_">use</span>(<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api1&#x27;</span>, &#123;  <span class="hljs-comment">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)</span><br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>, <span class="hljs-comment">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)</span><br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼</span><br>      <span class="hljs-comment">/*</span><br><span class="hljs-comment">      changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000</span><br><span class="hljs-comment">      changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:3000</span><br><span class="hljs-comment">      changeOriginé»˜è®¤å€¼ä¸ºfalseï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬å°†changeOriginå€¼è®¾ä¸ºtrue</span><br><span class="hljs-comment">      */</span><br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api1&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125; <span class="hljs-comment">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)</span><br>    &#125;),<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api2&#x27;</span>, &#123; <br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5001&#x27;</span>,<br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api2&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125;<br>    &#125;)<br>  )<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br>1.ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œå¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</p><p>2.ç¼ºç‚¹ï¼šé…ç½®ç¹çï¼Œå‰ç«¯è¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</p><h2 id="4-æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢"><a href="#4-æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢" class="headerlink" title="4. æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢"></a>4. æ¡ˆä¾‹â€”githubç”¨æˆ·æœç´¢</h2><p>ä¹‹å‰ç”¨Vueä¹Ÿåšè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥å¯¹æ¯”ç€å­¦ä¹  <a href="https://blog.csdn.net/weixin_44972008/article/details/113992327">ã€Vueã€‘é«˜çº§ç³»åˆ—ï¼ˆä¸ƒï¼‰Vue-clié…ç½®ä»£ç† - Ajaxå®æˆ˜-demo3-GitHubç”¨æˆ·æŸ¥è¯¢-axios-pubsub</a></p><h3 id="4-1-æ•ˆæœ"><a href="#4-1-æ•ˆæœ" class="headerlink" title="4.1 æ•ˆæœ"></a>4.1 æ•ˆæœ</h3><p>è¯·æ±‚åœ°å€: <a href="https://api.github.com/search/users?q=xxxxxx">https://api.github.com/search/users?q=xxxxxx</a></p><p><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e17bce649e774e089e6b423830c2a28e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e17bce649e774e089e6b423830c2a28e~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp</a></p><h3 id="4-2-React-å®ç°"><a href="#4-2-React-å®ç°" class="headerlink" title="4.2 React å®ç°"></a>4.2 React å®ç°</h3><h4 id="4-2-1-é™æ€é¡µé¢æ‹†åˆ†å®ç°"><a href="#4-2-1-é™æ€é¡µé¢æ‹†åˆ†å®ç°" class="headerlink" title="4.2.1 é™æ€é¡µé¢æ‹†åˆ†å®ç°"></a>4.2.1 é™æ€é¡µé¢æ‹†åˆ†å®ç°</h4><p><strong>&gt;&gt;App.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Search&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Users&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Search&#x2F;index.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot;</span> /&gt;</span><span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;User&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./index.css&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://github.com/reactjs&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://avatars.githubusercontent.com/u/6412038?v=3&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>reactjs<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;User&#x2F;index.css</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.album</span> &#123;<br>  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">50rem</span>; <span class="hljs-comment">/* Can be removed; just added for demo purposes */</span><br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">3rem</span>;<br>  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">3rem</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f7f7f7</span>;<br>&#125;<br><br><span class="hljs-selector-class">.card</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">33.333%</span>;<br>  <span class="hljs-attribute">padding</span>: .<span class="hljs-number">75rem</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">2rem</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#efefef</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><br><span class="hljs-selector-class">.card</span> &gt; <span class="hljs-selector-tag">img</span> &#123;<br>  <span class="hljs-attribute">margin-bottom</span>: .<span class="hljs-number">75rem</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.card-text</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">85%</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-2-2-åŠ¨æ€äº¤äº’å®ç°"><a href="#4-2-2-åŠ¨æ€äº¤äº’å®ç°" class="headerlink" title="4.2.2 åŠ¨æ€äº¤äº’å®ç°"></a>4.2.2 åŠ¨æ€äº¤äº’å®ç°</h4><p>ç”±äºgithubè®¿é—®å¤±è´¥ï¼Œå¯ä»¥ä¼ªé€ ä¸€ä¸ªæœåŠ¡å™¨è¿”å›ä¸€äº›å›ºå®šçš„ç»“æœï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´ä½³ ä½¿ç”¨expressæ­å»ºä¸€ä¸ªæœåŠ¡å™¨</p><p><strong>&gt;&gt;serve.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>)<br><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;axios&quot;</span>)<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">  è¯·æ±‚åœ°å€ï¼š http://localhost:3000/search/users?q=aa</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">  åå°è·¯ç”±</span><br><span class="hljs-comment">    keyï¼š /search/users</span><br><span class="hljs-comment">    valueï¼š function () &#123;&#125;</span><br><span class="hljs-comment">*/</span><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/search/users&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) &#123;<br>  <span class="hljs-keyword">const</span> &#123;q&#125; = req.<span class="hljs-property">query</span><br>  <span class="hljs-title function_">axios</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;https://api.github.com/search/users&#x27;</span>,<br>    <span class="hljs-attr">params</span>: &#123;q&#125;<br>  &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">json</span>(response.<span class="hljs-property">data</span>)<br>  &#125;)<br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/search/users2&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">req, res</span>) &#123;<br>  res.<span class="hljs-title function_">json</span>(&#123;<br>    <span class="hljs-attr">items</span>: [<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx990803&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908032&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf2&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908033&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf3&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">6</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908034&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">7</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;ruanyf4&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/ruanyf&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>: <span class="hljs-string">&quot;https://avatars2.githubusercontent.com/u/905434?s=460&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">8</span>,<br>      &#125;,<br>      &#123;<br>        <span class="hljs-attr">login</span>: <span class="hljs-string">&quot;yyx9908035&quot;</span>,<br>        <span class="hljs-attr">html_url</span>: <span class="hljs-string">&quot;https://github.com/yyx990803&quot;</span>,<br>        <span class="hljs-attr">avatar_url</span>:<br>          <span class="hljs-string">&quot;https://avatars3.githubusercontent.com/u/499550?s=460&amp;u=de41ec9325e8a92e281b96a1514a0fd1cd81ad4a&amp;v=4&quot;</span>,<br>        <span class="hljs-attr">id</span>: <span class="hljs-number">9</span>,<br>      &#125;,<br>    ],<br>  &#125;);<br>&#125;);<br><br><br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">5000</span>, <span class="hljs-string">&quot;localhost&quot;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (!err)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ&quot;</span>)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¯·æ±‚githubçœŸå®æ•°æ®è¯·è®¿é—®ï¼šhttp://localhost:5000/search/users&quot;</span>)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;è¯·æ±‚æœ¬åœ°æ¨¡æ‹Ÿæ•°æ®è¯·è®¿é—®ï¼šhttp://localhost:5000/search/users2&quot;</span>)<br>  &#125; <br>  <span class="hljs-keyword">else</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>&#125;)<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><p><strong>src&#x2F;setupProxy.js</strong></p><p>è®¾ç½®ä»£ç†æœåŠ¡å™¨è§£å†³è·¨åŸŸé—®é¢˜src&#x2F;setupProxy.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http-proxy-middleware&#x27;</span>)<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">app</span>) &#123;<br>  app.<span class="hljs-title function_">use</span>(<br>    <span class="hljs-title function_">proxy</span>(<span class="hljs-string">&#x27;/api1&#x27;</span>, &#123;  <span class="hljs-comment">//api1æ˜¯éœ€è¦è½¬å‘çš„è¯·æ±‚(æ‰€æœ‰å¸¦æœ‰/api1å‰ç¼€çš„è¯·æ±‚éƒ½ä¼šè½¬å‘ç»™5000)</span><br>      <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;http://localhost:5000&#x27;</span>, <span class="hljs-comment">//é…ç½®è½¬å‘ç›®æ ‡åœ°å€(èƒ½è¿”å›æ•°æ®çš„æœåŠ¡å™¨åœ°å€)</span><br>      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ§åˆ¶æœåŠ¡å™¨æ¥æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­hostå­—æ®µçš„å€¼</span><br>      <span class="hljs-attr">pathRewrite</span>: &#123;<span class="hljs-string">&#x27;^/api1&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span>&#125; <span class="hljs-comment">//å»é™¤è¯·æ±‚å‰ç¼€ï¼Œä¿è¯äº¤ç»™åå°æœåŠ¡å™¨çš„æ˜¯æ­£å¸¸è¯·æ±‚åœ°å€(å¿…é¡»é…ç½®)</span><br>    &#125;)<br>  )<br>&#125;<br><br><span class="hljs-comment">// ã€è¡¥å……ã€‘è¿ç»­è§£æ„èµ‹å€¼</span><br><span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:&#123;<span class="hljs-attr">c</span>:<span class="hljs-number">1</span>&#125;&#125;&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-property">b</span>.<span class="hljs-property">c</span>) <span class="hljs-comment">// 1</span><br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:&#123;c&#125;&#125;&#125; = obj<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c) <span class="hljs-comment">// 1</span><br><br><span class="hljs-keyword">let</span> obj2 = &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:<span class="hljs-number">1</span>&#125;&#125;<br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">a</span>:&#123;<span class="hljs-attr">b</span>:data&#125;&#125; = obj2 <span class="hljs-comment">// é‡å‘½å</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data) <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.jsx</strong></p><p>å°†çŠ¶æ€æ•°æ®å®šä¹‰åœ¨Appä¸­ æ“ä½œçŠ¶æ€çš„æ–¹æ³•æ”¾åœ¨Appä¸­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">users</span>: []<br>  &#125;<br>  saveUsers = <span class="hljs-function">(<span class="hljs-params">users</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123; users &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> <span class="hljs-attr">saveUsers</span>=<span class="hljs-string">&#123;this.saveUsers&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> <span class="hljs-attr">users</span>=<span class="hljs-string">&#123;users&#125;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Search&#x2F;index&#x2F;jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–ç”¨æˆ·è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// console.log(keyWord)</span><br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æˆåŠŸ&#x27;</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">saveUsers</span>(response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>)<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¤±è´¥&#x27;</span>,error)&#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          this.props.users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤º</p><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><h4 id="4-2-3-ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"><a href="#4-2-3-ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ" class="headerlink" title="4.2.3 ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"></a>4.2.3 ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</h4><p>åœ¨Usersç»„ä»¶ä¸­ï¼Œåº”è¯¥ä¸æ­¢åªæœ‰ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼Œåº”è¯¥è¿˜æœ‰</p><pre><code class="hljs">1.æ¬¢è¿ä½¿ç”¨ç•Œé¢ã€ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢ã€‘2.æœç´¢åŠ è½½é¡µé¢ã€ç‚¹å‡»æŒ‰é’®å‘é€è¯·æ±‚å’Œæ¥æ”¶åˆ°å“åº”ä¹‹é—´æ˜¾ç¤ºã€‘3.æœç´¢å¤±è´¥é¡µé¢ã€è¯·æ±‚å¤±è´¥æ˜¾ç¤ºã€‘</code></pre><p>æœ‰å››ç§ä¸åŒçš„æ˜¾ç¤ºï¼Œé‚£å°±éœ€è¦ä¸åŒçš„çŠ¶æ€stateæ¥æ§åˆ¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>state = &#123; <br>  <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>  <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>  <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>  <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123; <br>    <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>    <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>    <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>  &#125;<br>  <span class="hljs-comment">// saveUsers = (users) =&gt; &#123;</span><br>  <span class="hljs-comment">//   this.setState(&#123; users &#125;)</span><br>  <span class="hljs-comment">// &#125;</span><br>  <span class="hljs-comment">// æ›´æ–°Appçš„state</span><br>  updateAppState = <span class="hljs-function">(<span class="hljs-params">stateObj</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(stateObj)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> <span class="hljs-attr">updateAppState</span>=<span class="hljs-string">&#123;this.updateAppState&#125;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> &#123;<span class="hljs-attr">...this.state</span>&#125; /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Search&#x2F;index&#x2F;jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">// è·å–ç”¨æˆ·è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// console.log(keyWord)</span><br>    <span class="hljs-comment">// å‘é€è¯·æ±‚å‰é€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<br>      <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">false</span>,<br>      <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span><br>    &#125;)<br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// console.log(&#x27;æˆåŠŸ&#x27;)</span><br>        <span class="hljs-comment">// è¯·æ±‚æˆåŠŸï¼Œé€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>: response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>&#125;)<br>        <span class="hljs-comment">// this.props.saveUsers(response.data.items)</span><br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// console.log(&#x27;å¤±è´¥&#x27;, error)</span><br>        <span class="hljs-comment">// è¯·æ±‚å¤±è´¥ï¼Œé€šçŸ¥Appæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">updateAppState</span>(&#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>: error.<span class="hljs-property">message</span>&#125;)<br>      &#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users, isFirst, isLoading, err&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          isFirst ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿ä½¿ç”¨ï¼Œè¯·è¾“å…¥å…³é”®å­—ï¼Œéšåç‚¹å‡»æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          err ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span> &#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span>&#123;err&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤º<br>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><h2 id="5-æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶"><a href="#5-æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶" class="headerlink" title="5. æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶"></a>5. æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶</h2><p>å‰é¢æ¡ˆä¾‹ä¸­ï¼Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ€»æ˜¯è¦å€ŸåŠ©çˆ¶ç»„ä»¶æ‰è¡Œ ç°åœ¨ä»‹ç»æ¶ˆæ¯è®¢é˜…-å‘å¸ƒæœºåˆ¶æ¥è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´é€šä¿¡</p><p>ä»‹ç»PubSubJSåº“</p><p><a href="https://github.com/mroderick/PubSubJS">PubSubJS</a></p><p>1.å·¥å…·åº“: PubSubJS</p><p>2.ä¸‹è½½: <strong>npm install pubsub-js</strong>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><p>ä½¿ç”¨ åœ¨ã€æ¥æ”¶ã€‘æ•°æ®çš„ç»„ä»¶ä¸­ã€è®¢é˜…ã€‘æ¶ˆæ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PubSub</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pubsub-js&#x27;</span> <span class="hljs-comment">//å¼•å…¥ï¼ˆåŒ…åçš„å‘½åè§„èŒƒä¸­ä¸èƒ½å‡ºç°å­—æ¯ï¼‰</span><br><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&#x27;delete&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123; &#125;); <span class="hljs-comment">// è®¢é˜…</span><br><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;delete&#x27;</span>, data) <span class="hljs-comment">// å‘å¸ƒæ¶ˆæ¯ æºå¸¦æ•°æ®</span><br></code></pre></td></tr></table></figure><p>åœ¨æ¡ˆä¾‹ä¸­ä½¿ç”¨</p><p>Usersç»„ä»¶ã€æ¥æ”¶ã€‘æ•°æ®ï¼Œæ‰€ä»¥Usersç»„ä»¶ã€è®¢é˜…ã€‘æ¶ˆæ¯ Searchç»„ä»¶ å°†æ•°æ®å‘é€å‡ºå»ï¼Œã€å‘å¸ƒã€‘æ¶ˆæ¯</p><p><strong>&gt;&gt;App.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Search</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Users</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Users&#x2F;index.jsx</strong></p><p>Userç»„ä»¶ä¸­ç”¨çŠ¶æ€æ•°æ®stateï¼ŒçŠ¶æ€å®šä¹‰åœ¨è¿™é‡Œï¼Œåœ¨è¿™é‡Œè®¢é˜…æ¶ˆæ¯ Searchç»„ä»¶æ”¹å˜çŠ¶æ€æ•°æ®ï¼Œåœ¨è¿™é‡Œå‘å¸ƒæ¶ˆæ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€</span><br>  state = &#123; <br>    <span class="hljs-attr">users</span>: [], <span class="hljs-comment">// usersåˆå§‹å€¼</span><br>    <span class="hljs-attr">isFirst</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ç¬¬ä¸€æ¬¡æ‰“å¼€é¡µé¢</span><br>    <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ ‡è¯†æ˜¯å¦å¤„äºåŠ è½½ä¸­</span><br>    <span class="hljs-attr">err</span>:<span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// è¯·æ±‚å¤±è´¥çš„æ¶ˆæ¯</span><br>  &#125;<br>  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è®¢é˜…æ¶ˆæ¯</span><br>    <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">_, data</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(data)<br>    &#125;)<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123;users, isFirst, isLoading, err&#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        &#123;</span><br><span class="language-xml">          isFirst ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿ä½¿ç”¨ï¼Œè¯·è¾“å…¥å…³é”®å­—ï¼Œéšåç‚¹å‡»æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          isLoading ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          err ? <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;color:</span> &#x27;<span class="hljs-attr">red</span>&#x27;&#125;&#125;&gt;</span>&#123;err&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span> :</span><br><span class="language-xml">          users.map((userObj) =&gt; &#123;</span><br><span class="language-xml">            return (</span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;userObj.id&#125;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;noreferrer&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;userObj.html_url&#125;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;avatar&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;userObj.avatar_url&#125;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> &#x27;<span class="hljs-attr">width</span>&#x27;<span class="hljs-attr">:</span> &#x27;<span class="hljs-attr">100px</span>&#x27; &#125;&#125;/&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card-text&quot;</span>&gt;</span>&#123;userObj.login&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">            )</span><br><span class="language-xml">          &#125;)</span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Search&#x2F;index.jsx</strong></p><p>Searchç»„ä»¶æ”¹å˜çŠ¶æ€æ•°æ®ï¼Œåœ¨è¿™é‡Œå‘å¸ƒæ¶ˆæ¯ã€ä¸€æ”¹å˜çŠ¶æ€ï¼Œå°±å‘å¸ƒæ¶ˆæ¯ã€‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  search = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>: &#123;<span class="hljs-attr">value</span>: keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br>    <span class="hljs-comment">// å‘é€è¯·æ±‚å‰é€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>    <span class="hljs-comment">// this.props.updateAppState(&#123;isFirst: false,isLoading: true&#125;)</span><br>    <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isFirst</span>: <span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span>&#125;)<br>    <span class="hljs-comment">// å‘é€ç½‘ç»œè¯·æ±‚</span><br>    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/api1/search/users?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br>      <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// è¯·æ±‚æˆåŠŸï¼Œé€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>: response.<span class="hljs-property">data</span>.<span class="hljs-property">items</span>&#125;)<br>        <span class="hljs-comment">// this.props.updateAppState(&#123;isLoading: false, users: response.data.items&#125;)</span><br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-comment">// è¯·æ±‚å¤±è´¥ï¼Œé€šçŸ¥Usersæ›´æ–°çŠ¶æ€</span><br>        <span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>, &#123;<span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>: error.<span class="hljs-property">message</span>&#125;)<br>        <span class="hljs-comment">// this.props.updateAppState(&#123;isLoading: false, err: error.message&#125;)</span><br>      &#125;<br>    )<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;jumbotron-heading&quot;</span>&gt;</span>æœç´¢Githubç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;c</span> =&gt;</span> this.keyWordElement = c&#125; type=&quot;text&quot; placeholder=&quot;è¯·è¾“å…¥ä½ è¦æœç´¢çš„ç”¨æˆ·å&quot; /&gt;<span class="hljs-symbol">&amp;nbsp;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;this.search&#125;</span>&gt;</span>æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="6"><li>Fetch</li></ol><p>Axiosåœ¨å‰ç«¯æ˜¯å¯¹xhrçš„å°è£… è€ŒFetchæ˜¯å†…ç½®çš„ç½‘ç»œè¯·æ±‚æ–¹æ³•ï¼Œä¸éœ€è¦å•ç‹¬ä¸‹è½½å®‰è£…</p><p>6.1 æ–‡æ¡£</p><p>github.github.io&#x2F;fetch&#x2F;</p><p>ã€ç›¸å…³åšæ–‡ã€‘ä¼ ç»Ÿ Ajax å·²æ­»ï¼ŒFetch æ°¸ç”Ÿ</p><p>6.2 ç‰¹ç‚¹</p><p>fetch: åŸç”Ÿå‡½æ•°ï¼Œä¸å†ä½¿ç”¨XmlHttpRequestå¯¹è±¡æäº¤ajaxè¯·æ±‚</p><p>è€ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ</p><p>6.3 å®ä¾‹æ¼”ç¤º</p><p>Search&#x2F;index.jsx</p><p>ä¼˜åŒ–å‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>search = <span class="hljs-title function_">async</span>()=&gt;&#123;<br><span class="hljs-comment">//è·å–ç”¨æˆ·çš„è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>:&#123;<span class="hljs-attr">value</span>:keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br><span class="hljs-comment">//å‘é€è¯·æ±‚å‰é€šçŸ¥Listæ›´æ–°çŠ¶æ€</span><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isFirst</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">true</span>&#125;)<br><br><span class="hljs-comment">//å‘é€ç½‘ç»œè¯·æ±‚---ä½¿ç”¨fetchå‘é€ï¼ˆæœªä¼˜åŒ–ï¼‰</span><br><span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<br><span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è”ç³»æœåŠ¡å™¨æˆåŠŸäº†&#x27;</span>);<br><span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>()<br>&#125;,<br><span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è”ç³»æœåŠ¡å™¨å¤±è´¥äº†&#x27;</span>,error);<br>        <span class="hljs-comment">//è¿”å›åˆå§‹åŒ–çŠ¶æ€çš„promiseå€¼,ä¸å†å¾€ä¸‹èµ°ã€‚</span><br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">()=&gt;</span>&#123;&#125;)<br>&#125;<br>).<span class="hljs-title function_">then</span>(<br><span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®æˆåŠŸäº†&#x27;</span>,response);&#125;,<br><span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è·å–æ•°æ®å¤±è´¥äº†&#x27;</span>,error);&#125;<br>)<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Search</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>search = <span class="hljs-title function_">async</span>()=&gt;&#123;<br><span class="hljs-comment">//è·å–ç”¨æˆ·çš„è¾“å…¥(è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å)</span><br><span class="hljs-keyword">const</span> &#123;<span class="hljs-attr">keyWordElement</span>:&#123;<span class="hljs-attr">value</span>:keyWord&#125;&#125; = <span class="hljs-variable language_">this</span><br><span class="hljs-comment">//å‘é€è¯·æ±‚å‰é€šçŸ¥Listæ›´æ–°çŠ¶æ€</span><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isFirst</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">true</span>&#125;)<br><br><span class="hljs-comment">//å‘é€ç½‘ç»œè¯·æ±‚---ä½¿ç”¨fetchå‘é€ï¼ˆä¼˜åŒ–ï¼‰</span><br><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>)<br><span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()<br><span class="hljs-comment">// console.log(data);</span><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">users</span>:data.<span class="hljs-property">items</span>&#125;)<br>&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br><span class="hljs-comment">// console.log(&#x27;è¯·æ±‚å‡ºé”™&#x27;,error);</span><br><span class="hljs-title class_">PubSub</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-string">&#x27;ykyk&#x27;</span>,&#123;<span class="hljs-attr">isLoading</span>:<span class="hljs-literal">false</span>, <span class="hljs-attr">err</span>:error.<span class="hljs-property">message</span>&#125;)<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="7"><li>æ€»ç»“</li></ol><p>è®¾è®¡çŠ¶æ€æ—¶è¦è€ƒè™‘å…¨é¢ï¼Œä¾‹å¦‚å¸¦æœ‰ç½‘ç»œè¯·æ±‚çš„ç»„ä»¶ï¼Œè¦è€ƒè™‘è¯·æ±‚å¤±è´¥æ€ä¹ˆåŠã€‚</p><p>ES6å°çŸ¥è¯†ç‚¹ï¼šè§£æ„èµ‹å€¼+é‡å‘½å</p><p>let obj &#x3D; {a:{b:1}}</p><p>const {a} &#x3D; obj; &#x2F;&#x2F;ä¼ ç»Ÿè§£æ„èµ‹å€¼</p><p>const {a:{b}} &#x3D; obj; &#x2F;&#x2F;è¿ç»­è§£æ„èµ‹å€¼</p><p>const {a:{b:value}} &#x3D; obj; &#x2F;&#x2F;è¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</p><p>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒæœºåˆ¶</p><p>å…ˆè®¢é˜…ï¼Œå†å‘å¸ƒï¼ˆç†è§£ï¼šæœ‰ä¸€ç§éš”ç©ºå¯¹è¯çš„æ„Ÿè§‰ï¼‰</p><p>é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p><p>è¦åœ¨ç»„ä»¶çš„componentWillUnmountä¸­å–æ¶ˆè®¢é˜…</p><p>fetchå‘é€è¯·æ±‚ï¼ˆå…³æ³¨åˆ†ç¦»çš„è®¾è®¡æ€æƒ³ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">try</span> &#123;<br><span class="hljs-keyword">const</span> response= <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api1/search/users2?q=<span class="hljs-subst">$&#123;keyWord&#125;</span>`</span>)<br><span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);<br>&#125; <span class="hljs-keyword">catch</span> (error) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è¯·æ±‚å‡ºé”™&#x27;</span>,error);<br>&#125;<br></code></pre></td></tr></table></figure><p>ã€Reactã€‘SPA - è·¯ç”±æœºåˆ¶ - react-router5 - åŸºæœ¬è·¯ç”± - åµŒå¥—è·¯ç”± - ä¼ é€’å‚æ•° - è·¯ç”±è·³è½¬</p><h1 id="1-ç›¸å…³ç†è§£"><a href="#1-ç›¸å…³ç†è§£" class="headerlink" title="1. ç›¸å…³ç†è§£"></a>1. ç›¸å…³ç†è§£</h1><h2 id="1-1-SPAçš„ç†è§£"><a href="#1-1-SPAçš„ç†è§£" class="headerlink" title="1.1. SPAçš„ç†è§£"></a>1.1. SPAçš„ç†è§£</h2><p>å•é¡µWebåº”ç”¨ï¼ˆsingle page web applicationï¼ŒSPAï¼‰</p><p>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚</p><p>ç‚¹å‡»é¡µé¢ä¸­çš„é“¾æ¥ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œåªä¼šåšé¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚</p><p>æ•°æ®éƒ½éœ€è¦é€šè¿‡ajaxè¯·æ±‚è·å–, å¹¶åœ¨å‰ç«¯å¼‚æ­¥å±•ç°ã€‚</p><h2 id="1-2-è·¯ç”±çš„ç†è§£"><a href="#1-2-è·¯ç”±çš„ç†è§£" class="headerlink" title="1.2. è·¯ç”±çš„ç†è§£"></a>1.2. è·¯ç”±çš„ç†è§£</h2><h3 id="1-2-1-ä»€ä¹ˆæ˜¯è·¯ç”±"><a href="#1-2-1-ä»€ä¹ˆæ˜¯è·¯ç”±" class="headerlink" title="1.2.1 ä»€ä¹ˆæ˜¯è·¯ç”±?"></a>1.2.1 ä»€ä¹ˆæ˜¯è·¯ç”±?</h3><p>ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»(key: value)</p><p>keyä¸ºè·¯å¾„, valueå¯èƒ½æ˜¯functionæˆ–component</p><h3 id="1-2-2-è·¯ç”±åˆ†ç±»"><a href="#1-2-2-è·¯ç”±åˆ†ç±»" class="headerlink" title="1.2.2 è·¯ç”±åˆ†ç±»"></a>1.2.2 è·¯ç”±åˆ†ç±»</h3><ul><li><ol><li>åç«¯è·¯ç”±</li></ol><ul><li><p>ç†è§£ï¼š valueæ˜¯function, ç”¨æ¥å¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ã€‚</p></li><li><p>æ³¨å†Œè·¯ç”±ï¼š router.get(path, function(req, res))</p></li><li><p>å·¥ä½œè¿‡ç¨‹ï¼šå½“nodeæ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶, æ ¹æ®è¯·æ±‚è·¯å¾„æ‰¾åˆ°åŒ¹é…çš„è·¯ç”±, è°ƒç”¨è·¯ç”±ä¸­çš„å‡½æ•°æ¥å¤„ç†è¯·æ±‚, è¿”å›å“åº”æ•°æ®</p></li></ul></li><li><ol start="2"><li>å‰ç«¯è·¯ç”±</li></ol><ul><li><p>æµè§ˆå™¨ç«¯è·¯ç”±ï¼Œvalueæ˜¯componentï¼Œç”¨äºå±•ç¤ºé¡µé¢å†…å®¹ã€‚</p></li><li><p>æ³¨å†Œè·¯ç”±: <Route path="/test" component={Test}></p></li><li><p>å·¥ä½œè¿‡ç¨‹ï¼šå½“æµè§ˆå™¨çš„pathå˜ä¸º&#x2F;testæ—¶, å½“å‰è·¯ç”±ç»„ä»¶å°±ä¼šå˜ä¸ºTestç»„ä»¶</p></li><li><p>ä¸»è¦æ˜¯é€šè¿‡æ“ä½œBOMä¸­çš„historyæ¥æ“ä½œè·¯å¾„</p></li></ul></li></ul><h2 id="1-3-react-router-dom-çš„ç†è§£"><a href="#1-3-react-router-dom-çš„ç†è§£" class="headerlink" title="1.3. react-router-dom çš„ç†è§£"></a>1.3. react-router-dom çš„ç†è§£</h2><ul><li><p>Reactçš„ä¸€ä¸ªæ’ä»¶åº“ã€‚</p></li><li><p>ä¸“é—¨ç”¨æ¥å®ç°ä¸€ä¸ªSPAåº”ç”¨ã€‚</p></li><li><p>åŸºäºReactçš„é¡¹ç›®åŸºæœ¬éƒ½ä¼šç”¨åˆ°æ­¤åº“ã€‚</p></li></ul><h1 id="2-react-router-domç›¸å…³API"><a href="#2-react-router-domç›¸å…³API" class="headerlink" title="2. react-router-domç›¸å…³API"></a>2. react-router-domç›¸å…³API</h1><h2 id="2-1-å†…ç½®ç»„ä»¶"><a href="#2-1-å†…ç½®ç»„ä»¶" class="headerlink" title="2.1. å†…ç½®ç»„ä»¶"></a>2.1. å†…ç½®ç»„ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">BrowserRouter</span>&gt;<br>&lt;<span class="hljs-title class_">HashRouter</span>&gt;<br>&lt;<span class="hljs-title class_">Route</span>&gt;<br>&lt;<span class="hljs-title class_">Redirect</span>&gt;<br>&lt;<span class="hljs-title class_">Link</span>&gt;<br>&lt;<span class="hljs-title class_">NavLink</span>&gt;<br>&lt;<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure><h2 id="2-2-å…¶å®ƒ"><a href="#2-2-å…¶å®ƒ" class="headerlink" title="2.2. å…¶å®ƒ"></a>2.2. å…¶å®ƒ</h2><p>history å¯¹è±¡</p><p>match å¯¹è±¡</p><p>withRouter å‡½æ•°</p><h1 id="3-åŸºæœ¬è·¯ç”±ä½¿ç”¨"><a href="#3-åŸºæœ¬è·¯ç”±ä½¿ç”¨" class="headerlink" title="3. åŸºæœ¬è·¯ç”±ä½¿ç”¨"></a>3. åŸºæœ¬è·¯ç”±ä½¿ç”¨</h1><h2 id="3-1-æ•ˆæœ"><a href="#3-1-æ•ˆæœ" class="headerlink" title="3.1. æ•ˆæœ"></a>3.1. æ•ˆæœ</h2><p><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/34f6957bbd4f46efac620ff7d66003a4~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp">åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</a></p><h2 id="3-2-å‡†å¤‡"><a href="#3-2-å‡†å¤‡" class="headerlink" title="3.2. å‡†å¤‡"></a>3.2. å‡†å¤‡</h2><p>ä¸‹è½½react-router-dom: npm install react-router-dom</p><p>å¼•å…¥bootstrap.css: <link rel="stylesheet" href="/css/bootstrap.css"></p><h2 id="3-3-è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"><a href="#3-3-è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="3.3 è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨"></a>3.3 è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨</h2><p>1.æ˜ç¡®å¥½ç•Œé¢ä¸­çš„å¯¼èˆªåŒºã€å±•ç¤ºåŒº</p><p>2.å¯¼èˆªåŒºçš„aæ ‡ç­¾æ”¹ä¸ºLinkæ ‡ç­¾ <code>&lt;Link to=&quot;/xxxxx&quot;&gt;Demo&lt;/Link&gt;</code>&#x2F;&#x2F;toé‡Œé¢å°½é‡éƒ½å°å†™</p><p>3.å±•ç¤ºåŒºå†™Routeæ ‡ç­¾è¿›è¡Œè·¯å¾„çš„åŒ¹é… <code>&lt;Route path=&#39;/xxxx&#39; component=&#123;Demo&#125;/&gt;</code></p><p>4.<code>&lt;App&gt;</code>çš„æœ€å¤–ä¾§åŒ…è£¹äº†ä¸€ä¸ª<code>&lt;BrowserRouter&gt;</code>æˆ–<code>&lt;HashRouter&gt;</code></p><p>(BrowserRouter å°†ä¼šç›‘å¬ URL çš„å˜åŒ–ï¼Œå½“ URL å˜æ›´æ—¶ï¼Œå®ƒå°†ä½¿æµè§ˆå™¨æ˜¾ç¤ºç›¸åº”çš„é¡µé¢ï¼›æ‰€ä»¥è¦åœ¨æœ€å¤–ä¾§åŒ…è£¹ä¸€ä¸ª)</p><h2 id="3-4-å®ç°"><a href="#3-4-å®ç°" class="headerlink" title="3.4 å®ç°"></a>3.4 å®ç°</h2><p><strong>&gt;&gt;Index.js</strong></p><p>è¿™é‡Œç”¨ä¸€ä¸ªè·¯ç”±å™¨æ ‡ç­¾å°†æ•´ä¸ªAppåŒ…èµ·æ¥ï¼Œä¿è¯ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨è¿™é‡Œä½¿ç”¨BrowserRouter</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¼•å…¥reactæ ¸å¿ƒåº“</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-comment">//å¼•å…¥ReactDOM</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom&#x27;</span><br><span class="hljs-comment">//</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">BrowserRouter</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-comment">//å¼•å…¥App</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span><br><br><span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">render</span>(<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">BrowserRouter</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">BrowserRouter</span>&gt;</span></span>,<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>)<br>)<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>,<span class="hljs-title class_">Route</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Home&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./About&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-offset-2 col-xs-8&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>React Router Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-2 col-xs-offset-2&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group&quot;</span>&gt;</span></span><br><span class="language-xml">            &#123;/* åŸç”Ÿhtmlä¸­ï¼Œé <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>è·³è½¬ä¸åŒçš„é¡µé¢ */&#125;</span><br><span class="language-xml">            &#123;/* <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./about.html&quot;</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item active&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./home.html&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> */&#125;</span><br><span class="language-xml"></span><br><span class="language-xml">            &#123;/* åœ¨Reactä¸­é è·¯ç”±é“¾æ¥å®ç°åˆ‡æ¢ç»„ä»¶--ç¼–å†™è·¯ç”±é“¾æ¥ */&#125;</span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col-xs-6&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;panel&quot;</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="language-xml">                &#123;/* æ³¨å†Œè·¯ç”± */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/about&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;</span> /&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    )</span><br><span class="language-xml">  &#125;</span><br><span class="language-xml">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="3-5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«"><a href="#3-5-è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="3.5 è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«"></a>3.5 è·¯ç”±ç»„ä»¶ä¸ä¸€èˆ¬ç»„ä»¶çš„åŒºåˆ«</h2><p><code>#å·åé¢çš„ä¸œè¥¿ä¸ä½œä¸ºæ•°æ®å‘é€ç»™æœåŠ¡å™¨</code></p><p>ä¸€ã€å†™æ³•ä¸åŒ</p><ul><li>ä¸€èˆ¬ç»„ä»¶ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Demo</span>/&gt;<br></code></pre></td></tr></table></figure><ul><li>è·¯ç”±ç»„ä»¶ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Route</span> path=<span class="hljs-string">&quot;/demo&quot;</span> component=&#123;<span class="hljs-title class_">Demo</span>&#125;/&gt;<br></code></pre></td></tr></table></figure><p>äºŒã€å­˜æ”¾ä½ç½®ä¸åŒ</p><ul><li><p>ä¸€èˆ¬ç»„ä»¶ï¼šcomponents</p></li><li><p>è·¯ç”±ç»„ä»¶ï¼špages</p></li></ul><p>ä¸‰ã€æ¥æ”¶åˆ°çš„propsä¸åŒ</p><ul><li><p>ä¸€èˆ¬ç»„ä»¶ï¼šå†™ç»„ä»¶æ ‡ç­¾æ—¶ä¼ é€’äº†ä»€ä¹ˆï¼Œå°±èƒ½æ”¶åˆ°ä»€ä¹ˆ</p></li><li><p>è·¯ç”±ç»„ä»¶ï¼šæ¥æ”¶åˆ°ä¸‰ä¸ªå›ºå®šçš„å±æ€§</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">history</span>: <br><br>  <span class="hljs-attr">go</span>: Æ’ <span class="hljs-title function_">go</span>(n)<br><br>  <span class="hljs-attr">goBack</span>: Æ’ <span class="hljs-title function_">goBack</span>() <br><br>  <span class="hljs-attr">goForward</span>: Æ’ <span class="hljs-title function_">goForward</span>() <br><br>  <span class="hljs-attr">push</span>: Æ’ <span class="hljs-title function_">push</span>(path, state) <br><br>  <span class="hljs-attr">replace</span>: Æ’ <span class="hljs-title function_">replace</span>(path, state) <br><br><br><span class="hljs-attr">location</span>:<br><br>  <span class="hljs-attr">pathname</span>: <span class="hljs-string">&quot;/about&quot;</span><br><br>  <span class="hljs-attr">search</span>: <span class="hljs-string">&quot;&quot;</span><br><br>  <span class="hljs-attr">state</span>: <span class="hljs-literal">undefined</span><br><br><br><span class="hljs-attr">match</span>:<br><br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;/about&quot;</span><br><br>  <span class="hljs-attr">params</span>: &#123;&#125;<br><br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span><br></code></pre></td></tr></table></figure><h2 id="3-6-NavLinkä¸å°è£…NavLink"><a href="#3-6-NavLinkä¸å°è£…NavLink" class="headerlink" title="3.6 NavLinkä¸å°è£…NavLink"></a>3.6 NavLinkä¸å°è£…NavLink</h2><p>NavLinkå¯ä»¥å®ç°è·¯ç”±é“¾æ¥çš„é«˜äº®ï¼Œé€šè¿‡activeClassNameå±æ€§æŒ‡å®šæ ·å¼åï¼Œé»˜è®¤æ˜¯â€activeâ€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">NavLink</span> activeClassName=<span class="hljs-string">&quot;demo&quot;</span> className=<span class="hljs-string">&quot;list-group-item&quot;</span> to=<span class="hljs-string">&quot;/home&quot;</span>&gt;<span class="hljs-title class_">Home</span>&lt;/<span class="hljs-title class_">NavLink</span>&gt;<br></code></pre></td></tr></table></figure><p>å¯ä»¥è‡ªå·±å°è£…ä¸€ä¸ªNavLinkã€ä¸€èˆ¬ç»„ä»¶ã€‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">NavLink</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyNavLink</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// console.log(this.props);</span><br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">activeClassName</span>=<span class="hljs-string">&quot;demo&quot;</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> &#123;<span class="hljs-attr">...this.props</span>&#125; /&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ‡ç­¾ä½“å†…å®¹æ˜¯ç‰¹æ®Šçš„æ ‡ç­¾å±æ€§é€šè¿‡this.props.childrenå¯ä»¥è·å–æ ‡ç­¾ä½“å†…å®¹</p><p>ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">MyNavLink</span> to=<span class="hljs-string">&quot;/about&quot;</span>&gt;<span class="hljs-title class_">About</span>&lt;/<span class="hljs-title class_">MyNavLink</span>&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyNavLink</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">MyNavLink</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="3-7-Switchçš„ä½¿ç”¨"><a href="#3-7-Switchçš„ä½¿ç”¨" class="headerlink" title="3.7 Switchçš„ä½¿ç”¨"></a>3.7 Switchçš„ä½¿ç”¨</h2><ul><li><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œpathå’Œcomponentæ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚<code>&lt;Route path=&#39;/about&#39; component=&#123;About&#125; /&gt;</code></p></li><li><p><strong>Switch</strong>å¯ä»¥æé«˜è·¯ç”±åŒ¹é…æ•ˆç‡(å•ä¸€åŒ¹é…)ã€‚</p></li></ul><p>è¿™æ ·åªè¦åŒ¹é…åˆ°äº†ç¬¬ä¸€ä¸ªå°±ä¸ä¼šå†å¾€ä¸‹åŒ¹é…äº†</p><p>å¼•å…¥switch</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Switch</span>&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;/</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;/</span>&gt;</span></span> <br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Test&#125;/</span>&gt;</span></span><br>&lt;/<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure><h1 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a>ä¾‹å­ï¼š</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,&#123;<span class="hljs-title class_">Component</span>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123;<span class="hljs-title class_">HashRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>,<span class="hljs-title class_">Route</span>,<span class="hljs-title class_">Link</span>,<span class="hljs-title class_">Switch</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Main</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Main&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./About&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Topic</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Topic&#x27;</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) &#123;<br>        <span class="hljs-variable language_">super</span>(props);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = &#123;  &#125;;<br>    &#125;<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> (<br>            <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span>main<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>&gt;</span>about<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                        <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/topic&quot;</span>&gt;</span>topic<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><span class="language-xml">                &#123;/* &#123;this.props.children&#125; */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">                &#123;/* SwitchåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªè·¯ç”±å°±ä¸ä¼šç»§ç»­åŒ¹é…äº†,</span><br><span class="language-xml">                å¦‚æœä¸åŠ Route é‡Œä¸åŠ  exactï¼Œé‚£ä¹ˆå‡¡æ˜¯Linké‡Œé¢ to çš„è·¯å¾„åŒ…å«äº†/ï¼Œ</span><br><span class="language-xml">                é‚£ä¹ˆå°±ä¼šè¢«åŒ¹é…åˆ°ï¼Œäºæ˜¯Switchå°±ä¸ç»§ç»­åŒ¹é…ä¸‹å»</span><br><span class="language-xml">                </span><br><span class="language-xml">                */&#125;</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">exact</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Main&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">Route</span>  <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/topic&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Topic&#125;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span><br>            <br>        );<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;<br></code></pre></td></tr></table></figure><h2 id="3-8-è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"><a href="#3-8-è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜" class="headerlink" title="3.8 è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜"></a>3.8 è§£å†³å¤šçº§è·¯å¾„åˆ·æ–°é¡µé¢æ ·å¼ä¸¢å¤±çš„é—®é¢˜</h2><p>ã€Pulbicæ–‡ä»¶å¤¹å°±æ˜¯æ ¹ç›®å½•&#x2F;ã€‘</p><p>ã€Šè§£å†³æ–¹æ¡ˆã€‹</p><ul><li><p>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ &#x2F; ï¼ˆå¸¸ç”¨ï¼‰ã€ç»å¯¹è·¯å¾„ã€‘</p></li><li><p>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ %PUBLIC_URL% ï¼ˆå¸¸ç”¨ï¼‰</p></li><li><p>ä½¿ç”¨HashRouter</p></li></ul><p>é—®é¢˜åŸå› ï¼šå¤šçº§è·¯å¾„ä¸‹ï¼ŒåŠ è½½æ ·å¼æ—¶ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œåœ¨åˆ·æ–°æ—¶å°†å¤šçº§è·¯ç”±ä¹Ÿè€ƒè™‘åœ¨å†…</p><p>&#x2F;&#x2F; å¦‚ä¸‹ï¼Œæ ·å¼è·¯å¾„ â€˜.&#x2F;â€˜ å¯¼è‡´åŠ è½½èµ„æºæ—¶ï¼Œéœ€è¦å‚è€ƒå½“å‰è·¯å¾„ï¼Œå› æ­¤å¤šçº§è·¯ç”±ä¼šå½±å“èµ„æºçš„åŠ è½½<br> <link rel="stylesheet" href="./test.css" /></p><p>è§£å†³çš„ä¸‰ç§æ–¹æ³•ï¼š<br>ä½¿ç”¨ ç»å¯¹è·¯å¾„<br>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ &#x2F; ï¼ˆå¸¸ç”¨ï¼‰<br> &#x2F;&#x2F; åŠ è½½ æ ¹ç›®å½•ä¸‹çš„ test.css ï¼Œä¸å½“å‰è·¯ç”±æ— å…³<br> <link rel="stylesheet" href="/test.css" /></p><p>ä½¿ç”¨ %PUBLIC_URL%ï¼ˆæ­¤æ–¹æ³•åªæœ‰åœ¨reactä¸­æœ‰æ•ˆï¼‰<br>public&#x2F;index.html ä¸­ å¼•å…¥æ ·å¼æ—¶ä¸å†™ .&#x2F; å†™ %PUBLIC_URL% ï¼ˆå¸¸ç”¨ï¼‰<br> &#x2F;&#x2F; åŠ è½½ public æ–‡ä»¶å¤¹ä¸‹çš„ test.css ï¼Œä¸å½“å‰è·¯ç”±æ— å…³<br> <link rel="stylesheet" href="%PUBLIC_URL%/test.css" /></p><p>åŸç†ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå³å›ºå®šäº†æ˜¯publicä¸‹çš„test.cssï¼Œå¹¶ä¸ä¼šè¢«å˜åŠ¨ã€‚</p><p>ä½¿ç”¨HashRouter<br>ReactDOM.render(<br>    <HashRouter><br>        <App /><br>    </HashRouter><br>    , document.getElementById(â€˜rootâ€™))</p><p>åŸç†ï¼šå› ä¸º hash æ˜¯ä¸ä¼šæ”¹å˜è·¯å¾„çš„ï¼Œä¹Ÿä¸ä¼šåŒ…å«åœ¨è¯·æ±‚URLä¸­ï¼Œå› æ­¤ä¸ä¼šå½±å“ç›¸å¯¹è·¯å¾„</p><p>æ€»ç»“ï¼š<br>æ ·å¼ä¸¢å¤±çš„åŸå› æ˜¯ï¼ŒåŠ è½½èµ„æºæ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè€Œç›¸å¯¹è·¯å¾„åˆä¼šå‚è€ƒå½“å‰è·¯ç”±è·¯å¾„ï¼Œå› æ­¤å¯¼è‡´åŠ è½½ä¸åˆ°èµ„æºï¼Œè§£å†³åŠæ³•åˆ™æ˜¯ä½¿ç”¨ç»å¯¹è·¯å¾„ç­‰ï¼Œè®©å…¶åŠ è½½èµ„æºæ—¶ä¸å†å‚è€ƒè·¯ç”±è·¯å¾„ã€‚</p><h2 id="3-9-è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"><a href="#3-9-è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="3.9 è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…"></a>3.9 è·¯ç”±çš„ä¸¥æ ¼åŒ¹é…ä¸æ¨¡ç³ŠåŒ¹é…</h2><p>é»˜è®¤ä½¿ç”¨çš„æ˜¯æ¨¡ç³ŠåŒ¹é…ï¼ˆç®€å•è®°ï¼šã€è¾“å…¥çš„è·¯å¾„ã€‘å¿…é¡»åŒ…å«è¦ã€åŒ¹é…çš„è·¯å¾„ã€‘ï¼Œä¸”é¡ºåºè¦ä¸€è‡´ï¼‰<br>å¼€å¯ä¸¥æ ¼åŒ¹é…ï¼š<Route exact={true} path="/about" component={About}/>ç®€å†™<Route exact path="/about" component={About}/><br>ä¸¥æ ¼åŒ¹é…ä¸è¦éšä¾¿å¼€å¯ï¼Œéœ€è¦å†å¼€ï¼Œæœ‰äº›æ—¶å€™å¼€å¯ä¼šå¯¼è‡´æ— æ³•ç»§ç»­åŒ¹é…äºŒçº§è·¯ç”±</p><h2 id="3-10-Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘"><a href="#3-10-Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘" class="headerlink" title="3.10 Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘"></a>3.10 Redirectçš„ä½¿ç”¨ã€é‡å®šå‘ã€‘</h2><p>ä¸€èˆ¬å†™åœ¨æ‰€æœ‰è·¯ç”±æ³¨å†Œçš„æœ€ä¸‹æ–¹ï¼Œå½“æ‰€æœ‰è·¯ç”±éƒ½æ— æ³•åŒ¹é…æ—¶ï¼Œè·³è½¬åˆ°RedirectæŒ‡å®šçš„è·¯ç”±</p><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;<span class="hljs-title class_">Switch</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/about&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;About&#125;/</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Home&#125;/</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Redirect</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/about&quot;</span>/&gt;</span></span><br>&lt;/<span class="hljs-title class_">Switch</span>&gt;<br></code></pre></td></tr></table></figure><h1 id="4-åµŒå¥—è·¯ç”±ä½¿ç”¨"><a href="#4-åµŒå¥—è·¯ç”±ä½¿ç”¨" class="headerlink" title="4. åµŒå¥—è·¯ç”±ä½¿ç”¨"></a>4. åµŒå¥—è·¯ç”±ä½¿ç”¨</h1><h2 id="4-1-æ•ˆæœ-1"><a href="#4-1-æ•ˆæœ-1" class="headerlink" title="4.1 æ•ˆæœ"></a>4.1 æ•ˆæœ</h2><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><h2 id="4-2-æ³¨æ„"><a href="#4-2-æ³¨æ„" class="headerlink" title="4.2 æ³¨æ„"></a>4.2 æ³¨æ„</h2><p>æ³¨å†Œå­è·¯ç”±æ—¶è¦å†™ä¸Šçˆ¶è·¯ç”±çš„pathå€¼</p><p>è·¯ç”±çš„åŒ¹é…æ˜¯æŒ‰ç…§æ³¨å†Œè·¯ç”±çš„é¡ºåºè¿›è¡Œçš„</p><h2 id="4-3-å®ç°"><a href="#4-3-å®ç°" class="headerlink" title="4.3 å®ç°"></a>4.3 å®ç°</h2><p><strong>&gt;&gt;Home&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">NavLink</span>,<span class="hljs-title class_">Redirect</span>,<span class="hljs-title class_">Switch</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">News</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./News&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Message</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Message&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Homeçš„å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;nav nav-tabs&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home/news&quot;</span>&gt;</span>News<span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              <span class="hljs-tag">&lt;<span class="hljs-name">NavLink</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;list-group-item&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home/message&quot;</span>&gt;</span>Message<span class="hljs-tag">&lt;/<span class="hljs-name">NavLink</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home/news&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;News&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&#x27;/home/message&#x27;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Message&#125;</span> /&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Redirect</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#x27;/home/news&#x27;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"><a href="#5-å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®" class="headerlink" title="5. å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®"></a>5. å‘è·¯ç”±ç»„ä»¶ä¼ é€’å‚æ•°æ•°æ®</h1><h2 id="5-1-æ•ˆæœ"><a href="#5-1-æ•ˆæœ" class="headerlink" title="5.1 æ•ˆæœ"></a>5.1 æ•ˆæœ</h2><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><h2 id="5-2-å…·ä½“æ–¹æ³•"><a href="#5-2-å…·ä½“æ–¹æ³•" class="headerlink" title="5.2 å…·ä½“æ–¹æ³•"></a>5.2 å…·ä½“æ–¹æ³•</h2><p>æ–¹æ³•1. paramså‚æ•°<br>è·¯ç”±é“¾æ¥(æºå¸¦å‚æ•°)ï¼š&lt;Link to&#x3D;â€™&#x2F;demo&#x2F;test&#x2F;tom&#x2F;18â€™}&gt;è¯¦æƒ…</Link><br>æ³¨å†Œè·¯ç”±(å£°æ˜æ¥æ”¶)ï¼š<Route path="/demo/test/:name/:age" component={Test}/><br>æ¥æ”¶å‚æ•°ï¼šthis.props.match.params</p><p><strong>&gt;&gt;Message&#x2F;index.jsx</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Route</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-router-dom&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Detail</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Detail&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Message</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    <span class="hljs-attr">messageArr</span>: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯1&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯2&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;æ¶ˆæ¯3&#x27;</span> &#125;,<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; messageArr &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          &#123;</span><br><span class="language-xml">            messageArr.map((msgObj) =&gt; &#123;</span><br><span class="language-xml">              return (</span><br><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;msgObj.id&#125;</span>&gt;</span></span><br><span class="language-xml">                  &#123;/* å‘è·¯ç”±ç»„ä»¶ä¼ é€’paramså‚æ•° */&#125;</span><br><span class="language-xml">                  <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&#123;</span>`/<span class="hljs-attr">home</span>/<span class="hljs-attr">message</span>/<span class="hljs-attr">detail</span>/$&#123;<span class="hljs-attr">msgObj.id</span>&#125;/$&#123;<span class="hljs-attr">msgObj.title</span>&#125;`&#125;&gt;</span>&#123;msgObj.title&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><br><span class="language-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">              )</span><br><span class="language-xml">            &#125;)</span><br><span class="language-xml">          &#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></span><br><span class="language-xml">        &#123;/* å£°æ˜æ¥æ”¶paramså‚æ•° */&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/home/message/detail/:id/:title&quot;</span> <span class="hljs-attr">component</span>=<span class="hljs-string">&#123;Detail&#125;/</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Detail&#x2F;index.jsx</strong></p><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Detail</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;<br>  state = &#123;<br>    detailData : [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;01&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;ä½ å¥½å•Š&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;02&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;è¿˜ä¸é”™é¸­&#x27;</span> &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;03&#x27;</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;æ˜¾ç¤ºæˆ‘å§&#x27;</span> &#125;<br>    ]<br>  &#125;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>)<br>    <span class="hljs-comment">// æ¥æ”¶paramså‚æ•°</span><br>    <span class="hljs-keyword">const</span> &#123; id, title &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">match</span>.<span class="hljs-property">params</span><br>    <span class="hljs-keyword">const</span> findResult= <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">detailData</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">dataObj</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> dataObj.<span class="hljs-property">id</span> === id<br>    &#125;)<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ID: &#123;id &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Title: &#123;title &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Content: &#123; findResult.content&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ TypeScript</title>
    <link href="/2023/02/01/typeScript/"/>
    <url>/2023/02/01/typeScript/</url>
    
    <content type="html"><![CDATA[<h1 id="TypeScriptåŸºç¡€"><a href="#TypeScriptåŸºç¡€" class="headerlink" title="TypeScriptåŸºç¡€!"></a>TypeScriptåŸºç¡€!</h1><p> ä¸€.TypeScript æ˜¯ä»€ä¹ˆ  </p><pre><code class="hljs">typescriptæ˜¯JavaScriptçš„è¶…é›†ï¼ˆjsæœ‰çš„TSéƒ½æœ‰ï¼‰ï¼›tsåœ¨jsçš„åŸºç¡€ä¸Šå¢åŠ äº†ç±»å‹æ”¯æŒ</code></pre><p>äºŒ.TypeScript çš„ä¼˜åŠ¿  </p><ul><li><p>tsæ˜¯é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œjsæ˜¯åŠ¨æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€<br><em>é™æ€ç±»å‹ï¼šç¼–è¯‘æœŸåšç±»å‹æ£€æŸ¥   åŠ¨æ€ç±»å‹ï¼šæ‰§è¡ŒæœŸåšç±»å‹æ£€æŸ¥</em></p></li><li><p>jsåœ¨ä»£ç <strong>æ‰§è¡Œ</strong>çš„æ—¶å€™çš„æ‰èƒ½å‘ç°é”™è¯¯ï¼Œè€Œtsåœ¨<strong>ç¼–è¯‘</strong>çš„æ—¶å€™å°±å¯ä»¥å‘ç°</p></li><li><p>jsçš„ç»å¤§éƒ¨åˆ†é”™è¯¯éƒ½æ˜¯<strong>ç±»å‹é”™è¯¯</strong>ï¼Œç”¨TSå¯ä»¥å‡å°‘æ‰¾BUGå’Œæ”¹BUGçš„æ—¶é—´</p></li><li><p>TSåœ¨ç¨‹åºä»»ä½•åœ°æ–¹éƒ½ä¼šæœ‰<strong>ä»£ç æç¤º</strong></p></li><li><p>TSæé«˜äº†ä»£ç çš„<strong>å¯ç»´æŠ¤æ€§</strong></p></li><li><p>TSæ”¯æŒæœ€æ–°çš„ECMAScriptè¯­æ³•</p></li><li><p>TSç±»å‹æ¨æ–­æœºåˆ¶ï¼Œä¸éœ€è¦åœ¨ä»£ç æ¯ä¸ªåœ°æ–¹éƒ½æ ‡æ³¨ç±»å‹</p></li></ul><p> ä¸‰.TypeScript å®‰è£…</p><pre><code class="hljs">å®‰è£…ï¼š`npm i -g typescript`ç‰ˆæœ¬æ£€æŸ¥ï¼š`tsc -v`è¿è¡Œ---&gt;ç”Ÿæˆjsæ–‡ä»¶tsc xxx.ts</code></pre><p><em>typescriptåŒ…ï¼šå°†TSè½¬åŒ–ä¸ºJSï¼Œå› ä¸ºnode&#x2F;æµè§ˆå™¨éƒ½æ˜¯åªè¯†åˆ«JSçš„</em></p><p>å››.TypeScriptä¸­çš„åŸºæœ¬ç±»å‹</p><p>TypeScriptä¸­çš„åŸºæœ¬ç±»å‹ï¼š</p><ul><li><p>ç±»å‹å£°æ˜</p><ul><li><p>ç±»å‹å£°æ˜æ˜¯TSéå¸¸é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹ï¼›</p></li><li><p>é€šè¿‡ç±»å‹å£°æ˜å¯ä»¥æŒ‡å®šTSä¸­å˜é‡ï¼ˆå‚æ•°ã€å½¢å‚ï¼‰çš„ç±»å‹ï¼›</p></li><li><p>æŒ‡å®šç±»å‹åï¼Œå½“ä¸ºå˜é‡èµ‹å€¼æ—¶ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å€¼æ˜¯å¦ç¬¦åˆç±»å‹å£°æ˜ï¼Œç¬¦åˆåˆ™èµ‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ï¼›</p></li><li><p>ç®€è€Œè¨€ä¹‹ï¼Œç±»å‹å£°æ˜ç»™å˜é‡è®¾ç½®äº†ç±»å‹ï¼Œä½¿å¾—å˜é‡åªèƒ½å­˜å‚¨æŸç§ç±»å‹çš„å€¼ï¼›</p></li><li><p>è¯­æ³•ï¼š</p></li></ul></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span>å˜é‡: ç±»å‹;<br><span class="hljs-keyword">let</span>å˜é‡: ç±»å‹=å€¼;<br><span class="hljs-title function_">functionfn</span>(å‚æ•°: ç±»å‹,å‚æ•°: ç±»å‹): ç±»å‹&#123;<br>...<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>è‡ªåŠ¨ç±»å‹åˆ¤æ–­</p><ul><li><p>TSæ‹¥æœ‰è‡ªåŠ¨çš„ç±»å‹åˆ¤æ–­æœºåˆ¶</p></li><li><p>å½“å¯¹å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å˜é‡çš„ç±»å‹</p></li><li><p>æ‰€ä»¥å¦‚æœä½ çš„å˜é‡çš„å£°æ˜å’Œèµ‹å€¼æ—¶åŒæ—¶è¿›è¡Œçš„ï¼Œå¯ä»¥çœç•¥æ‰ç±»å‹å£°æ˜</p></li></ul></li><li><p>ç±»å‹ï¼š</p></li></ul><table><thead><tr><th>ç±»å‹</th><th>ä¾‹å­</th><th>æè¿°</th></tr></thead><tbody><tr><td>number</td><td>1, -33, 2.5</td><td>ä»»æ„æ•°å­—</td></tr><tr><td>string</td><td>â€˜hiâ€™, â€œhiâ€, hi</td><td>ä»»æ„å­—ç¬¦ä¸²</td></tr><tr><td>boolean</td><td>trueã€false</td><td>å¸ƒå°”å€¼trueæˆ–false</td></tr><tr><td>å­—é¢é‡</td><td>å…¶æœ¬èº«</td><td>é™åˆ¶å˜é‡çš„å€¼å°±æ˜¯è¯¥å­—é¢é‡çš„å€¼</td></tr><tr><td>any</td><td></td><td>ä»»æ„ç±»å‹</td></tr><tr><td>unknown</td><td></td><td>ç±»å‹å®‰å…¨çš„any</td></tr><tr><td>void</td><td>ç©ºå€¼ï¼ˆundefined</td><td>æ²¡æœ‰å€¼ï¼ˆæˆ–undefinedï¼‰</td></tr><tr><td>never</td><td>æ²¡æœ‰å€¼</td><td>ä¸èƒ½æ˜¯ä»»ä½•å€¼</td></tr><tr><td>object</td><td>{name:â€™å­™æ‚Ÿç©ºâ€™}</td><td>ä»»æ„çš„JSå¯¹è±¡</td></tr><tr><td>array</td><td>[1,2,3]</td><td>ä»»æ„JSæ•°ç»„</td></tr><tr><td>tuple</td><td>[4,5]</td><td>å…ƒç´ ï¼ŒTSæ–°å¢ç±»å‹ï¼Œå›ºå®šé•¿åº¦æ•°ç»„</td></tr><tr><td>enum</td><td>enum{A, B}</td><td>æšä¸¾ï¼ŒTSä¸­æ–°å¢ç±»å‹</td></tr></tbody></table><ul><li><p>number</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">decimal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;  <br><span class="hljs-keyword">let</span> <span class="hljs-attr">hex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xf00d</span>;  <br><span class="hljs-keyword">let</span> <span class="hljs-attr">big</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">100n</span>;<br></code></pre></td></tr></table></figure></li><li><p>boolean</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span>=<span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><ul><li><p>string</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;blue&quot;</span>;<br>color = <span class="hljs-string">&#x27;red&#x27;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">fullName</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Bob Bobbington`</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">sentence</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Hello, my name is <span class="hljs-subst">$&#123;fullName&#125;</span>;</span><br></code></pre></td></tr></table></figure></li><li><p>å­—é¢é‡</p><ul><li>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—é¢é‡å»æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œé€šè¿‡å­—é¢é‡å¯ä»¥ç¡®å®šå˜é‡çš„å–å€¼èŒƒå›´<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span>|<span class="hljs-string">&#x27;blue&#x27;</span>|<span class="hljs-string">&#x27;black&#x27;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>|<span class="hljs-number">2</span>|<span class="hljs-number">3</span>|<span class="hljs-number">4</span>|<span class="hljs-number">5</span>;<br></code></pre></td></tr></table></figure></li></ul></li><li><p>any<br>  ç±»å‹æ˜¯anyçš„å˜é‡å¯ä»¥èµ‹å€¼ç»™ä»»æ„å˜é‡</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">d</span>: <span class="hljs-built_in">any</span>=<span class="hljs-number">4</span>;d=<span class="hljs-string">&#x27;hello&#x27;</span>;d=<span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure></li><li><p>unknown</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">notSure</span>: <span class="hljs-built_in">unknown</span>=<span class="hljs-number">4</span>;<br>   notSure=<span class="hljs-string">&#x27;hello&#x27;</span>;<br></code></pre></td></tr></table></figure><ul><li>å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªç±»å‹å®‰å…¨çš„anyï¼Œunknownç±»å‹çš„å˜é‡ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼ç»™å…¶ä»–å˜é‡</li><li>å¯ä»¥é€šè¿‡<br>  ï¼ˆ1ï¼‰  <figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> e === <span class="hljs-string">&#x27;string&#x27;</span>)&#123;<br>s = e;<br>&#125;<br></code></pre></td></tr></table></figure>  ï¼ˆ2ï¼‰ç±»å‹æ–­è¨€ï¼ˆç”¨æ¥å‘Šè¯‰è§£æå™¨å˜é‡çš„å®é™…ç±»å‹ï¼‰</li></ul></li><li><p>void</p><p>  ç”¨æ¥è¡¨ç¤ºç©ºï¼Œä»¥å‡½æ•°ä¸ºä¾‹å°±è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨å¯return undefined</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">unusable</span>: <span class="hljs-built_in">void</span>=<span class="hljs-literal">undefined</span>;<br></code></pre></td></tr></table></figure><ul><li><p>never<br>  è¡¨ç¤ºæ°¸è¿œä¸ä¼šè¿”å›ç»“æœ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> &#123;<br>       <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);<br>   &#125;<br></code></pre></td></tr></table></figure></li><li><p>object</p><p>  objectè¡¨ç¤ºä¸€ä¸ªjså¯¹è±¡</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">obj</span>: <span class="hljs-built_in">object</span>=&#123;&#125;;<br></code></pre></td></tr></table></figure><pre><code class="hljs">&#123;&#125;ç”¨æ¥æŒ‡å®šå¯¹è±¡ä¸­å¯ä»¥åŒ…å«å“ªäº›å±æ€§è¯­æ³•ï¼š&#123;å±æ€§åï¼šå±æ€§å€¼ï¼Œå±æ€§åï¼šå±æ€§å€¼&#125; åœ¨å±æ€§ååé¢åŠ ä¸Šï¼Ÿè¡¨ç¤ºå±æ€§æ˜¯å¯é€‰çš„</code></pre><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> b &#123;<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, age?:<span class="hljs-built_in">number</span>&#125;;<br>b = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">18</span>&#125;;<br></code></pre></td></tr></table></figure><pre><code class="hljs">[propName:string]:any è¡¨ç¤ºä»»æ„ç±»å‹çš„å±æ€§</code></pre><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> c : &#123;<span class="hljs-attr">name</span>:<span class="hljs-built_in">string</span>,[<span class="hljs-attr">propName</span>:<span class="hljs-built_in">string</span>]:<span class="hljs-built_in">any</span>&#125;;<br>c = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;æå››&#x27;</span>,<span class="hljs-attr">age</span>: <span class="hljs-number">18</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">&#x27;å¥³&#x27;</span>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>å‡½æ•°ç»“æ„çš„ç±»å‹å£°æ˜</p><p>  è¯­æ³•ï¼šï¼ˆå½¢å‚ï¼šç±»å‹ï¼Œå½¢å‚ï¼šç±»å‹â€¦ï¼‰&#x3D;&gt;è¿”å›å€¼</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> d :<span class="hljs-function">(<span class="hljs-params">a:<span class="hljs-built_in">number</span> ,b:<span class="hljs-built_in">number</span></span>)=&gt;</span><span class="hljs-built_in">number</span>;<br></code></pre></td></tr></table></figure><ul><li><p>array</p><p>  æ•°ç»„çš„ç±»å‹å£°æ˜ï¼š</p><p>  ç±»å‹[]</p><p>  Array&lt;ç±»å‹&gt;</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-attr">list</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure><ul><li><p>tuple</p><p>  å…ƒç»„ï¼Œå…ƒç»„å°±æ˜¯å›ºå®šé•¿åº¦çš„æ•°ç»„</p><p>  è¯­æ³•ï¼š[ç±»å‹ï¼Œç±»å‹ï¼Œç±»å‹]</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];<br>x = [<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">10</span>]; <br></code></pre></td></tr></table></figure><ul><li>enum</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Color</span> &#123;<br>  <span class="hljs-title class_">Red</span>,<br>  <span class="hljs-title class_">Green</span>,<br>  <span class="hljs-title class_">Blue</span>,<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">c</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;<br><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Color</span> &#123;<br>  <span class="hljs-title class_">Red</span> = <span class="hljs-number">1</span>,<br>  <span class="hljs-title class_">Green</span>,<br>  <span class="hljs-title class_">Blue</span>,<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">c</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;<br><br><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Color</span> &#123;<br>  <span class="hljs-title class_">Red</span> = <span class="hljs-number">1</span>,<br>  <span class="hljs-title class_">Green</span> = <span class="hljs-number">2</span>,<br>  <span class="hljs-title class_">Blue</span> = <span class="hljs-number">4</span>,<br>&#125;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">c</span>: <span class="hljs-title class_">Color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">Green</span>;<br></code></pre></td></tr></table></figure><ul><li>å¯¹è±¡åŒæ—¶æœ‰xxå±æ€§ã€&amp;è¡¨ç¤ºåŒæ—¶ã€‘</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> j :&#123;<span class="hljs-attr">name</span>:<span class="hljs-built_in">string</span>&#125; &amp; &#123;<span class="hljs-attr">age</span>:nember&#125; <br></code></pre></td></tr></table></figure><ul><li>ç±»å‹çš„åˆ«å</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">type</span> myType = <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">k</span>: myType<br>k = <span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure><ul><li><p>ç±»å‹æ–­è¨€</p><p>  æœ‰äº›æƒ…å†µä¸‹ï¼Œå˜é‡çš„ç±»å‹å¯¹äºæˆ‘ä»¬æ¥è¯´æ˜¯å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯TSç¼–è¯‘å™¨å´å¹¶ä¸æ¸…æ¥šï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹ï¼Œæ–­è¨€æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li>ç¬¬ä¸€ç§</li></ul></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (someValue <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><pre><code class="hljs">* ç¬¬äºŒç§</code></pre><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (&lt;<span class="hljs-built_in">string</span>&gt;someValue).<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><h1 id="ç¼–è¯‘é€‰é¡¹"><a href="#ç¼–è¯‘é€‰é¡¹" class="headerlink" title="ç¼–è¯‘é€‰é¡¹"></a>ç¼–è¯‘é€‰é¡¹</h1><h2 id="è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶"><a href="#è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶"></a>è‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶</h2><p>  ç¼–è¯‘æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ -w æŒ‡ä»¤åï¼ŒTSç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç›‘è§†æ–‡ä»¶çš„å˜åŒ–ï¼Œå¹¶åœ¨æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶å¯¹æ–‡ä»¶è¿›è¡Œé‡æ–°ç¼–è¯‘ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript">tsc xxx.<span class="hljs-property">ts</span> -w<br></code></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®"><a href="#è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®"></a>è‡ªåŠ¨ç¼–è¯‘æ•´ä¸ªé¡¹ç›®</h2><p>  å¦‚æœç›´æ¥ä½¿ç”¨tscæŒ‡ä»¤ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨å°†å½“å‰é¡¹ç›®ä¸‹çš„æ‰€æœ‰tsæ–‡ä»¶ç¼–è¯‘ä¸ºjsæ–‡ä»¶ã€‚ä½†æ˜¯èƒ½ç›´æ¥ä½¿ç”¨tscå‘½ä»¤çš„å‰ææ—¶ï¼Œè¦å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtsçš„é…ç½®æ–‡ä»¶ <strong>tsconfig.json</strong></p><p>  tsconfig.jsonæ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæ·»åŠ é…ç½®æ–‡ä»¶åï¼Œåªéœ€ tsc å‘½ä»¤å³å¯å®Œæˆå¯¹æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘</p><h2 id="é…ç½®é€‰é¡¹ï¼š"><a href="#é…ç½®é€‰é¡¹ï¼š" class="headerlink" title="é…ç½®é€‰é¡¹ï¼š"></a>é…ç½®é€‰é¡¹ï¼š</h2><p><strong>include</strong><br>  å®šä¹‰å¸Œæœ›è¢«ç¼–è¯‘æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•<br>  é»˜è®¤å€¼ï¼š[â€œ**&#x2F;*â€]</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;include&quot;</span>:[<span class="hljs-string">&quot;src/**/*&quot;</span>, <span class="hljs-string">&quot;tests/**/*&quot;</span>]<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰srcç›®å½•å’Œtestsç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘</p><h2 id="exclude"><a href="#exclude" class="headerlink" title="exclude"></a>exclude</h2><p>  å®šä¹‰éœ€è¦æ’é™¤åœ¨å¤–çš„ç›®å½•<br>  é»˜è®¤å€¼ï¼š[â€œnode_modulesâ€, â€œbower_componentsâ€, â€œjspm_packagesâ€]</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;exclude&quot;</span>: [<span class="hljs-string">&quot;./src/hello/**/*&quot;</span>]<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œsrcä¸‹helloç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¸ä¼šè¢«ç¼–è¯‘</p><h2 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h2><p>  å®šä¹‰è¢«ç»§æ‰¿çš„é…ç½®æ–‡ä»¶</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;extends&quot;</span>: <span class="hljs-string">&quot;./configs/base&quot;</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå½“å‰é…ç½®æ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨åŒ…å«configç›®å½•ä¸‹base.jsonä¸­çš„æ‰€æœ‰é…ç½®ä¿¡æ¯</p><h2 id="files"><a href="#files" class="headerlink" title="files"></a>files</h2><p>  æŒ‡å®šè¢«ç¼–è¯‘æ–‡ä»¶çš„åˆ—è¡¨ï¼Œåªæœ‰éœ€è¦ç¼–è¯‘çš„æ–‡ä»¶å°‘æ—¶æ‰ä¼šç”¨åˆ°</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;files&quot;</span>: [<br>    <span class="hljs-string">&quot;core.ts&quot;</span>,<br>    <span class="hljs-string">&quot;sys.ts&quot;</span>,<br>    <span class="hljs-string">&quot;types.ts&quot;</span>,<br>    <span class="hljs-string">&quot;scanner.ts&quot;</span>,<br>    <span class="hljs-string">&quot;parser.ts&quot;</span>,<br>    <span class="hljs-string">&quot;utilities.ts&quot;</span>,<br>    <span class="hljs-string">&quot;binder.ts&quot;</span>,<br>    <span class="hljs-string">&quot;checker.ts&quot;</span>,<br>    <span class="hljs-string">&quot;tsc.ts&quot;</span><br>  ]<br></code></pre></td></tr></table></figure><p>åˆ—è¡¨ä¸­çš„æ–‡ä»¶éƒ½ä¼šè¢«TSç¼–è¯‘å™¨æ‰€ç¼–è¯‘</p><h2 id="compilerOptions"><a href="#compilerOptions" class="headerlink" title="compilerOptions"></a>compilerOptions</h2><p>  ç¼–è¯‘é€‰é¡¹æ˜¯é…ç½®æ–‡ä»¶ä¸­éå¸¸é‡è¦ä¹Ÿæ¯”è¾ƒå¤æ‚çš„é…ç½®é€‰é¡¹<br>  åœ¨compilerOptionsä¸­åŒ…å«å¤šä¸ªå­é€‰é¡¹ï¼Œç”¨æ¥å®Œæˆå¯¹ç¼–è¯‘çš„é…ç½®</p><ul><li><p>é¡¹ç›®é€‰é¡¹ï¼š</p><p>target:è®¾ç½®tsä»£ç ç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬</p><p>å¯é€‰å€¼ï¼š</p></li></ul><p>ES3ï¼ˆé»˜è®¤ï¼‰ã€ES5ã€ES6&#x2F;ES2015ã€ES7&#x2F;ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNext</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;target&quot;</span>: <span class="hljs-string">&quot;ES6&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚ä¸Šè®¾ç½®ï¼Œæˆ‘ä»¬æ‰€ç¼–å†™çš„tsä»£ç å°†ä¼šè¢«ç¼–è¯‘ä¸ºES6ç‰ˆæœ¬çš„jsä»£ç </p><ul><li><p>lib</p><p>æŒ‡å®šä»£ç è¿è¡Œæ—¶æ‰€åŒ…å«çš„åº“ï¼ˆå®¿ä¸»ç¯å¢ƒï¼‰</p><p>å¯é€‰å€¼ï¼š</p></li></ul><p>ES5ã€ES6&#x2F;ES2015ã€ES7&#x2F;ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020ã€ESNextã€DOMã€WebWorkerã€ScriptHost â€¦â€¦</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;target&quot;</span>: <span class="hljs-string">&quot;ES6&quot;</span>,<br>    <span class="hljs-string">&quot;lib&quot;</span>: [<span class="hljs-string">&quot;ES6&quot;</span>, <span class="hljs-string">&quot;DOM&quot;</span>],<br>    <span class="hljs-string">&quot;outDir&quot;</span>: <span class="hljs-string">&quot;dist&quot;</span>,<br>    <span class="hljs-string">&quot;outFile&quot;</span>: <span class="hljs-string">&quot;dist/aa.js&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>module</p><p>è®¾ç½®ç¼–è¯‘åä»£ç ä½¿ç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿ</p><p>å¯é€‰å€¼ï¼š</p></li></ul><p>CommonJSã€UMDã€AMDã€Systemã€ES2020ã€ESNextã€None<br>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;module&quot;</span>: <span class="hljs-string">&quot;CommonJS&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>outDir</p><p>ç¼–è¯‘åæ–‡ä»¶çš„æ‰€åœ¨ç›®å½•</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘åçš„jsæ–‡ä»¶ä¼šå’Œtsæ–‡ä»¶ä½äºç›¸åŒçš„ç›®å½•ï¼Œè®¾ç½®outDiråå¯ä»¥æ”¹å˜ç¼–è¯‘åæ–‡ä»¶çš„ä½ç½®</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;outDir&quot;</span>: <span class="hljs-string">&quot;dist&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è®¾ç½®åç¼–è¯‘åçš„jsæ–‡ä»¶å°†ä¼šç”Ÿæˆåˆ°distç›®å½•</p><ul><li><p>outFile</p><p>å°†æ‰€æœ‰çš„æ–‡ä»¶ç¼–è¯‘ä¸ºä¸€ä¸ªjsæ–‡ä»¶</p><p>é»˜è®¤ä¼šå°†æ‰€æœ‰çš„ç¼–å†™åœ¨å…¨å±€ä½œç”¨åŸŸä¸­çš„ä»£ç åˆå¹¶ä¸ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¦‚æœmoduleåˆ¶å®šäº†Noneã€Systemæˆ–AMDåˆ™ä¼šå°†æ¨¡å—ä¸€èµ·åˆå¹¶åˆ°æ–‡ä»¶ä¹‹ä¸­</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;outFile&quot;</span>: <span class="hljs-string">&quot;dist/app.js&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>rootDir</p><p>æŒ‡å®šä»£ç çš„æ ¹ç›®å½•ï¼Œé»˜è®¤æƒ…å†µä¸‹ç¼–è¯‘åæ–‡ä»¶çš„ç›®å½•ç»“æ„ä¼šä»¥æœ€é•¿çš„å…¬å…±ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œé€šè¿‡rootDirå¯ä»¥æ‰‹åŠ¨æŒ‡å®šæ ¹ç›®å½•</p><p>ç¤ºä¾‹ï¼š</p></li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;rootDir&quot;</span>: <span class="hljs-string">&quot;./src&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>allowJs</p><p>æ˜¯å¦å¯¹jsæ–‡ä»¶ç¼–è¯‘</p></li><li><p>checkJs</p><p>æ˜¯å¦å¯¹jsæ–‡ä»¶è¿›è¡Œæ£€æŸ¥</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;allowJs&quot;</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-string">&quot;checkJs&quot;</span>: <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>removeComments</p><p>æ˜¯å¦åˆ é™¤æ³¨é‡Š<br>é»˜è®¤å€¼ï¼šfalse</p></li><li><p>noEmit</p><p>ä¸å¯¹ä»£ç è¿›è¡Œç¼–è¯‘<br>é»˜è®¤å€¼ï¼šfalse</p></li><li><p>sourceMap</p></li></ul><p> æ˜¯å¦ç”ŸæˆsourceMap<br> é»˜è®¤å€¼ï¼šfalse</p><ul><li><p>ä¸¥æ ¼æ£€æŸ¥</p><ul><li>strict</li></ul></li></ul><p>å¯ç”¨æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥ï¼Œé»˜è®¤å€¼ä¸ºtrueï¼Œè®¾ç½®åç›¸å½“äºå¼€å¯äº†æ‰€æœ‰çš„ä¸¥æ ¼æ£€æŸ¥</p><pre><code class="hljs">* alwaysStrict</code></pre><p>æ€»æ˜¯ä»¥ä¸¥æ ¼æ¨¡å¼å¯¹ä»£ç è¿›è¡Œç¼–è¯‘</p><pre><code class="hljs">* noImplicitAny</code></pre><p>ç¦æ­¢éšå¼çš„anyç±»å‹</p><pre><code class="hljs">* noImplicitThis</code></pre><p>ç¦æ­¢ç±»å‹ä¸æ˜ç¡®çš„this</p><pre><code class="hljs">* strictBindCallApply</code></pre><p>ä¸¥æ ¼æ£€æŸ¥bindã€callå’Œapplyçš„å‚æ•°åˆ—è¡¨</p><pre><code class="hljs">* strictFunctionTypes</code></pre><p>ä¸¥æ ¼æ£€æŸ¥å‡½æ•°çš„ç±»å‹</p><pre><code class="hljs">* strictNullChecks</code></pre><p>ä¸¥æ ¼çš„ç©ºå€¼æ£€æŸ¥</p><pre><code class="hljs">* strictPropertyInitialization</code></pre><p>ä¸¥æ ¼æ£€æŸ¥å±æ€§æ˜¯å¦åˆå§‹åŒ–</p><ul><li><p>é¢å¤–æ£€æŸ¥</p><ul><li>noFallthroughCasesInSwitch</li></ul></li></ul><p>æ£€æŸ¥switchè¯­å¥åŒ…å«æ­£ç¡®çš„break</p><pre><code class="hljs">* noImplicitReturns</code></pre><p>æ£€æŸ¥å‡½æ•°æ²¡æœ‰éšå¼çš„è¿”å›å€¼</p><pre><code class="hljs">* noUnusedLocals</code></pre><p>æ£€æŸ¥æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡</p><pre><code class="hljs">* noUnusedParameters</code></pre><p>æ£€æŸ¥æœªä½¿ç”¨çš„å‚æ•°</p><ul><li><p>é«˜çº§</p><ul><li><p>allowUnreachableCode<br>æ£€æŸ¥ä¸å¯è¾¾ä»£ç <br>å¯é€‰å€¼ï¼š<br>trueï¼Œå¿½ç•¥ä¸å¯è¾¾ä»£ç <br>falseï¼Œä¸å¯è¾¾ä»£ç å°†å¼•èµ·é”™è¯¯</p></li><li><p>noEmitOnError<br> æœ‰é”™è¯¯çš„æƒ…å†µä¸‹ä¸è¿›è¡Œç¼–è¯‘<br>é»˜è®¤å€¼ï¼šfalse</p></li></ul></li></ul><h1 id="webpackæ•´åˆ"><a href="#webpackæ•´åˆ" class="headerlink" title="webpackæ•´åˆ"></a>webpackæ•´åˆ</h1><p>  é€šå¸¸æƒ…å†µä¸‹ï¼Œå®é™…å¼€å‘ä¸­æˆ‘ä»¬éƒ½éœ€è¦<strong>ä½¿ç”¨æ„å»ºå·¥å…·å¯¹ä»£ç è¿›è¡Œæ‰“åŒ…</strong>ï¼›<br>  TSåŒæ ·ä¹Ÿå¯ä»¥ç»“åˆæ„å»ºå·¥å…·ä¸€èµ·ä½¿ç”¨ï¼Œä¸‹è¾¹ä»¥webpackä¸ºä¾‹ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç»“åˆæ„å»ºå·¥å…·ä½¿ç”¨TSï¼›<br>  æ­¥éª¤å¦‚ä¸‹</p><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>  è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤<strong>npm init -y</strong>ï¼Œç”Ÿæˆ<strong>package.json</strong>é…ç½®æ–‡ä»¶</p><h2 id="ä¸‹è½½æ„å»ºå·¥å…·"><a href="#ä¸‹è½½æ„å»ºå·¥å…·" class="headerlink" title="ä¸‹è½½æ„å»ºå·¥å…·"></a>ä¸‹è½½æ„å»ºå·¥å…·</h2><ul><li>å‘½ä»¤å¦‚ä¸‹ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs typeScript">npm i -D ã€ä¸‹è½½å¼€å‘ä¾èµ–ã€‘webpack webpack-cli webpack-dev-server typescript ts-loader clean-webpack-plugin<br></code></pre></td></tr></table></figure><p>å…±å®‰è£…äº†7ä¸ªåŒ…:</p><ul><li><p>webpackï¼šæ„å»ºå·¥å…·webpack</p></li><li><p>webpack-cliï¼šwebpackçš„å‘½ä»¤è¡Œå·¥å…·</p></li><li><p>webpack-dev-serverï¼šwebpackçš„å¼€å‘æœåŠ¡å™¨</p></li><li><p>typescriptï¼štsç¼–è¯‘å™¨</p></li><li><p>ts-loaderï¼štsåŠ è½½å™¨ï¼Œç”¨äºåœ¨webpackä¸­ç¼–è¯‘tsæ–‡ä»¶</p></li><li><p>html-webpack-pluginï¼šwebpackä¸­htmlæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶</p></li><li><p>clean-webpack-pluginï¼šwebpackä¸­çš„æ¸…é™¤æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½ä¼šå…ˆæ¸…é™¤ç›®å½•</p></li></ul><h2 id="é…ç½®webpack"><a href="#é…ç½®webpack" class="headerlink" title="é…ç½®webpack"></a>é…ç½®webpack</h2><p>æ ¹ç›®å½•ä¸‹åˆ›å»ºwebpackçš„é…ç½®æ–‡ä»¶<strong>webpack.config.js</strong>ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;html-webpack-plugin&quot;</span>);<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">CleanWebpackPlugin</span> &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;clean-webpack-plugin&quot;</span>);<br><br><span class="hljs-comment">//webpackä¸­çš„æ‰€æœ‰çš„é…ç½®ä¿¡æ¯éƒ½åº”è¯¥å†™åœ¨module.exportsä¸­</span><br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>   <span class="hljs-attr">optimization</span>:&#123;<br>       <span class="hljs-attr">minimize</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…³é—­ä»£ç å‹ç¼©ï¼Œå¯é€‰</span><br>   &#125;,<br><br>   <span class="hljs-attr">entry</span>: <span class="hljs-string">&quot;./src/index.ts&quot;</span>,<span class="hljs-comment">//æŒ‡å®šå…¥å£æ–‡ä»¶</span><br><br>   <span class="hljs-attr">devtool</span>: <span class="hljs-string">&quot;inline-source-map&quot;</span>,<br><br>   <span class="hljs-attr">devServer</span>: &#123;<br>       <span class="hljs-attr">contentBase</span>: <span class="hljs-string">&#x27;./dist&#x27;</span><br>   &#125;,<br>   <br><span class="hljs-comment">//æŒ‡å®šæ‰“åŒ…æ–‡ä»¶æ‰€åœ¨ç›®å½•</span><br>   <span class="hljs-attr">output</span>: &#123;<br>   <span class="hljs-comment">//æŒ‡å®šæ‰“åŒ…æ–‡ä»¶çš„ç›®å½•</span><br>       <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;dist&quot;</span>),<br>     <span class="hljs-comment">//æ‰“åŒ…åæ–‡ä»¶å</span><br>       <span class="hljs-attr">filename</span>: <span class="hljs-string">&quot;bundle.js&quot;</span>,<br>       <span class="hljs-attr">environment</span>: &#123;<br>           <span class="hljs-attr">arrowFunction</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…³é—­webpackçš„ç®­å¤´å‡½æ•°ï¼Œå¯é€‰</span><br>       &#125;<br>   &#125;,<br><br>   <span class="hljs-attr">resolve</span>: &#123;<br>       <span class="hljs-attr">extensions</span>: [<span class="hljs-string">&quot;.ts&quot;</span>, <span class="hljs-string">&quot;.js&quot;</span>]<br>   &#125;,<br><br><span class="hljs-comment">//æŒ‡å®šwebpackæ‰“åŒ…æ—¶è¦ä½¿ç”¨çš„æ¨¡å—</span><br>   <span class="hljs-attr">module</span>: &#123;<br>   <span class="hljs-comment">//æŒ‡å®šè¦åŠ è½½çš„è§„åˆ™</span><br>       <span class="hljs-attr">rules</span>: [<br>           &#123;<br>           <span class="hljs-comment">//æŒ‡å®šè§„åˆ™ç”Ÿæ•ˆçš„æ–‡ä»¶ã€æ­£åˆ™è¡¨è¾¾å¼ã€‘</span><br>               <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.ts$/</span>,<br>            <span class="hljs-comment">//è¦ä½¿ç”¨çš„loader</span><br>               <span class="hljs-attr">use</span>: &#123;<br>                   <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;ts-loader&quot;</span>     <br>               &#125;,<br>              <span class="hljs-comment">//è¦æ’é™¤çš„æ–‡ä»¶</span><br>               <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span><br>           &#125;<br>       ]<br>   &#125;,<br><br>   <span class="hljs-attr">plugins</span>: [<br>       <span class="hljs-keyword">new</span> <span class="hljs-title class_">CleanWebpackPlugin</span>(),<br>       <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>           <span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;TSæµ‹è¯•&#x27;</span><br>       &#125;),<br>   ]<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>html-webpack-pluginï¼šwebpackä¸­htmlæ’ä»¶ï¼Œç”¨æ¥è‡ªåŠ¨åˆ›å»ºhtmlæ–‡ä»¶</p><ul><li>å®‰è£… ã€Œnpmã€html-webpack-plugin</li><li>åœ¨webpack.config.jsonä¸­å¼•å…¥  const xxx &#x3D; require(â€˜html-webpack-pluginâ€™)</li><li>module.exportsä¸­é…ç½®webpackæ’ä»¶</li></ul></li><li><p>webpack-dev-serverï¼šwebpackçš„å¼€å‘æœåŠ¡å™¨</p><ul><li>å®æ—¶æ›´æ–°<img width="760" alt="image" src="https://user-images.githubusercontent.com/117837871/215415260-97b1e423-c284-4342-8f32-4ac77df5e175.png"></li></ul></li></ul><img width="269" alt="image" src="https://user-images.githubusercontent.com/117837871/215415287-f5474538-4127-4797-976f-01a883c8b75a.png"><ul><li>clean-webpack-pluginï¼šwebpackä¸­çš„æ¸…é™¤æ’ä»¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½ä¼šå…ˆæ¸…é™¤ç›®å½•<ul><li>å®‰è£… ã€Œnpmã€clean-webpack-plugin</li><li>åœ¨webpack.config.jsonä¸­å¼•å…¥  const xxx &#x3D; require(â€˜clean-webpack-pluginâ€™)</li><li>module.exportsä¸­é…ç½®webpackæ’ä»¶ <img width="285" alt="image" src="https://user-images.githubusercontent.com/117837871/215415950-603800b1-b0dd-4d08-a366-40d70df8ba5d.png"></li></ul></li></ul><h2 id="é…ç½®TSç¼–è¯‘é€‰é¡¹"><a href="#é…ç½®TSç¼–è¯‘é€‰é¡¹" class="headerlink" title="é…ç½®TSç¼–è¯‘é€‰é¡¹"></a>é…ç½®TSç¼–è¯‘é€‰é¡¹</h2><p>  æ ¹ç›®å½•ä¸‹åˆ›å»º<strong>tsconfig.json</strong>ï¼Œé…ç½®å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typeScript">&#123;<br>   <span class="hljs-string">&quot;compilerOptions&quot;</span>: &#123;<br>       <span class="hljs-string">&quot;target&quot;</span>: <span class="hljs-string">&quot;ES2015&quot;</span>,<br>       <span class="hljs-string">&quot;module&quot;</span>: <span class="hljs-string">&quot;ES2015&quot;</span>,<br>       <span class="hljs-string">&quot;strict&quot;</span>: <span class="hljs-literal">true</span><br>       &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¿®æ”¹package-jsoné…ç½®"><a href="#ä¿®æ”¹package-jsoné…ç½®" class="headerlink" title="ä¿®æ”¹package.jsoné…ç½®"></a>ä¿®æ”¹package.jsoné…ç½®</h2><p>  ä¿®æ”¹package.jsonæ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typeScript">&#123;<br>   ...<span class="hljs-string">&quot;scripts&quot;</span>: &#123;<br>       <span class="hljs-string">&quot;test&quot;</span>: <span class="hljs-string">&quot;echo \&quot;Error: no test specified\&quot;&amp;&amp; exit 1&quot;</span>,<br>**<br>       <span class="hljs-string">&quot;build&quot;</span>: <span class="hljs-string">&quot;webpack&quot;</span>,<br>       <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;webpack serve --open chrome.exe&quot;</span>&#125;,<br>...&#125;<br></code></pre></td></tr></table></figure><h2 id="é¡¹ç›®ä½¿ç”¨"><a href="#é¡¹ç›®ä½¿ç”¨" class="headerlink" title="é¡¹ç›®ä½¿ç”¨"></a>é¡¹ç›®ä½¿ç”¨</h2><p>  åœ¨srcä¸‹åˆ›å»ºtsæ–‡ä»¶ï¼Œå¹¶åœ¨å¹¶å‘½ä»¤è¡Œæ‰§è¡Œ<strong>npm run build</strong>å¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼›</p><p>  æˆ–è€…æ‰§è¡Œ<strong>npm start</strong>æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼›</p><h2 id="Babel"><a href="#Babel" class="headerlink" title="Babel"></a>Babel</h2><p>  é™¤äº†webpackï¼Œå¼€å‘ä¸­è¿˜ç»å¸¸éœ€è¦ç»“åˆbabelæ¥å¯¹ä»£ç è¿›è¡Œè½¬æ¢ï¼›</p><p>  ä»¥ä½¿å…¶å¯ä»¥å…¼å®¹åˆ°æ›´å¤šçš„æµè§ˆå™¨ï¼Œåœ¨ä¸Šè¿°æ­¥éª¤çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å†å°†babelå¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼›</p><p><em>è™½ç„¶TSåœ¨ç¼–è¯‘æ—¶ä¹Ÿæ”¯æŒä»£ç è½¬æ¢ï¼Œä½†æ˜¯åªæ”¯æŒç®€å•çš„ä»£ç è½¬æ¢ï¼›</em></p><p><em>å¯¹äºä¾‹å¦‚ï¼šPromiseç­‰ES6ç‰¹æ€§ï¼ŒTSæ— æ³•ç›´æ¥è½¬æ¢ï¼Œè¿™æ—¶è¿˜è¦ç”¨åˆ°babelæ¥åšè½¬æ¢ï¼›</em></p><ul><li>å®‰è£…ä¾èµ–åŒ…ï¼š</li></ul><p>npm i -D @babel&#x2F;core @babel&#x2F;preset-env babel-loader core-js</p><ul><li><p>å…±å®‰è£…äº†4ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li><p>@babel&#x2F;coreï¼šbabelçš„æ ¸å¿ƒå·¥å…·</p></li><li><p>@babel&#x2F;preset-envï¼šbabelçš„é¢„å®šä¹‰ç¯å¢ƒ</p></li><li><p>@babel-loaderï¼šbabelåœ¨webpackä¸­çš„åŠ è½½å™¨</p></li><li><p>core-jsï¼šcore-jsç”¨æ¥ä½¿è€ç‰ˆæœ¬çš„æµè§ˆå™¨æ”¯æŒæ–°ç‰ˆESè¯­æ³•</p></li></ul></li><li><p>ä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs typeScript">...<br><span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>        &#123;<br>            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.ts$/</span>,<br>            <span class="hljs-attr">use</span>: [<br>                &#123;<br>                    <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;babel-loader&quot;</span>,<br>                    <span class="hljs-attr">options</span>:&#123;<br>                        <span class="hljs-attr">presets</span>: [<br>                            [<br>                            <span class="hljs-comment">//æŒ‡å®šç¯å¢ƒçš„æ’ä»¶</span><br>                                <span class="hljs-string">&quot;@babel/preset-env&quot;</span>,<br>                              <span class="hljs-comment">//é…ç½®ä¿¡æ¯</span><br>                                &#123;<br>                                <span class="hljs-comment">//è¦å…¼å®¹çš„ç›®æ ‡æµè§ˆå™¨</span><br>                                    <span class="hljs-string">&quot;targets&quot;</span>:&#123;<br>                                        <span class="hljs-string">&quot;chrome&quot;</span>: <span class="hljs-string">&quot;58&quot;</span>,<br>                                        <span class="hljs-string">&quot;ie&quot;</span>: <span class="hljs-string">&quot;11&quot;</span><br>                                    &#125;,<br>                                  <span class="hljs-comment">//æŒ‡å®šcorejsçš„ç‰ˆæœ¬</span><br>                                    <span class="hljs-string">&quot;corejs&quot;</span>:<span class="hljs-string">&quot;3&quot;</span>,<br>                                  <span class="hljs-comment">//ä½¿ç”¨corejsçš„æ–¹å¼ï¼Œusageè¡¨ç¤ºæŒ‰éœ€åŠ è½½</span><br>                                    <span class="hljs-string">&quot;useBuiltIns&quot;</span>: <span class="hljs-string">&quot;usage&quot;</span><br>                                &#125;<br>                            ]<br>                        ]<br>                    &#125;<br>                &#125;,<br>                &#123;<br>                    <span class="hljs-attr">loader</span>: <span class="hljs-string">&quot;ts-loader&quot;</span>,<br><br>                &#125;<br>            ],<br>            <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span><br>        &#125;<br>    ]<br>&#125;<br>...<br></code></pre></td></tr></table></figure><p>å¦‚æ­¤ä¸€æ¥ï¼Œä½¿ç”¨tsç¼–è¯‘åçš„æ–‡ä»¶å°†ä¼šå†æ¬¡è¢«babelå¤„ç†ï¼›</p></li></ul><p>ä½¿å¾—ä»£ç å¯ä»¥åœ¨å¤§éƒ¨åˆ†æµè§ˆå™¨ä¸­ç›´æ¥ä½¿ç”¨ï¼›</p><p>åŒæ—¶å¯ä»¥åœ¨é…ç½®é€‰é¡¹çš„targetsä¸­æŒ‡å®šè¦å…¼å®¹çš„æµè§ˆå™¨ç‰ˆæœ¬ï¼›</p><h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><pre><code class="hljs">è¦æƒ³é¢å‘å¯¹è±¡ï¼Œæ“ä½œå¯¹è±¡ï¼Œé¦–å…ˆä¾¿è¦æ‹¥æœ‰å¯¹è±¡ï¼›è¦åˆ›å»ºå¯¹è±¡ï¼Œå¿…é¡»è¦å…ˆå®šä¹‰ç±»ï¼Œæ‰€è°“çš„ç±»å¯ä»¥ç†è§£ä¸ºå¯¹è±¡çš„æ¨¡å‹ï¼›</code></pre><p>ç¨‹åºä¸­å¯ä»¥æ ¹æ®ç±»åˆ›å»ºæŒ‡å®šç±»å‹çš„å¯¹è±¡ï¼›</p><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><p>å¯ä»¥é€šè¿‡Personç±»æ¥åˆ›å»ºäººçš„å¯¹è±¡ï¼Œé€šè¿‡Dogç±»åˆ›å»ºç‹—çš„å¯¹è±¡ï¼Œä¸åŒçš„ç±»å¯ä»¥ç”¨æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡ï¼›</p><ul><li>å®šä¹‰ç±»</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> ç±»å &#123;<br>    å±æ€§å: ç±»å‹;<br>    <br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">å‚æ•°: ç±»å‹</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.å±æ€§å = å‚æ•°;<br>    &#125;<br>    <br>    æ–¹æ³•å()&#123;<br>        ....<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ç±»ï¼š</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="hljs-number">18</span>);<br>p.<span class="hljs-title function_">sayHello</span>();<br></code></pre></td></tr></table></figure><ul><li>æ„é€ å‡½æ•°<br>å¯ä»¥ä½¿ç”¨constructorå®šä¹‰ä¸€ä¸ªæ„é€ å™¨æ–¹æ³•ï¼›</li></ul><p>æ³¨1ï¼š<strong>åœ¨TSä¸­åªèƒ½æœ‰ä¸€ä¸ªæ„é€ å™¨æ–¹æ³•ï¼</strong></p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span><br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åŒæ—¶ä¹Ÿå¯ä»¥ç›´æ¥å°†å±æ€§å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">public</span> age: <span class="hljs-built_in">number</span></span>) &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¸Šé¢ä¸¤ç§å®šä¹‰æ–¹æ³•æ˜¯å®Œå…¨ç›¸åŒçš„ï¼</strong></p><p>æ³¨2ï¼š<strong>å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œå¿…é¡»è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ˆå¦‚æœå­ç±»ä¸­ä¹Ÿå®šä¹‰äº†æ„é€ æ–¹æ³•ï¼‰ï¼</strong></p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span>;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = num;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">X</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">A</span> &#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">num: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) &#123;<br>        <span class="hljs-variable language_">super</span>(num);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¦‚æœåœ¨Xç±»ä¸­ä¸è°ƒç”¨superå°†ä¼šæŠ¥é”™ï¼</strong></p><h2 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h2><pre><code class="hljs">å¯¹è±¡å®è´¨ä¸Šå°±æ˜¯å±æ€§å’Œæ–¹æ³•çš„å®¹å™¨ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯å­˜å‚¨å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å°è£…é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„å±æ€§æ˜¯å¯ä»¥ä»»æ„çš„ä¿®æ”¹çš„ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§ï¼Œåœ¨TSä¸­å¯ä»¥å¯¹å±æ€§çš„æƒé™è¿›è¡Œè®¾ç½®</code></pre><ul><li><p>é™æ€å±æ€§ï¼ˆstaticï¼‰ï¼š</p><p>  å£°æ˜ä¸ºstaticçš„å±æ€§æˆ–æ–¹æ³•ä¸å†å±äºå®ä¾‹ï¼Œè€Œæ˜¯å±äº<strong>ç±»çš„å±æ€§</strong>ï¼›</p></li><li><p>åªè¯»å±æ€§ï¼ˆreadonlyï¼‰ï¼š</p><p>  å¦‚æœåœ¨å£°æ˜å±æ€§æ—¶æ·»åŠ ä¸€ä¸ªreadonlyï¼Œåˆ™å±æ€§ä¾¿æˆäº†åªè¯»å±æ€§æ— æ³•ä¿®æ”¹</p></li><li><p>TSä¸­å±æ€§å…·æœ‰ä¸‰ç§ä¿®é¥°ç¬¦ï¼š</p><p>  publicï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»å’Œå¯¹è±¡ä¸­ä¿®æ”¹<br>  protected ï¼Œå¯ä»¥åœ¨ç±»ã€å­ç±»ä¸­ä¿®æ”¹<br>  private ï¼Œå¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">public</span>ï¼š<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å†™æˆ–ä»€ä¹ˆéƒ½ä¸å†™éƒ½æ˜¯public</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// å¯ä»¥åœ¨ç±»ä¸­ä¿®æ”¹</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span>&#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">super</span>(name, age);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="hljs-number">18</span>);<br>p.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="hljs-comment">// å¯ä»¥é€šè¿‡å¯¹è±¡ä¿®æ”¹</span><br><span class="hljs-keyword">protected</span>ï¼š<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// å¯ä»¥ä¿®æ”¹</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span>&#123;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">super</span>(name, age);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">//å­ç±»ä¸­å¯ä»¥ä¿®æ”¹</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="hljs-number">18</span>);<br>p.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="hljs-comment">// ä¸èƒ½ä¿®æ”¹</span><br><span class="hljs-keyword">private</span>ï¼š<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// å¯ä»¥ä¿®æ”¹</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Person</span>&#123;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">super</span>(name, age);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">//å­ç±»ä¸­ä¸èƒ½ä¿®æ”¹</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="hljs-number">18</span>);<br>p.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;çŒªå…«æˆ’&#x27;</span>;<span class="hljs-comment">// ä¸èƒ½ä¿®æ”¹</span><br></code></pre></td></tr></table></figure><h2 id="å±æ€§å­˜å–å™¨"><a href="#å±æ€§å­˜å–å™¨" class="headerlink" title="å±æ€§å­˜å–å™¨"></a>å±æ€§å­˜å–å™¨</h2><pre><code class="hljs">å¯¹äºä¸€äº›ä¸å¸Œæœ›è¢«ä»»æ„ä¿®æ”¹çš„å±æ€§ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºprivateç›´æ¥å°†å…¶è®¾ç½®ä¸ºprivateå°†å¯¼è‡´æ— æ³•å†é€šè¿‡å¯¹è±¡ä¿®æ”¹å…¶ä¸­çš„å±æ€§</code></pre><p>æˆ‘ä»¬å¯ä»¥åœ¨ç±»ä¸­å®šä¹‰ä¸€ç»„è¯»å–ã€è®¾ç½®å±æ€§çš„æ–¹æ³•ï¼Œè¿™ç§å¯¹å±æ€§è¯»å–æˆ–è®¾ç½®çš„å±æ€§è¢«ç§°ä¸ºå±æ€§çš„å­˜å–å™¨</p><p>è¯»å–å±æ€§çš„æ–¹æ³•å«åšsetteræ–¹æ³•ï¼Œè®¾ç½®å±æ€§çš„æ–¹æ³•å«åšgetteræ–¹æ³•</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-attr">_name</span>: <span class="hljs-built_in">string</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span> = name;<br>    &#125;<br><br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">name</span>()&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">set</span> <span class="hljs-title function_">name</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span> = name;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>);<br><span class="hljs-comment">// å®é™…é€šè¿‡è°ƒç”¨getteræ–¹æ³•è¯»å–nameå±æ€§</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p1.<span class="hljs-property">name</span>);<br><span class="hljs-comment">// å®é™…é€šè¿‡è°ƒç”¨setteræ–¹æ³•ä¿®æ”¹nameå±æ€§ </span><br><br>p1.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;çŒªå…«æˆ’&#x27;</span>; <br></code></pre></td></tr></table></figure><h2 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h2><pre><code class="hljs">é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¹Ÿç§°ä¸ºç±»å±æ€§ã€‚ä½¿ç”¨é™æ€å±æ€§æ— éœ€åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡ç±»å³å¯ç›´æ¥ä½¿ç”¨é™æ€å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä½¿ç”¨staticå¼€å¤´</code></pre><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tools</span>&#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-variable constant_">PI</span> = <span class="hljs-number">3.1415926</span>;<br>    <br>    <span class="hljs-keyword">static</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num1: <span class="hljs-built_in">number</span>, num2: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-keyword">return</span> num1 + num2<br>    &#125;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Tools</span>.<span class="hljs-property">PI</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Tools</span>.<span class="hljs-title function_">sum</span>(<span class="hljs-number">123</span>, <span class="hljs-number">456</span>));<br></code></pre></td></tr></table></figure><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>åœ¨ç±»ä¸­ï¼Œä½¿ç”¨thisè¡¨ç¤ºå½“å‰å¯¹è±¡</p><h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>ç»§æ‰¿æ—¶é¢å‘å¯¹è±¡ä¸­çš„åˆä¸€ä¸ªç‰¹æ€§</p><p>é€šè¿‡ç»§æ‰¿å¯ä»¥å°†å…¶ä»–ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•å¼•å…¥åˆ°å½“å‰ç±»ä¸­</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span>&#123;<br><br>    <span class="hljs-title function_">bark</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&#x27;æ—ºè´¢&#x27;</span>, <span class="hljs-number">4</span>);<br>dog.<span class="hljs-title function_">bark</span>();<br></code></pre></td></tr></table></figure><p>é€šè¿‡ç»§æ‰¿å¯ä»¥åœ¨ä¸ä¿®æ”¹ç±»çš„æƒ…å†µä¸‹å®Œæˆå¯¹ç±»çš„æ‰©å±•</p><h2 id="é‡å†™"><a href="#é‡å†™" class="headerlink" title="é‡å†™"></a>é‡å†™</h2><p>å‘ç”Ÿç»§æ‰¿æ—¶ï¼Œå¦‚æœå­ç±»ä¸­çš„æ–¹æ³•ä¼šæ›¿æ¢æ‰çˆ¶ç±»ä¸­çš„åŒåæ–¹æ³•ï¼Œè¿™å°±ç§°ä¸ºæ–¹æ³•çš„é‡å†™</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>    &#125;<br><br>    <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span>&#123;<br><br>    <span class="hljs-title function_">bark</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>åœ¨æ±ªæ±ªå«ï¼`</span>);<br>    &#125;<br><br>    <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å­ç±»ä¸­çš„runæ–¹æ³•ï¼Œä¼šé‡å†™çˆ¶ç±»ä¸­çš„runæ–¹æ³•ï¼`</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">&#x27;æ—ºè´¢&#x27;</span>, <span class="hljs-number">4</span>);<br>dog.<span class="hljs-title function_">bark</span>();<br></code></pre></td></tr></table></figure><p>åœ¨å­ç±»ä¸­å¯ä»¥ä½¿ç”¨superæ¥å®Œæˆå¯¹çˆ¶ç±»çš„å¼•ç”¨</p><h2 id="æŠ½è±¡ç±»ï¼ˆabstract-classï¼‰"><a href="#æŠ½è±¡ç±»ï¼ˆabstract-classï¼‰" class="headerlink" title="æŠ½è±¡ç±»ï¼ˆabstract classï¼‰"></a>æŠ½è±¡ç±»ï¼ˆabstract classï¼‰</h2><p>æŠ½è±¡ç±»æ˜¯ä¸“é—¨ç”¨æ¥è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿çš„ç±»ï¼Œå®ƒåªèƒ½è¢«å…¶ä»–ç±»æ‰€ç»§æ‰¿ä¸èƒ½ç”¨æ¥åˆ›å»ºå®ä¾‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;<br>  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">run</span>(): <span class="hljs-built_in">void</span>;<br>  <span class="hljs-title function_">bark</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;åŠ¨ç‰©åœ¨å«~&#x27;</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animals</span>&#123;<br>  <span class="hljs-title function_">run</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;ç‹—åœ¨è·‘~&#x27;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨abstractå¼€å¤´çš„æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“åªèƒ½å®šä¹‰åœ¨æŠ½è±¡ç±»ä¸­ï¼Œç»§æ‰¿æŠ½è±¡ç±»æ—¶æŠ½è±¡æ–¹æ³•å¿…é¡»è¦å®ç°;</p><h1 id="æ¥å£ï¼ˆInterfaceï¼‰"><a href="#æ¥å£ï¼ˆInterfaceï¼‰" class="headerlink" title="æ¥å£ï¼ˆInterfaceï¼‰"></a>æ¥å£ï¼ˆInterfaceï¼‰</h1><p>  æ¥å£çš„ä½œç”¨ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä¸åŒç‚¹åœ¨äºï¼šæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§éƒ½æ˜¯<strong>æ²¡æœ‰å®å€¼</strong>çš„ï¼Œæ¢å¥è¯è¯´æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼›</p><p>  æ¥å£ä¸»è¦è´Ÿè´£å®šä¹‰ä¸€ä¸ªç±»çš„ç»“æ„ï¼Œæ¥å£å¯ä»¥å»<strong>é™åˆ¶ä¸€ä¸ªå¯¹è±¡çš„æ¥å£</strong>ï¼šå¯¹è±¡åªæœ‰åŒ…å«æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•æ—¶æ‰èƒ½åŒ¹é…æ¥å£ï¼›</p><p>  åŒæ—¶ï¼Œå¯ä»¥è®©ä¸€ä¸ªç±»å»å®ç°æ¥å£ï¼Œå®ç°æ¥å£æ—¶ç±»ä¸­è¦ä¿æŠ¤æ¥å£ä¸­çš„æ‰€æœ‰å±æ€§ï¼›</p><p>ç¤ºä¾‹ï¼ˆæ£€æŸ¥å¯¹è±¡ç±»å‹ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span>&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>    <span class="hljs-title function_">sayHello</span>():<span class="hljs-built_in">void</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">per: Person</span>)&#123;<br>    per.<span class="hljs-title function_">sayHello</span>();<br>&#125;<br><br><span class="hljs-title function_">fn</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å­™æ‚Ÿç©º&#x27;</span>, <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello, æˆ‘æ˜¯ <span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>)&#125;&#125;);<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼ˆå®ç°ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span>&#123;<br>   <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>   <span class="hljs-title function_">sayHello</span>():<span class="hljs-built_in">void</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Person</span>&#123;<br>   <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span></span>) &#123;<br>   &#125;<br><br>   <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯&#x27;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>   &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ³›å‹ï¼ˆGenericï¼‰"><a href="#æ³›å‹ï¼ˆGenericï¼‰" class="headerlink" title="æ³›å‹ï¼ˆGenericï¼‰"></a>æ³›å‹ï¼ˆGenericï¼‰</h1><p>  å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–ç±»æ—¶ï¼Œæœ‰äº›æƒ…å†µä¸‹æ— æ³•ç¡®å®šå…¶ä¸­è¦ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼ˆè¿”å›å€¼ã€å‚æ•°ã€å±æ€§çš„ç±»å‹ä¸èƒ½ç¡®å®šï¼‰ï¼›</p><p>  æ­¤æ—¶æ³›å‹ä¾¿èƒ½å¤Ÿå‘æŒ¥ä½œç”¨ï¼›</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">arg: <span class="hljs-built_in">any</span></span>): <span class="hljs-built_in">any</span>&#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šä¾‹ä¸­ï¼Œtestå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ç±»å‹ä¸ç¡®å®šï¼Œä½†æ˜¯èƒ½ç¡®å®šçš„æ˜¯å…¶è¿”å›å€¼çš„ç±»å‹å’Œå‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ï¼›</p><p>ç”±äºç±»å‹ä¸ç¡®å®šæ‰€ä»¥å‚æ•°å’Œè¿”å›å€¼å‡ä½¿ç”¨äº†anyï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·åšæ˜¯ä¸åˆé€‚çš„ï¼š</p><p>é¦–å…ˆä½¿ç”¨anyä¼šå…³é—­TSçš„ç±»å‹æ£€æŸ¥ï¼Œå…¶æ¬¡è¿™æ ·è®¾ç½®ä¹Ÿ<strong>ä¸èƒ½ä½“ç°å‡ºå‚æ•°å’Œè¿”å›å€¼æ˜¯ç›¸åŒçš„ç±»å‹</strong>ï¼›</p><h2 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h2><h2 id="åˆ›å»ºæ³›å‹å‡½æ•°"><a href="#åˆ›å»ºæ³›å‹å‡½æ•°" class="headerlink" title="åˆ›å»ºæ³›å‹å‡½æ•°"></a>åˆ›å»ºæ³›å‹å‡½æ•°</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">function</span> test&lt;T&gt;(<span class="hljs-attr">arg</span>: T): T&#123;<br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„<T>å°±æ˜¯æ³›å‹ï¼›</p><p>Tæ˜¯æˆ‘ä»¬ç»™è¿™ä¸ªç±»å‹èµ·çš„åå­—ï¼ˆä¸ä¸€å®šéå«Tï¼‰ï¼Œè®¾ç½®æ³›å‹åå³å¯åœ¨å‡½æ•°ä¸­ä½¿ç”¨Tæ¥è¡¨ç¤ºè¯¥ç±»å‹ï¼›</p><p>æ‰€ä»¥æ³›å‹å…¶å®å¾ˆå¥½ç†è§£ï¼Œå°±è¡¨ç¤ºæŸä¸ªç±»å‹ï¼›</p><p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ä¸Šè¾¹çš„å‡½æ•°å‘¢ï¼Ÿ</p><h2 id="ä½¿ç”¨æ³›å‹å‡½æ•°"><a href="#ä½¿ç”¨æ³›å‹å‡½æ•°" class="headerlink" title="ä½¿ç”¨æ³›å‹å‡½æ•°"></a>ä½¿ç”¨æ³›å‹å‡½æ•°</h2><ul><li><p>æ–¹å¼ä¸€ï¼ˆç›´æ¥ä½¿ç”¨ï¼‰ï¼š<br>test(10)<br>ä½¿ç”¨æ—¶å¯ä»¥ç›´æ¥ä¼ é€’å‚æ•°ä½¿ç”¨ï¼Œç±»å‹ä¼šç”±TSè‡ªåŠ¨æ¨æ–­å‡ºæ¥ï¼Œä½†æœ‰æ—¶ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­æ—¶è¿˜éœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼</p></li><li><p>æ–¹å¼äºŒï¼ˆæŒ‡å®šç±»å‹ï¼‰ï¼š<br>test<number>(10)<br>ä¹Ÿå¯ä»¥åœ¨å‡½æ•°åæ‰‹åŠ¨æŒ‡å®šæ³›å‹ï¼›</p></li></ul><h2 id="å‡½æ•°ä¸­å£°æ˜å¤šä¸ªæ³›å‹"><a href="#å‡½æ•°ä¸­å£°æ˜å¤šä¸ªæ³›å‹" class="headerlink" title="å‡½æ•°ä¸­å£°æ˜å¤šä¸ªæ³›å‹"></a>å‡½æ•°ä¸­å£°æ˜å¤šä¸ªæ³›å‹</h2><p>å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæ³›å‹ï¼Œæ³›å‹é—´ä½¿ç”¨é€—å·éš”å¼€ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">function</span> test&lt;T, K&gt;(<span class="hljs-attr">a</span>: T, <span class="hljs-attr">b</span>: K): K&#123;<br>  <span class="hljs-keyword">return</span> b;<br>&#125;<br><br>test&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;hello&quot;</span>);<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æ³›å‹æ—¶ï¼Œå®Œå…¨å¯ä»¥å°†æ³›å‹å½“æˆæ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»å»ä½¿ç”¨ï¼›</p><h2 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h2><ul><li>ç±»ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨æ³›å‹ï¼š<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&lt;T&gt;&#123;<br>  <span class="hljs-attr">prop</span>: T;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">prop: T</span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">prop</span> = prop;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="æ³›å‹ç»§æ‰¿"><a href="#æ³›å‹ç»§æ‰¿" class="headerlink" title="æ³›å‹ç»§æ‰¿"></a>æ³›å‹ç»§æ‰¿</h2><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å¯¹æ³›å‹çš„èŒƒå›´è¿›è¡Œçº¦æŸ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typeScript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInter</span>&#123;<br>  <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> test&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MyInter</span>&gt;(<span class="hljs-attr">arg</span>: T): <span class="hljs-built_in">number</span>&#123;<br>  <span class="hljs-keyword">return</span> arg.<span class="hljs-property">length</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨T extends MyInterè¡¨ç¤ºæ³›å‹Tå¿…é¡»æ˜¯MyInterçš„å­ç±»ï¼Œä¸ä¸€å®šéè¦ä½¿ç”¨æ¥å£ç±»å’ŒæŠ½è±¡ç±»åŒæ ·é€‚ç”¨ï¼›</p>]]></content>
    
    
    
    <tags>
      
      <tag>TypeScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ„Question</title>
    <link href="/2023/01/01/Question/"/>
    <url>/2023/01/01/Question/</url>
    
    <content type="html"><![CDATA[<h1 id="object-çš„å“ªäº›å±æ€§ä¸èƒ½è¢«-stringfy"><a href="#object-çš„å“ªäº›å±æ€§ä¸èƒ½è¢«-stringfy" class="headerlink" title="object çš„å“ªäº›å±æ€§ä¸èƒ½è¢« stringfy"></a>object çš„å“ªäº›å±æ€§ä¸èƒ½è¢« stringfy</h1><p>åœ¨ JavaScript ä¸­ï¼Œstringify æ–¹æ³•ç”¨äºå°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰å¯¹è±¡å±æ€§éƒ½å¯ä»¥è¢« stringify æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸èƒ½è¢« stringify æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„å±æ€§:</p><p>å‡½æ•°å±æ€§:å‡½æ•°å±æ€§ä¸èƒ½è¢« stringify æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯å¯¹è±¡å±æ€§ã€‚</p><p>å¾ªç¯å¼•ç”¨å±æ€§:å¦‚æœå¯¹è±¡ä¹‹é—´å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œåˆ™ stringify æ–¹æ³•å°†æ— æ³•æ­£ç¡®å¤„ç†è¿™äº›å±æ€§ï¼Œå› ä¸ºå®ƒä»¬ä¼šå¯¼è‡´å­—ç¬¦ä¸²åŒ–è¿‡ç¨‹å´©æºƒã€‚</p><p>åªè¯»å±æ€§:å¯¹è±¡ä¸­çš„åªè¯»å±æ€§ä¸èƒ½è¢« stringify æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒä»¬ä¸èƒ½è¢«ä¿®æ”¹ã€‚</p><p>å†…ç½®å¯¹è±¡å±æ€§:ä¾‹å¦‚ Infinity, NaN, Date.prototype.getTime,ä»¥åŠ Array.prototype.join ç­‰å†…ç½®å¯¹è±¡å±æ€§ä¸èƒ½è¢« stringify æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>é 5.1 ç‰ˆæœ¬çš„ DOM å¯¹è±¡å±æ€§ï¼šåœ¨æ—©æœŸçš„ JavaScript ç‰ˆæœ¬ä¸­ï¼Œstringify æ–¹æ³•æ— æ³•æ­£ç¡®å¤„ç† DOM å¯¹è±¡å±æ€§ï¼Œå› ä¸ºè¿™äº›å±æ€§ä¸æ˜¯å¯¹è±¡å±æ€§ã€‚</p><h1 id="å¦‚ä½•é€šè¿‡åŸå‹ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¥å®ç°è‡ªå·±çš„åŠŸèƒ½è€Œä¸ç ´åç±»åº“ï¼Ÿæ‰‹å†™ä¸€ä¸‹"><a href="#å¦‚ä½•é€šè¿‡åŸå‹ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¥å®ç°è‡ªå·±çš„åŠŸèƒ½è€Œä¸ç ´åç±»åº“ï¼Ÿæ‰‹å†™ä¸€ä¸‹" class="headerlink" title="å¦‚ä½•é€šè¿‡åŸå‹ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¥å®ç°è‡ªå·±çš„åŠŸèƒ½è€Œä¸ç ´åç±»åº“ï¼Ÿæ‰‹å†™ä¸€ä¸‹"></a>å¦‚ä½•é€šè¿‡åŸå‹ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œæ¥å®ç°è‡ªå·±çš„åŠŸèƒ½è€Œä¸ç ´åç±»åº“ï¼Ÿæ‰‹å†™ä¸€ä¸‹</h1><p>è¦é€šè¿‡åŸå‹ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤:</p><p>è¯»å–ç¬¬ä¸‰æ–¹ç±»åº“çš„åŸå‹é“¾ã€‚å‡è®¾æ‚¨æ­£åœ¨ä¿®æ”¹ util.js ç±»åº“ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç è¯»å–å®ƒçš„åŸå‹é“¾:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;util&#x27;</span>);  <br><span class="hljs-keyword">const</span> p = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;path&#x27;</span>).<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;util.js&#x27;</span>);  <br><span class="hljs-keyword">const</span> utilPrototype = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getPrototypeOf</span>(p);  <br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹å°†ç»§æ‰¿ç¬¬ä¸‰æ–¹ç±»åº“çš„åŸå‹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> newUtil = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(utilPrototype);  <br></code></pre></td></tr></table></figure><p>ä¿®æ”¹æ–°å®ä¾‹çš„åŸå‹é“¾ï¼Œä»¥åŒ…å«æ‚¨éœ€è¦çš„åŠŸèƒ½ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ä¿®æ”¹æ–°å®ä¾‹çš„åŸå‹é“¾:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">newUtil.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(utilPrototype.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);  <br></code></pre></td></tr></table></figure><p>å°†æ–°å®ä¾‹è¿”å›ç»™ç¬¬ä¸‰æ–¹ç±»åº“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç å°†æ–°å®ä¾‹è¿”å›ç»™ç¬¬ä¸‰æ–¹ç±»åº“:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;util&#x27;</span>);  <br><span class="hljs-keyword">const</span> newUtil = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(utilPrototype);  <br><span class="hljs-keyword">return</span> newUtil;  <br></code></pre></td></tr></table></figure><p>é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œå¯ä»¥ä¿®æ”¹ç¬¬ä¸‰æ–¹ç±»åº“çš„åŸå‹é“¾ï¼Œä»¥å®ç°æ‚¨éœ€è¦çš„åŠŸèƒ½ï¼Œè€Œåˆä¸ä¼šç ´åç±»åº“æœ¬èº«ã€‚è¯·æ³¨æ„ï¼Œè¿™äº›æ­¥éª¤ä»…é€‚ç”¨äºæ‚¨éœ€è¦ä¿®æ”¹çš„ç±»åº“æ˜¯ä½¿ç”¨åŸå‹ç»§æ‰¿çš„ã€‚å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹åŸºäºç±»çš„ç±»åº“ï¼Œè¯·è€ƒè™‘ä½¿ç”¨æ„é€ å‡½æ•°ã€‚</p><h1 id="Vue2-ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè€Œ-Vue3-ä¸­æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹"><a href="#Vue2-ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè€Œ-Vue3-ä¸­æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹" class="headerlink" title="Vue2 ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè€Œ Vue3 ä¸­æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹"></a>Vue2 ä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œè€Œ Vue3 ä¸­æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹</h1><p>å…¶å®æœ¬è´¨ä¸Š Vue3 æ¯ä¸ªç»„ä»¶è¿˜æ˜¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå› ä¸º DOM æ ‘åªèƒ½æ˜¯æ ‘çŠ¶ç»“æ„çš„ï¼Œåªæ˜¯ Vue3 åœ¨ç¼–è¯‘é˜¶æ®µæ–°å¢äº†åˆ¤æ–­ï¼Œå¦‚æœå½“å‰ç»„ä»¶ä¸åªä¸€ä¸ªæ ¹å…ƒç´ ï¼Œå°±æ·»åŠ ä¸€ä¸ª fragment ç»„ä»¶æŠŠè¿™ä¸ªå¤šæ ¹ç»„ä»¶çš„ç»™åŒ…èµ·æ¥ï¼Œç›¸å½“äºè¿™ä¸ªç»„ä»¶è¿˜æ˜¯åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚è€Œ fragment è·Ÿ keep-alive ä¸€æ ·æ˜¯ä¸€ä¸ªä¸ä¼šè¢«æ¸²æŸ“å‡ºæ¥çš„å†…ç½®ç»„ä»¶<br><template><br>    <div>1</div><br>    <div>2</div><br></template></p><h1 id="JavaScriptä¸­æ ˆå’Œå †çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#JavaScriptä¸­æ ˆå’Œå †çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="JavaScriptä¸­æ ˆå’Œå †çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>JavaScriptä¸­æ ˆå’Œå †çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h1><p>åœ¨ç†è§£å †ä¸æ ˆè¿™ä¸¤ä¸ªæ¦‚å¿µæ—¶ï¼Œéœ€è¦æ”¾åˆ°å…·ä½“çš„åœºæ™¯ä¸‹å»ç†è§£ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æœ‰ä¸¤å±‚å«ä¹‰ï¼š</p><p>ï¼ˆ1ï¼‰å†…å­˜æ“ä½œåœºæ™¯ä¸‹ï¼Œå †ä¸æ ˆè¡¨ç¤ºä¸¤ç§å†…å­˜çš„ç®¡ç†æ–¹å¼ã€‚</p><p>ï¼ˆ2ï¼‰æ•°æ®ç»“æ„åœºæ™¯ä¸‹ï¼Œå †ä¸æ ˆè¡¨ç¤ºä¸¤ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚</p><p>1ã€å†…å­˜æ“ä½œåœºæ™¯</p><p>æ ˆç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾ï¼Œç”¨äºå­˜æ”¾ç®€å•çš„æ•°æ®æ®µï¼Œå æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œæ¯”å¦‚åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆNumberã€Stringã€Booleanâ€¦â€¦ï¼‰å’Œå‡½æ•°çš„å‚æ•°å€¼ç­‰ã€‚</p><p>å †ç”±å¼€å‘äººå‘˜è‡ªä¸»åˆ†é…å’Œé‡Šæ”¾ï¼Œè‹¥ä¸ä¸»åŠ¨é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶ç”±æµè§ˆå™¨å›æ”¶ï¼Œç”¨äºå­˜å‚¨å¼•ç”¨ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹çš„å˜é‡å®é™…ä¸Šä¿å­˜çš„ä¸æ˜¯å˜é‡æœ¬èº«ï¼Œè€Œæ˜¯æŒ‡å‘å†…å­˜ç©ºé—´çš„ æŒ‡é’ˆï¼‰ã€‚</p><p>JavaScriptä¸­çš„æ•°æ®ç±»å‹</p><p>2ã€æ•°æ®ç»“æ„åœºæ™¯</p><p>JavaScriptå­˜åœ¨æ ˆå’Œé˜Ÿåˆ—æ¦‚å¿µï¼Œé€šè¿‡æ•°ç»„çš„æ–¹å¼ï¼Œæ¨¡ä»¿å®ç°å †æ ˆã€‚</p><p>æ ˆï¼šæ ˆæ˜¯ä¸€ç§è¿ç®—å—é™çš„çº¿æ€§è¡¨ï¼Œå…¶é™åˆ¶æ˜¯æŒ‡åªä»…å…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œè¿™ä¸€ç«¯è¢«ç§°ä¸ºæ ˆé¡¶ï¼ˆTopï¼‰ï¼Œç›¸å¯¹åœ°ï¼ŒæŠŠå¦ä¸€ç«¯ç§°ä¸ºæ ˆåº•ï¼ˆBottomï¼‰ã€‚æŠŠæ–°å…ƒç´ æ”¾åˆ°æ ˆé¡¶å…ƒç´ çš„ä¸Šé¢ï¼Œä½¿ä¹‹æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ ç§°ä½œè¿›æ ˆã€å…¥æ ˆæˆ–å‹æ ˆï¼ˆPushï¼‰ï¼›æŠŠæ ˆé¡¶å…ƒç´ åˆ é™¤ï¼Œä½¿å…¶ç›¸é‚»çš„å…ƒç´ æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ ç§°ä½œå‡ºæ ˆæˆ–é€€æ ˆï¼ˆPopï¼‰ã€‚é€šè¿‡æ•°ç»„çš„push()ã€pop()æ–¹æ³•å®ç°æ ˆã€‚</p><p>å †ï¼šå †å…¶å®æ˜¯ä¸€ç§ä¼˜å…ˆé˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´é˜Ÿåˆ—ä¸­å­˜åœ¨ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚é˜Ÿåˆ—ä¸­æœ‰å¾ˆå¤šå¾…æ‰§è¡Œä»»åŠ¡ï¼Œæ‰§è¡Œæ—¶ä¼šæ ¹æ®ä¼˜å…ˆçº§æ‰¾ä¼˜å…ˆåº¦æœ€é«˜çš„å…ˆæ‰§è¡Œã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Question</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ™Vue3-Study</title>
    <link href="/2023/01/01/Vue3-Study/"/>
    <url>/2023/01/01/Vue3-Study/</url>
    
    <content type="html"><![CDATA[<p><img src="https://static.vue-js.com/6280b990-ff19-11ea-85f6-6fac77c0c9b3.png" alt="Vue3"></p><h1 id="å…³äºVue3"><a href="#å…³äºVue3" class="headerlink" title="å…³äºVue3"></a>å…³äºVue3</h1><h2 id="ä¸€-Vue3ç®€ä»‹"><a href="#ä¸€-Vue3ç®€ä»‹" class="headerlink" title="ä¸€.Vue3ç®€ä»‹"></a>ä¸€.Vue3ç®€ä»‹</h2><p>2020å¹´9æœˆ18æ—¥ï¼ŒVue.jså‘å¸ƒ3.0ç‰ˆæœ¬ï¼Œä»£å·ï¼šOne Pieceï¼ˆæµ·è´¼ç‹ï¼‰</p><p>è€—æ—¶2å¹´å¤šã€2600+æ¬¡æäº¤ã€30+ä¸ªRFCã€600+æ¬¡PRã€99ä½è´¡çŒ®è€…</p><p>githubä¸Šçš„tagsåœ°å€ï¼š<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></p><h2 id="äºŒ-Vue3å¸¦æ¥äº†ä»€ä¹ˆ"><a href="#äºŒ-Vue3å¸¦æ¥äº†ä»€ä¹ˆ" class="headerlink" title="äºŒ.Vue3å¸¦æ¥äº†ä»€ä¹ˆ"></a>äºŒ.Vue3å¸¦æ¥äº†ä»€ä¹ˆ</h2><h3 id="1-æ€§èƒ½çš„æå‡"><a href="#1-æ€§èƒ½çš„æå‡" class="headerlink" title="1.æ€§èƒ½çš„æå‡"></a>1.æ€§èƒ½çš„æå‡</h3><ul><li><p>æ‰“åŒ…å¤§å°å‡å°‘41%</p></li><li><p>åˆæ¬¡æ¸²æŸ“å¿«55%, æ›´æ–°æ¸²æŸ“å¿«133%</p></li><li><p>å†…å­˜å‡å°‘54%</p></li></ul><p>â€¦â€¦</p><h3 id="2-æºç çš„å‡çº§"><a href="#2-æºç çš„å‡çº§" class="headerlink" title="2.æºç çš„å‡çº§"></a>2.æºç çš„å‡çº§</h3><ul><li><p>ä½¿ç”¨Proxyä»£æ›¿definePropertyå®ç°å“åº”å¼</p></li><li><p>é‡å†™è™šæ‹ŸDOMçš„å®ç°å’ŒTree-Shaking</p></li></ul><p>â€¦â€¦</p><h3 id="3-æ‹¥æŠ±TypeScript"><a href="#3-æ‹¥æŠ±TypeScript" class="headerlink" title="3.æ‹¥æŠ±TypeScript"></a>3.æ‹¥æŠ±TypeScript</h3><p>Vue3å¯ä»¥æ›´å¥½çš„æ”¯æŒTypeScript</p><h3 id="4-æ–°çš„ç‰¹æ€§"><a href="#4-æ–°çš„ç‰¹æ€§" class="headerlink" title="4.æ–°çš„ç‰¹æ€§"></a>4.æ–°çš„ç‰¹æ€§</h3><p>Composition APIï¼ˆç»„åˆAPIï¼‰</p><p>setupé…ç½®</p><p>refä¸reactive</p><p>watchä¸watchEffect</p><p>provideä¸inject</p><p>â€¦â€¦</p><p><strong>æ–°çš„å†…ç½®ç»„ä»¶</strong></p><p>Fragment</p><p>Teleport</p><p>Suspense</p><p>å…¶ä»–æ”¹å˜</p><p><strong>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</strong></p><p>data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p><p>ç§»é™¤keyCodeæ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦</p><p>â€¦â€¦</p><h2 id="ä¸‰-åˆ›å»ºVue3-0å·¥ç¨‹"><a href="#ä¸‰-åˆ›å»ºVue3-0å·¥ç¨‹" class="headerlink" title="ä¸‰.åˆ›å»ºVue3.0å·¥ç¨‹"></a>ä¸‰.åˆ›å»ºVue3.0å·¥ç¨‹</h2><h3 id="1-ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#1-ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="1.ä½¿ç”¨ vue-cli åˆ›å»º"></a>1.ä½¿ç”¨ vue-cli åˆ›å»º</h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><p>æŸ¥çœ‹@vue&#x2F;cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue&#x2F;cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨<span class="hljs-number">4.5</span><span class="hljs-number">.0</span>ä»¥ä¸Š<br>vue --version<br>## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli<br>npm install -g @vue/cli<br>## åˆ›å»º<span class="hljs-title class_">Vue</span>é¡¹ç›®ï¼Œé€‰æ‹©<span class="hljs-title class_">Vue3</span><br>vue create vue_test<br>## å¯åŠ¨<br>cd vue_test<br>npm run serve<br></code></pre></td></tr></table></figure><p>ã€è¿˜å¯ä»¥ä½¿ç”¨å¯è§†åŒ–ç•Œé¢åˆ›å»ºï¼šè¾“å…¥å‘½ä»¤  vue ui ã€‘</p><h3 id="2-ä½¿ç”¨-vite-åˆ›å»º"><a href="#2-ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="2.ä½¿ç”¨ vite åˆ›å»º"></a>2.ä½¿ç”¨ vite åˆ›å»º</h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>viteå®˜ç½‘ï¼š<a href="https://vitejs.cn/">https://vitejs.cn</a></p><p>ä»€ä¹ˆæ˜¯viteï¼Ÿâ€”â€” æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ã€‚</p><p>ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p><ul><li><p>å¼€å‘ç¯å¢ƒä¸­ï¼Œæ— éœ€æ‰“åŒ…æ“ä½œï¼Œå¯å¿«é€Ÿçš„å†·å¯åŠ¨ã€‚</p></li><li><p>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆHMRï¼‰ã€‚</p></li><li><p>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</p></li></ul><p>ä¼ ç»Ÿæ„å»º ä¸ viteæ„å»ºå¯¹æ¯”å›¾</p><p><a href="https://postimg.cc/D8zLssjh"><img src="https://i.postimg.cc/5NB3hS8X/image.png" alt="image.png"></a></p><p>ä¼ ç»Ÿæ„å»ºæ¨¡å¼ï¼Œæ˜¯å°†æ‰€æœ‰èµ„æºéƒ½æ‰“åŒ…å¥½ï¼Œå†ä¸Šçº¿</p><p><a href="https://postimg.cc/Fk0rkTMp"><img src="https://i.postimg.cc/nrPC55Ty/image.png" alt="image.png"></a></p><p>è€ŒViteæœ‰ç‚¹æŒ‰éœ€åŠ è½½çš„æ„æ€äº†ã€‚</p><p>ã€Šåˆ›å»ºå·¥ç¨‹ã€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">npm init vite-app &lt;project-name&gt;<br>è¿›å…¥å·¥ç¨‹ç›®å½•<br>cd &lt;project-name&gt;<br>å®‰è£…ä¾èµ–<br>npm install<br>è¿è¡Œ<br>npm run dev<br></code></pre></td></tr></table></figure><p>ã€viteçš„æ„å»ºé€Ÿåº¦æ›´å¿«ã€‘</p><h3 id="3-åˆ†æå·¥ç¨‹ç»“æ„"><a href="#3-åˆ†æå·¥ç¨‹ç»“æ„" class="headerlink" title="3.åˆ†æå·¥ç¨‹ç»“æ„"></a>3.åˆ†æå·¥ç¨‹ç»“æ„</h3><p>æ„é€ å‡½æ•°éœ€è¦new  ï¼› å·¥å‚å‡½æ•°ç›´æ¥ä½¿ç”¨</p><p><strong>&gt;&gt;main.js</strong></p><p>Vue2é¡¹ç›®ä¸­çš„main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>:<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(app),<br>&#125;)<br>vm.$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><p>Vue3é¡¹ç›®ä¸­çš„main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ã€Šå¯¹æ¯”ã€‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// å¼•å…¥çš„ä¸å†æ˜¯Vueæ„é€ å‡½æ•°äº†ï¼Œå¼•å…¥çš„æ˜¯ä¸€ä¸ªåä¸ºcreateAppçš„å·¥å‚å‡½æ•°</span><br><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-comment">// åˆ›å»ºåº”ç”¨å®ä¾‹å¯¹è±¡â€”â€”app(ç±»ä¼¼äºä¹‹å‰Vue2ä¸­çš„vmï¼Œä½†appæ¯”vmæ›´â€œè½»â€)</span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(app)<br><span class="hljs-comment">// æŒ‚è½½</span><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;App.vue</strong></p><p>ã€vue3 templateä¸­å¯æ— æ ¹æ ‡ç­¾ã€‘</p><h3 id="4-å¸¸ç”¨-Composition-API"><a href="#4-å¸¸ç”¨-Composition-API" class="headerlink" title="4.å¸¸ç”¨ Composition API"></a>4.å¸¸ç”¨ Composition API</h3><p>åœ¨Vue2ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯Options API ï¼Œé…ç½®é¡¹å¼çš„APIï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œç„¶ååœ¨é‡Œé¢ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œé‡Œé¢è¦å†™dataã€methodsã€watchç­‰çš„ä¸œè¥¿ï¼Œè€ŒVue3æå‡ºäº†å…¨æ–°çš„ Composition APIï¼Œç»„åˆå¼APIï¼Œæˆ‘ä»¬ä¸ç”¨ç›´æ¥åˆ›å»ºVueå®ä¾‹ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªappï¼Œç„¶åæŒ‰éœ€å¼•å…¥éœ€è¦çš„APIï¼Œæ¥è¿›è¡Œä½¿ç”¨â€¦</p><h4 id="1-Options-API-å­˜åœ¨çš„é—®é¢˜"><a href="#1-Options-API-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="1.Options API å­˜åœ¨çš„é—®é¢˜"></a>1.Options API å­˜åœ¨çš„é—®é¢˜</h4><p>ä½¿ç”¨ä¼ ç»ŸOptions APIï¼ˆé…ç½®å¼APIï¼‰ä¸­ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«åœ¨dataï¼Œmethodsï¼Œcomputedé‡Œä¿®æ”¹ ã€‚</p><p><a href="https://postimg.cc/jDtYqHRH"><img src="https://i.postimg.cc/vZ6YzhjN/image.png" alt="image.png"></a></p><p><a href="https://postimg.cc/Mn2VnGLb"><img src="https://i.postimg.cc/W1tnfF6K/image.png" alt="image.png"></a></p><h4 id="2-Composition-API-çš„ä¼˜åŠ¿"><a href="#2-Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="2.Composition API çš„ä¼˜åŠ¿"></a>2.Composition API çš„ä¼˜åŠ¿</h4><p>æˆ‘ä»¬å¯ä»¥æ›´åŠ ä¼˜é›…çš„ç»„ç»‡æˆ‘ä»¬çš„ä»£ç ï¼Œå‡½æ•°ã€‚è®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p><p><a href="https://postimg.cc/7bXqCtQB"><img src="https://i.postimg.cc/hPRv5H8q/image.png" alt="image.png"></a></p><p><a href="https://postimg.cc/566WX4z0"><img src="https://i.postimg.cc/VLFfH5Lj/image.png" alt="image.png"></a></p><h5 id="1-æ‹‰å¼€åºå¹•çš„setup"><a href="#1-æ‹‰å¼€åºå¹•çš„setup" class="headerlink" title="1.æ‹‰å¼€åºå¹•çš„setup"></a>1.æ‹‰å¼€åºå¹•çš„setup</h5><ul><li><p>ç†è§£ï¼šVue3.0ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p></li><li><p>setupæ˜¯æ‰€æœ‰Composition APIï¼ˆç»„åˆAPIï¼‰â€œ è¡¨æ¼”çš„èˆå° â€ã€‚</p></li><li><p>ç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼Œå‡è¦é…ç½®åœ¨setupä¸­ã€‚</p></li><li><p>setupå‡½æ•°çš„ä¸¤ç§è¿”å›å€¼ï¼š</p><ul><li><p>è‹¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•, åœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ï¼ˆé‡ç‚¹å…³æ³¨ï¼ï¼‰ã€returnå†…ç®€å†™name:name&#x3D;&#x3D;&#x3D;&gt;nameã€‘</p></li><li><p>è‹¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ã€‚ï¼ˆäº†è§£ï¼‰</p></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript">  &lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ€§åˆ«ï¼š&#123;&#123;gender&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sayInfo&quot;</span>&gt;</span>æ˜¾ç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// import &#123;h&#125; from &#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-comment">//æ­¤å¤„åªæ˜¯æµ‹è¯•ä¸€ä¸‹setupï¼Œæš‚æ—¶ä¸è€ƒè™‘å“åº”å¼çš„é—®é¢˜ã€‚</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> name = <span class="hljs-string">&quot;YKèŒ&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> age = <span class="hljs-number">18</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> gender = <span class="hljs-string">&quot;ç”·&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayInfo</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ å¥½<span class="hljs-subst">$&#123;name&#125;</span>ï¼Œä½ å¤ªå‰å®³äº†å§`</span>)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      name,age, gender,sayInfo</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// return ()=&gt; h(&#x27;h1&#x27;,&#x27;Good Job&#x27;)</span></span></span><br><span class="language-javascript"><span class="language-xml">  &#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å¦‚æœè¿”å›çš„æ˜¯æ¸²æŸ“å‡½æ•°</p><p>é‚£ä½ åœ¨templateé‡Œå†™çš„æ¨¡æ¿éƒ½ä¸å¥æ•ˆäº†ï¼Œé¡µé¢æ¸²æŸ“çš„å°±æ˜¯ä½ å†™çš„hå‡½æ•°ä¸­çš„å†…å®¹</p><ul><li><p>æ³¨æ„ç‚¹ï¼š</p><ul><li><p>å°½é‡ä¸è¦ä¸Vue2.xé…ç½®æ··ç”¨</p><ul><li><p>Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ä¸­å¯ä»¥è®¿é—®åˆ°setupä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</p></li><li><p>ä½†åœ¨setupä¸­ä¸èƒ½è®¿é—®åˆ°Vue2.xé…ç½®ï¼ˆdataã€methosã€computedâ€¦ï¼‰ã€‚</p></li><li><p>å¦‚æœæœ‰é‡å, setupä¼˜å…ˆã€‚</p></li></ul></li><li><p>setupä¸èƒ½æ˜¯ä¸€ä¸ªasyncå‡½æ•°ï¼Œå› ä¸ºè¿”å›å€¼ä¸å†æ˜¯returnçš„å¯¹è±¡, è€Œæ˜¯promise, æ¨¡æ¿çœ‹ä¸åˆ°returnå¯¹è±¡ä¸­çš„å±æ€§ã€‚ï¼ˆåæœŸä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œä½†éœ€è¦Suspenseå’Œå¼‚æ­¥ç»„ä»¶çš„é…åˆï¼‰</p></li></ul></li></ul><p>ä¸Šé¢çš„æ•°æ®ä¸æ˜¯å“åº”å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬ä¿®æ”¹å®ƒï¼Œé¡µé¢ä¸ä¼šæœ‰æ›´æ–°ï¼Œå¦‚ä½•å®šä¹‰å“åº”å¼çš„æ•°æ®å‘¢ï¼Ÿ</p><h5 id="2-refå‡½æ•°"><a href="#2-refå‡½æ•°" class="headerlink" title="2.refå‡½æ•°"></a>2.refå‡½æ•°</h5><p>ä½œç”¨: å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®</p><p>è¯­æ³•: <strong>const xxx &#x3D; ref(initValue)</strong></p><ul><li><p>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„å¼•ç”¨å¯¹è±¡ï¼ˆreferenceå¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼‰ã€‚</p></li><li><p>JSä¸­æ“ä½œæ•°æ®ï¼š <strong>xxx.value</strong></p></li><li><p>æ¨¡æ¿ä¸­è¯»å–æ•°æ®: ä¸éœ€è¦.valueï¼Œç›´æ¥ï¼š**<div></div>**</p></li></ul><p>å¤‡æ³¨ï¼š</p><ul><li><p>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼šåŸºæœ¬ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ã€‚</p></li><li><p>åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼šå“åº”å¼ä¾ç„¶æ˜¯é <strong>Object.defineProperty()çš„getä¸set</strong>å®Œæˆçš„ã€‚</p></li><li><p>å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼šå†…éƒ¨ â€œ æ±‚åŠ© â€ äº†Vue3.0ä¸­çš„ä¸€ä¸ªæ–°å‡½æ•°â€”â€” <strong>reactiveå‡½æ•°</strong>ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123; age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>èŒä¸šï¼š &#123;&#123; job.type &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å·¥èµ„ï¼š&#123;&#123; job.salary &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;sayInfo&quot;</span>&gt;</span>æ˜¾ç¤ºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeInfo&quot;</span>&gt;</span>ä¿®æ”¹ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> name = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;trumen&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> age = <span class="hljs-title function_">ref</span>(<span class="hljs-number">18</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> job = <span class="hljs-title function_">ref</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">salary</span>: <span class="hljs-string">&quot;10K&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sayInfo</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ å¥½<span class="hljs-subst">$&#123;name.value&#125;</span>ï¼Œè–ªæ°´<span class="hljs-subst">$&#123;job.value.salary&#125;</span>`</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeInfo</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      name.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;lily&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      age.<span class="hljs-property">value</span> = <span class="hljs-number">48</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      job.<span class="hljs-property">value</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;å·¥ç¨‹å¸ˆ&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      job.<span class="hljs-property">value</span>.<span class="hljs-property">salary</span> = <span class="hljs-string">&quot;200K&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      name,</span></span><br><span class="language-javascript"><span class="language-xml">      age,</span></span><br><span class="language-javascript"><span class="language-xml">      job,</span></span><br><span class="language-javascript"><span class="language-xml">      sayInfo,</span></span><br><span class="language-javascript"><span class="language-xml">      changeInfo,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>é€šè¿‡çœ‹æºç å¯ä»¥çŸ¥é“è°ƒç”¨refä¼šè¿”å›ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼ŒRefImplç±»ä¸­æœ‰getterå’Œsetterå¯ä»¥æ£€æµ‹åˆ°æ•°æ®çš„å˜åŒ–</p><h5 id="3-reactiveå‡½æ•°"><a href="#3-reactiveå‡½æ•°" class="headerlink" title="3.reactiveå‡½æ•°"></a>3.reactiveå‡½æ•°</h5><p>ä½œç”¨: å®šä¹‰ä¸€ä¸ª<strong>å¯¹è±¡ç±»å‹</strong>çš„å“åº”å¼æ•°æ®ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨refå‡½æ•°ï¼‰</p><p>è¯­æ³•ï¼š<strong>const ä»£ç†å¯¹è±¡&#x3D; reactive(æºå¯¹è±¡)<strong>æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ï¼Œè¿”å›ä¸€ä¸ª</strong>ä»£ç†å¯¹è±¡ï¼ˆProxyçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°proxyå¯¹è±¡ï¼‰</strong></p><p>reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡çš„â€ã€‚</p><p>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®è¿›è¡Œæ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; yk.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123; yk.age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>èŒä¸šï¼š &#123;&#123; yk.job.type &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å·¥èµ„ï¼š&#123;&#123; yk.job.salary &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ±å¥½ï¼š&#123;&#123; yk.hobby &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æµ‹è¯•æ•°æ®ï¼š&#123;&#123; yk.job.a.b.c &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeInfo&quot;</span>&gt;</span>ä¿®æ”¹ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> yk = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;YKèŒ&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;å†™åšå®¢&quot;</span>, <span class="hljs-string">&quot;å­¦ä¹ &quot;</span>, <span class="hljs-string">&quot;çœ‹ä¹¦&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">salary</span>: <span class="hljs-string">&quot;30K&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">a</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">b</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">c</span>: <span class="hljs-number">666</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeInfo</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;ä¸‰åå¹´åçš„YKèŒ&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">age</span> = <span class="hljs-number">48</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">job</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;å·¥ç¨‹å¸ˆ&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">job</span>.<span class="hljs-property">salary</span> = <span class="hljs-string">&quot;200K&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">job</span>.<span class="hljs-property">a</span>.<span class="hljs-property">b</span>.<span class="hljs-property">c</span> = <span class="hljs-number">888</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">// ç›´æ¥é€šè¿‡æ•°ç»„ä¸‹æ ‡ä¿®æ”¹ï¼Œå¯ä»¥è§¦å‘å“åº”å¼</span></span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">hobby</span>[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;å†™å°è¯´&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      yk,</span></span><br><span class="language-javascript"><span class="language-xml">      changeInfo,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="4-Vue3-0ä¸­çš„å“åº”å¼åŸç†"><a href="#4-Vue3-0ä¸­çš„å“åº”å¼åŸç†" class="headerlink" title="4.Vue3.0ä¸­çš„å“åº”å¼åŸç†"></a>4.Vue3.0ä¸­çš„å“åº”å¼åŸç†</h5><p>Vue2.xçš„å“åº”å¼</p><p>å®ç°åŸç†</p><ul><li><p>å¯¹è±¡ç±»å‹ï¼šé€šè¿‡**Object.defineProperty()**å¯¹å±æ€§çš„è¯»å–ã€ä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</p></li><li><p>æ•°ç»„ç±»å‹ï¼šé€šè¿‡é‡å†™æ›´æ–°æ•°ç»„çš„ä¸€ç³»åˆ—æ–¹æ³•æ¥å®ç°æ‹¦æˆªã€‚ï¼ˆå¯¹æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼‰ã€‚</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(data, <span class="hljs-string">&#x27;count&#x27;</span>, &#123;<br>    get () &#123;&#125;, <br>    set () &#123;&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>å­˜åœ¨é—®é¢˜</p><ul><li><p>æ–°å¢å±æ€§ã€åˆ é™¤å±æ€§, ç•Œé¢ä¸ä¼šæ›´æ–°ã€‚</p></li><li><p>ç›´æ¥é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æ•°ç»„, ç•Œé¢ä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p></li></ul><p>è§£å†³æ–¹æ¡ˆ</p><p>ä½¿ç”¨<strong>Vue.setã€Vue.delete</strong>æˆ–è€…<strong>vm.$setã€vm.$delete</strong>è¿™äº›API</p><p>æ¨¡æ‹ŸVue2ä¸­å®ç°å“åº”å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æºæ•°æ®</span><br><span class="hljs-keyword">let</span> person = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<br><span class="hljs-attr">age</span>:<span class="hljs-number">18</span><br>&#125;<br><span class="hljs-comment">//æ¨¡æ‹ŸVue2ä¸­å®ç°å“åº”å¼</span><br><span class="hljs-keyword">let</span> p = &#123;&#125;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(p,<span class="hljs-string">&#x27;name&#x27;</span>,&#123;<br><span class="hljs-attr">configurable</span>:<span class="hljs-literal">true</span>,<br><span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-comment">//æœ‰äººè¯»å–nameæ—¶è°ƒç”¨</span><br><span class="hljs-keyword">return</span> person.<span class="hljs-property">name</span><br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">//æœ‰äººä¿®æ”¹nameæ—¶è°ƒç”¨</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœ‰äººä¿®æ”¹äº†nameå±æ€§ï¼Œæˆ‘å‘ç°äº†ï¼Œæˆ‘è¦å»æ›´æ–°ç•Œé¢ï¼&#x27;</span>)<br>person.<span class="hljs-property">name</span> = value<br>&#125;<br>&#125;)<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(p,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;<br><span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123; <span class="hljs-comment">//æœ‰äººè¯»å–ageæ—¶è°ƒç”¨</span><br><span class="hljs-keyword">return</span> person.<span class="hljs-property">age</span><br>&#125;,<br><span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>)&#123; <span class="hljs-comment">//æœ‰äººä¿®æ”¹ageæ—¶è°ƒç”¨</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;æœ‰äººä¿®æ”¹äº†ageå±æ€§ï¼Œæˆ‘å‘ç°äº†ï¼Œæˆ‘è¦å»æ›´æ–°ç•Œé¢ï¼&#x27;</span>)<br>person.<span class="hljs-property">age</span> = value<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>Vue3.0çš„å“åº”å¼</p><p>ä¸Šé¢ä¾‹å­ä¸­çœ‹åˆ°æ•°ç»„å¯ä»¥é€šè¿‡ä¸‹æ ‡è¿›è¡Œä¿®æ”¹ï¼Œæˆ‘ä»¬å†æµ‹è¯•ä¸‹å¢åŠ å±æ€§å’Œåˆ é™¤å±æ€§åœ¨Vue3ä¸­å¥½ä¸å¥½ä½¿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; yk.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;yk.age&quot;</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123; yk.age &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;yk.gender&quot;</span>&gt;</span>æ€§åˆ«ï¼š&#123;&#123; yk.gender &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>èŒä¸šï¼š &#123;&#123; yk.job.type &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å·¥èµ„ï¼š&#123;&#123; yk.job.salary &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ±å¥½ï¼š&#123;&#123; yk.hobby &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æµ‹è¯•æ•°æ®ï¼š&#123;&#123; yk.job.a.b.c &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeInfo&quot;</span>&gt;</span>ä¿®æ”¹ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addGender&quot;</span>&gt;</span>å¢åŠ æ€§åˆ«<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;deleteAge&quot;</span>&gt;</span>åˆ é™¤å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> yk = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;trumen&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">hobby</span>: [<span class="hljs-string">&quot;å†™åšå®¢&quot;</span>, <span class="hljs-string">&quot;å­¦ä¹ &quot;</span>, <span class="hljs-string">&quot;çœ‹ä¹¦&quot;</span>],</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">job</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;å‰ç«¯å·¥ç¨‹å¸ˆ&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">salary</span>: <span class="hljs-string">&quot;30K&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">a</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-attr">b</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">c</span>: <span class="hljs-number">666</span>,</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// æ–¹æ³•</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">changeInfo</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;lily&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">age</span> = <span class="hljs-number">48</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">job</span>.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;å·¥ç¨‹å¸ˆ&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">job</span>.<span class="hljs-property">salary</span> = <span class="hljs-string">&quot;200K&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">a</span>.<span class="hljs-property">b</span>.<span class="hljs-property">c</span> = <span class="hljs-number">888</span>;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">hobby</span>[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;å†™å°è¯´&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">addGender</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      yk.<span class="hljs-property">gender</span> = <span class="hljs-string">&quot;ç”·&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">deleteAge</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">delete</span> yk.<span class="hljs-property">age</span>;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      yk,</span></span><br><span class="language-javascript"><span class="language-xml">      changeInfo,</span></span><br><span class="language-javascript"><span class="language-xml">      addGender,</span></span><br><span class="language-javascript"><span class="language-xml">      deleteAge,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>å®ç°åŸç†</p><ul><li><p>é€šè¿‡<strong>Proxy</strong>ï¼ˆä»£ç†ï¼‰:  æ‹¦æˆªå¯¹è±¡ä¸­ä»»æ„å±æ€§çš„å˜åŒ–, åŒ…æ‹¬ï¼šå±æ€§å€¼çš„è¯»å†™ã€å±æ€§çš„æ·»åŠ ã€å±æ€§çš„åˆ é™¤ç­‰ã€‚</p></li><li><p>é€šè¿‡  <strong>Reflect</strong>ï¼ˆåå°„ï¼‰:  å¯¹æºå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œã€‚</p></li><li><p>MDNæ–‡æ¡£ä¸­æè¿°çš„Proxyä¸Reflectï¼š</p></li></ul><p>Proxyï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p><p>Reflectï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><p>æ¨¡æ‹ŸVue3ä¸­å®ç°å“åº”å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> person = &#123;<br><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;trumen&#x27;</span>,<br><span class="hljs-attr">age</span>:<span class="hljs-number">18</span><br>&#125;<br><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person,&#123;<br><span class="hljs-comment">//æœ‰äººè¯»å–pçš„æŸä¸ªå±æ€§æ—¶è°ƒç”¨</span><br><span class="hljs-title function_">get</span>(<span class="hljs-params">target,propName</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººè¯»å–äº†pèº«ä¸Šçš„<span class="hljs-subst">$&#123;propName&#125;</span>å±æ€§`</span>)<br>       <span class="hljs-comment">// return target[propName]</span><br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target,propName)<br>&#125;,<br><span class="hljs-comment">//æœ‰äººä¿®æ”¹pçš„æŸä¸ªå±æ€§ã€æˆ–ç»™pè¿½åŠ æŸä¸ªå±æ€§æ—¶è°ƒç”¨</span><br><span class="hljs-title function_">set</span>(<span class="hljs-params">target,propName,value</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººä¿®æ”¹äº†pèº«ä¸Šçš„<span class="hljs-subst">$&#123;propName&#125;</span>å±æ€§ï¼Œæˆ‘è¦å»æ›´æ–°ç•Œé¢äº†ï¼`</span>)<br>        <span class="hljs-comment">// target[propName] = value</span><br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target,propName,value)<br>&#125;,<br><span class="hljs-comment">//æœ‰äººåˆ é™¤pçš„æŸä¸ªå±æ€§æ—¶è°ƒç”¨</span><br><span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">target,propName</span>)&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººåˆ é™¤äº†pèº«ä¸Šçš„<span class="hljs-subst">$&#123;propName&#125;</span>å±æ€§ï¼Œæˆ‘è¦å»æ›´æ–°ç•Œé¢äº†ï¼`</span>)<br><span class="hljs-comment">// return delete target[propName]</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target,propName)<br>&#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="5-reactiveå¯¹æ¯”ref"><a href="#5-reactiveå¯¹æ¯”ref" class="headerlink" title="5.reactiveå¯¹æ¯”ref"></a>5.reactiveå¯¹æ¯”ref</h5><p>ä»å®šä¹‰æ•°æ®è§’åº¦å¯¹æ¯”</p><ul><li><p>refç”¨æ¥å®šä¹‰ï¼šåŸºæœ¬ç±»å‹æ•°æ®</p></li><li><p>reactiveç”¨æ¥å®šä¹‰ï¼šå¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®ã€‚</p></li><li><p>å¤‡æ³¨ï¼šrefä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¯¹è±¡ï¼ˆæˆ–æ•°ç»„ï¼‰ç±»å‹æ•°æ®, å®ƒå†…éƒ¨ä¼šè‡ªåŠ¨é€šè¿‡<strong>reactive</strong>è½¬ä¸ºä»£ç†å¯¹è±¡ã€‚</p></li></ul><p>ä»åŸç†è§’åº¦å¯¹æ¯”</p><ul><li><p>refé€šè¿‡ç±»ä¸­çš„çš„getterä¸setteræ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰ã€‚</p></li><li><p>reactiveé€šè¿‡ä½¿ç”¨Proxyæ¥å®ç°å“åº”å¼ï¼ˆæ•°æ®åŠ«æŒï¼‰, å¹¶é€šè¿‡Reflectæ“ä½œæºå¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚</p></li></ul><p>ä»ä½¿ç”¨è§’åº¦å¯¹æ¯”</p><ul><li><p>refå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®éœ€è¦.valueï¼Œè¯»å–æ•°æ®æ—¶æ¨¡æ¿ä¸­ç›´æ¥è¯»å–ä¸éœ€è¦.valueã€‚</p></li><li><p>reactiveå®šä¹‰çš„æ•°æ®ï¼šæ“ä½œæ•°æ®ä¸è¯»å–æ•°æ®ï¼šå‡ä¸éœ€è¦.valueã€‚</p></li><li><p>reactiveä¹Ÿå¯ä»¥å®šä¹‰åŸºæœ¬ç±»å‹ï¼Œå³æŠŠç”¨åˆ°çš„æ•°æ®å°è£…åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œç„¶åç”¨reactiveå°è£…æˆå“åº”å¼çš„å¯¹è±¡ã€‚</p></li></ul><p><a href="https://postimg.cc/k6X7FfDx"><img src="https://i.postimg.cc/LXjhSWp0/image.png" alt="image.png"></a></p><h5 id="6-setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹"><a href="#6-setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹" class="headerlink" title="6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹"></a>6.setupçš„ä¸¤ä¸ªæ³¨æ„ç‚¹</h5><ul><li><p>setupæ‰§è¡Œçš„æ—¶æœº</p><p>åœ¨beforeCreateä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œthisæ˜¯undefinedã€‚</p></li><li><p>setupçš„å‚æ•°</p><p>å°†setupæ¥æ”¶çš„ä¸¤ä¸ªå‚æ•°(props, context)æ‰“å°åœ¨æ§åˆ¶å°ï¼Œå¦‚ä¸‹</p></li></ul><p><a href="https://postimg.cc/mcWYDFhx"><img src="https://i.postimg.cc/HLVB6wgL/image.png" alt="image.png"></a></p><p>  propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§ã€‚</p><p>  contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡</p><pre><code class="hljs">attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ï¼šç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨propsé…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº this.$attrsã€‚slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº this.$slotsã€‚emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº this.$emitã€‚</code></pre><p>æµ‹è¯•ä¸€ä¸‹</p><p>Appç»„ä»¶å’ŒHelloWorldç»„ä»¶</p><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å±æ€§å‚æ•°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span> <span class="hljs-attr">msg</span>=<span class="hljs-string">&quot;ä½ å¥½å•Š&quot;</span> <span class="hljs-attr">school</span>=<span class="hljs-string">&quot;ABC&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">HelloWorld</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">HelloWorld</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/HelloWorld.vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">HelloWorld</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; p.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@vue/reactivity&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HelloWorld&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">props</span>: [<span class="hljs-string">&#x27;msg&#x27;</span>], <span class="hljs-comment">// ä¸å†™å…¨ä¼šæŠ¥è­¦å‘Š</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, context</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> p = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;trumen&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;props-----&#x27;</span>,props);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>()</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;context.attrs-----&#x27;</span>, context.<span class="hljs-property">attrs</span>)</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123; p &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>è‡ªå®šä¹‰äº‹ä»¶:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span> @<span class="hljs-attr">hello</span>=<span class="hljs-string">&quot;showHelloMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">HelloWorld</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">HelloWorld</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/HelloWorld.vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">showHelloMsg</span>(<span class="hljs-params">value</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ä½ å¥½å•Šï¼Œä½ è§¦å‘äº†helloäº‹ä»¶ï¼Œæˆ‘æ”¶åˆ°çš„å‚æ•°æ˜¯:<span class="hljs-subst">$&#123;value&#125;</span>ï¼`</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123; showHelloMsg &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">HelloWorld</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; p.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;test&quot;</span>&gt;</span>æµ‹è¯•è§¦å‘ä¸€ä¸‹HelloWorldç»„ä»¶çš„Helloäº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@vue/reactivity&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;HelloWorld&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">emits</span>:[<span class="hljs-string">&quot;hello&quot;</span>], <span class="hljs-comment">// ä¸å†™èƒ½æ‰§è¡Œï¼Œä½†æ˜¯ä¼šæŠ¥è­¦å‘Š</span></span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, context</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> p = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;trumen&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      context.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;**å­ç»„ä»¶çš„ä¿¡æ¯**&quot;</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123; p,test &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>ã€å¦‚æœä¸ç”¨emitsé€‰é¡¹æ¥æ”¶ï¼Œä¼šæŠ¥è­¦å‘Šã€‘</p><p><strong>æ’æ§½</strong></p><p>é»˜è®¤æ’æ§½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>trumenï¼Œä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">HelloWorld</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; p.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>$slotä¸­çš„å€¼<br>ä¼ å…¥ï¼š<br><a href="https://postimg.cc/KRKfjqTZ"><img src="https://i.postimg.cc/gksTM1k6/image.png" alt="image.png"></a><br>æœªä¼ å…¥ï¼š<br><a href="https://postimg.cc/HJt4RFqt"><img src="https://i.postimg.cc/zfstbrp4/image.png" alt="image.png"></a></p><p>å…·åæ’æ§½</p><p>åœ¨vue3ä¸­æ¨èä½¿ç”¨v-slot<br><a href="https://postimg.cc/14b6C9gQ"><img src="https://i.postimg.cc/RVZR0h4N/image.png" alt="image.png"></a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>åšä¸»çš„ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">HelloWorld</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:ykMsg</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>trumenï¼Œä½ å¥½<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">HelloWorld</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123; p.name &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;trumen&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><h5 id="7-è®¡ç®—å±æ€§ä¸ç›‘è§†"><a href="#7-è®¡ç®—å±æ€§ä¸ç›‘è§†" class="headerlink" title="7.è®¡ç®—å±æ€§ä¸ç›‘è§†"></a>7.è®¡ç®—å±æ€§ä¸ç›‘è§†</h5><p><strong>computed</strong>å‡½æ•°</p><ul><li><p>ä¸Vue2.xä¸­computedé…ç½®åŠŸèƒ½ä¸€è‡´</p></li><li><p>å†™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123;computed&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>    ...<br><span class="hljs-comment">//è®¡ç®—å±æ€§ â€”â€” ç®€å†™</span><br>    <span class="hljs-keyword">let</span> fullName = <span class="hljs-title function_">computed</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-keyword">return</span> person.<span class="hljs-property">firstName</span> + <span class="hljs-string">&#x27;-&#x27;</span> + person.<span class="hljs-property">lastName</span><br>    &#125;)<br>    <span class="hljs-comment">//è®¡ç®—å±æ€§ â€”â€” å®Œæ•´</span><br>    <span class="hljs-keyword">let</span> fullName = <span class="hljs-title function_">computed</span>(&#123;<br>        <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> person.<span class="hljs-property">firstName</span> + <span class="hljs-string">&#x27;-&#x27;</span> + person.<span class="hljs-property">lastName</span><br>        &#125;,<br>        <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>)&#123;<br>            <span class="hljs-keyword">const</span> nameArr = value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;-&#x27;</span>)<br>            person.<span class="hljs-property">firstName</span> = nameArr[<span class="hljs-number">0</span>]<br>            person.<span class="hljs-property">lastName</span> = nameArr[<span class="hljs-number">1</span>]<br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p><strong>watch</strong>å‡½æ•°</p><ul><li><p>ä¸Vue2.xä¸­watché…ç½®åŠŸèƒ½ä¸€è‡´</p></li><li><p>ä¸¤ä¸ªå°â€œå‘â€ï¼š</p><ul><li><p>ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®æ—¶ï¼šoldValueæ— æ³•æ­£ç¡®è·å–ã€å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†ï¼ˆdeepé…ç½®å¤±æ•ˆï¼‰ã€‚</p></li><li><p>ç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­æŸä¸ªå±æ€§æ—¶ï¼šdeepé…ç½®æœ‰æ•ˆã€‚</p></li></ul></li></ul><p>Â·æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æƒ…å†µä¸€ï¼šç›‘è§†refå®šä¹‰çš„å“åº”å¼æ•°æ®</span><br><span class="hljs-title function_">watch</span>(sum,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;sumå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>&#125;)<br></code></pre></td></tr></table></figure><p>(person.value)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">å¦‚æœç”¨refå®šä¹‰äº†ä¸€ä¸ªå¯¹è±¡<br><span class="hljs-title function_">watch</span>(person.<span class="hljs-property">value</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;) <br></code></pre></td></tr></table></figure><p>æˆ–è€…è¿™æ ·(deep:true)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">watch</span>(person,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>&#125;) <br></code></pre></td></tr></table></figure><p>æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ®<br>ï¼ˆç”¨æ•°ç»„ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æƒ…å†µäºŒï¼šç›‘è§†å¤šä¸ªrefå®šä¹‰çš„å“åº”å¼æ•°æ®</span><br><span class="hljs-title function_">watch</span>([sum,msg],<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;sumæˆ–msgå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;) <br></code></pre></td></tr></table></figure><p>æƒ…å†µä¸‰ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®</p><p>è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™æ— æ³•æ­£ç¡®è·å¾—oldValueï¼ï¼</p><p>è‹¥watchç›‘è§†çš„æ˜¯reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ï¼Œåˆ™å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ç›‘è§†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">watch</span>(person,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">false</span>&#125;) <span class="hljs-comment">//æ­¤å¤„çš„deepé…ç½®ä¸å†å¥æ•ˆ</span><br></code></pre></td></tr></table></figure><p>æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§<br>(ç®­å¤´å‡½æ•°)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æƒ…å†µå››ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸä¸ªå±æ€§</span><br><span class="hljs-title function_">watch</span>(<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;) <br></code></pre></td></tr></table></figure><p>æƒ…å†µäº”ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸäº›å±æ€§<br>(æ•°ç»„ä¸­æ”¾è§ä½“è‚²å‡½æ•°)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æƒ…å†µäº”ï¼šç›‘è§†reactiveå®šä¹‰çš„å“åº”å¼æ•°æ®ä¸­çš„æŸäº›å±æ€§</span><br><span class="hljs-title function_">watch</span>([<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">name</span>],<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;)<br></code></pre></td></tr></table></figure><p>ç‰¹æ®Šæƒ…å†µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ç‰¹æ®Šæƒ…å†µ</span><br><span class="hljs-title function_">watch</span>(<span class="hljs-function">()=&gt;</span>person.<span class="hljs-property">job</span>,<span class="hljs-function">(<span class="hljs-params">newValue,oldValue</span>)=&gt;</span>&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;personçš„jobå˜åŒ–äº†&#x27;</span>,newValue,oldValue)<br>&#125;,&#123;<span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span>&#125;) <span class="hljs-comment">//æ­¤å¤„ç”±äºç›‘è§†çš„æ˜¯reactiveç´ å®šä¹‰çš„å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œæ‰€ä»¥deepé…ç½®æœ‰æ•ˆ</span><br></code></pre></td></tr></table></figure><p><strong>watchEffect</strong>å‡½æ•°</p><ul><li><p>watchçš„å¥—è·¯æ˜¯ï¼šæ—¢è¦æŒ‡æ˜ç›‘è§†çš„å±æ€§ï¼Œä¹Ÿè¦æŒ‡æ˜ç›‘è§†çš„å›è°ƒã€‚</p></li><li><p>watchEffectçš„å¥—è·¯æ˜¯ï¼šä¸ç”¨æŒ‡æ˜ç›‘è§†å“ªä¸ªå±æ€§ï¼Œç›‘è§†çš„å›è°ƒä¸­ç”¨åˆ°å“ªä¸ªå±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªä¸ªå±æ€§ã€‚</p></li><li><p>watchEffectæœ‰ç‚¹åƒcomputedï¼š</p><ul><li><p>ä½†computedæ³¨é‡çš„æ˜¯è®¡ç®—å‡ºæ¥çš„å€¼ï¼ˆå›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼‰ï¼Œæ‰€ä»¥å¿…é¡»è¦å†™è¿”å›å€¼ã€‚</p></li><li><p>è€ŒwatchEffectæ›´æ³¨é‡çš„æ˜¯è¿‡ç¨‹ï¼ˆå›è°ƒå‡½æ•°çš„å‡½æ•°ä½“ï¼‰ï¼Œæ‰€ä»¥ä¸ç”¨å†™è¿”å›å€¼ã€‚</p></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//watchEffectæ‰€æŒ‡å®šçš„å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒã€‚</span><br><span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">const</span> x1 = sum.<span class="hljs-property">value</span><br>    <span class="hljs-keyword">const</span> x2 = person.<span class="hljs-property">age</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;watchEffecté…ç½®çš„å›è°ƒæ‰§è¡Œäº†&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><h5 id="8-ç”Ÿå‘½å‘¨æœŸ"><a href="#8-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="8.ç”Ÿå‘½å‘¨æœŸ"></a>8.ç”Ÿå‘½å‘¨æœŸ</h5><p><a href="https://postimg.cc/kVtDtScR"><img src="https://i.postimg.cc/nL3mgY92/image.png" alt="image.png"></a></p><p>Vue3.0ä¸­å¯ä»¥ç»§ç»­ä½¿ç”¨Vue2.xä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä½†æœ‰ä¸¤ä¸ªè¢«æ›´åï¼š</p><ul><li><p>beforeDestroyæ”¹åä¸º beforeUnmount</p></li><li><p>destroyedæ”¹åä¸º unmounted</p></li></ul><p>å¯ä»¥ç›´æ¥ä½¿ç”¨å·²é…ç½®é¡¹çš„å½¢å¼ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åˆå¼APIçš„å½¢å¼ä½¿ç”¨ï¼Œå°½é‡ç»Ÿä¸€</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œç»„åˆå¼APIé‡Œçš„é’©å­ä¼šæ¯”é…ç½®é¡¹çš„é’©å­å…ˆæ‰§è¡Œï¼Œç»„åˆå¼APIçš„é’©å­åå­—æœ‰å˜åŒ–</p><p>Vue3.0ä¹Ÿæä¾›äº† Composition API å½¢å¼çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸Vue2.xä¸­é’©å­å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p><ul><li><p>beforeCreate&#x3D;&#x3D;&#x3D;&gt;setup()</p></li><li><p>created&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;setup()</p></li><li><p>beforeMount &#x3D;&#x3D;&#x3D;&gt;onBeforeMount</p></li><li><p>mounted&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;onMounted</p></li><li><p>beforeUpdate&#x3D;&#x3D;&#x3D;&gt;onBeforeUpdate</p></li><li><p>updated &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;onUpdated</p></li><li><p>beforeUnmount &#x3D;&#x3D;&gt;onBeforeUnmount</p></li><li><p>unmounted &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;onUnmounted</p></li></ul><h5 id="9-è‡ªå®šä¹‰hookå‡½æ•°ï¼ˆé‡ç‚¹ï¼‰"><a href="#9-è‡ªå®šä¹‰hookå‡½æ•°ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="9.è‡ªå®šä¹‰hookå‡½æ•°ï¼ˆé‡ç‚¹ï¼‰"></a>9.è‡ªå®šä¹‰hookå‡½æ•°ï¼ˆé‡ç‚¹ï¼‰</h5><p>ä»€ä¹ˆæ˜¯<strong>hook</strong>ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠsetupå‡½æ•°ä¸­ä½¿ç”¨çš„Composition APIè¿›è¡Œäº†å°è£…ã€‚</p><p>ç±»ä¼¼äºvue2.xä¸­çš„mixinã€‚</p><p>è‡ªå®šä¹‰hookçš„ä¼˜åŠ¿: å¤ç”¨ä»£ç , è®©setupä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p><p>åˆ›å»ºä¸€ä¸ªhooksæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åˆ›å»ºæ–‡ä»¶usePoint.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; reactive, onMounted, onBeforeUnmount &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„æ•°æ®</span><br>  <span class="hljs-keyword">let</span> point = <span class="hljs-title function_">reactive</span>(&#123;<br>    <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>,<br>  &#125;);<br><br>  <span class="hljs-comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„æ–¹æ³•</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">savePoint</span>(<span class="hljs-params">event</span>) &#123;<br>    point.<span class="hljs-property">x</span> = event.<span class="hljs-property">pageX</span>;<br>    point.<span class="hljs-property">y</span> = event.<span class="hljs-property">pageY</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">pageX</span>, event.<span class="hljs-property">pageY</span>);<br>  &#125;<br><br>  <span class="hljs-comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span><br>  <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, savePoint);<br>  &#125;);<br><br>  <span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, savePoint);<br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> point;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ç§ä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯HelloWorldç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰ç‚¹å‡»æ—¶é¼ æ ‡çš„åæ ‡ä¸ºï¼šxï¼š&#123;&#123;point.x&#125;&#125;ï¼Œyï¼š&#123;&#123;point.y&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> usePoint <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../hooks/usePoint&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> point = <span class="hljs-title function_">usePoint</span>()</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">return</span> &#123;point&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h5 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h5><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ª ref å¯¹è±¡ï¼Œå…¶valueå€¼æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ã€‚</p><p>è¯­æ³•ï¼šconst name &#x3D; toRef(person,â€™nameâ€™)</p><p>åº”ç”¨:   è¦å°†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å•ç‹¬æä¾›ç»™å¤–éƒ¨ä½¿ç”¨æ—¶ã€‚</p><p>æ‰©å±•ï¼štoRefsä¸toRefåŠŸèƒ½ä¸€è‡´ï¼Œä½†å¯ä»¥æ‰¹é‡åˆ›å»ºå¤šä¸ª ref å¯¹è±¡ï¼Œè¯­æ³•ï¼štoRefs(person)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>&#123;&#123;person&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å§“åï¼š&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>è–ªèµ„ï¼š&#123;&#123;job.j1.salary&#125;&#125;K<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;name+=&#x27;~&#x27;&quot;</span>&gt;</span>ä¿®æ”¹å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;age++&quot;</span>&gt;</span>å¢é•¿å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;job.j1.salary++&quot;</span>&gt;</span>æ¶¨è–ª<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;ref,reactive,toRef,toRefs&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Demo&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">//æ•°æ®</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">let</span> person = <span class="hljs-title function_">reactive</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">age</span>:<span class="hljs-number">18</span>,</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">job</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">j1</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-attr">salary</span>:<span class="hljs-number">20</span></span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// const name1 = person.name</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// console.log(&#x27;%%%&#x27;,name1)</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// const name2 = toRef(person,&#x27;name&#x27;)</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// console.log(&#x27;####&#x27;,name2)</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> x = <span class="hljs-title function_">toRefs</span>(person)</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;******&#x27;</span>,x)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">person,</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// name:toRef(person,&#x27;name&#x27;),</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// age:toRef(person,&#x27;age&#x27;),</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-comment">// salary:toRef(person.job.j1,&#x27;salary&#x27;),</span></span></span><br><span class="language-javascript"><span class="language-xml">...<span class="hljs-title function_">toRefs</span>(person)</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml">&#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="5-å…¶å®ƒ-Composition-API"><a href="#5-å…¶å®ƒ-Composition-API" class="headerlink" title="5.å…¶å®ƒ Composition API"></a>5.å…¶å®ƒ Composition API</h3><h4 id="1-shallowReactive-ä¸-shallowRef"><a href="#1-shallowReactive-ä¸-shallowRef" class="headerlink" title="1. shallowReactive ä¸ shallowRef"></a>1. shallowReactive ä¸ shallowRef</h4><p>shallowReactiveï¼šåªå¤„ç†å¯¹è±¡æœ€å¤–å±‚å±æ€§çš„å“åº”å¼ï¼ˆæµ…å“åº”å¼ï¼‰ã€‚</p><p>shallowRefï¼šåªå¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„å“åº”å¼å¤„ç†ã€‚</p><p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨?</p><p>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– &#x3D;&#x3D;&#x3D;&gt; shallowReactiveã€‚</p><p>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œåç»­åŠŸèƒ½ä¸ä¼šä¿®æ”¹è¯¥å¯¹è±¡ä¸­çš„å±æ€§ï¼Œè€Œæ˜¯ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ &#x3D;&#x3D;&#x3D;&gt; shallowRefã€‚</p><h4 id="2-readonly-ä¸-shallowReadonly"><a href="#2-readonly-ä¸-shallowReadonly" class="headerlink" title="2. readonly ä¸ shallowReadonly"></a>2. readonly ä¸ shallowReadonly</h4><p>readonly: è®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæ·±åªè¯»ï¼‰ã€‚</p><p>shallowReadonlyï¼šè®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæµ…åªè¯»ï¼‰ã€‚ã€æ·±å±‚æ¬¡å¯ä¿®æ”¹ã€‘</p><p>åº”ç”¨åœºæ™¯: ä¸å¸Œæœ›æ•°æ®è¢«ä¿®æ”¹æ—¶ã€‚</p><h4 id="3-toRaw-ä¸-markRaw"><a href="#3-toRaw-ä¸-markRaw" class="headerlink" title="3. toRaw ä¸ markRaw"></a>3. toRaw ä¸ markRaw</h4><p>toRaw</p><ul><li><p>ä½œç”¨ï¼šå°†ä¸€ä¸ªç”±reactiveç”Ÿæˆçš„å“åº”å¼å¯¹è±¡è½¬ä¸ºæ™®é€šå¯¹è±¡ã€‚</p></li><li><p>ä½¿ç”¨åœºæ™¯ï¼šç”¨äºè¯»å–å“åº”å¼å¯¹è±¡å¯¹åº”çš„æ™®é€šå¯¹è±¡ï¼Œå¯¹è¿™ä¸ªæ™®é€šå¯¹è±¡çš„æ‰€æœ‰æ“ä½œï¼Œä¸ä¼šå¼•èµ·é¡µé¢æ›´æ–°ã€‚ã€ä¸éœ€è¦è¿½è¸ªï¼Œä¸éœ€è¦æ›´æ–°UIç•Œé¢ã€‘</p></li></ul><p>markRaw</p><ul><li>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šå†æˆä¸ºå“åº”å¼å¯¹è±¡ã€‚</li></ul><p>*åº”ç”¨åœºæ™¯:</p><p>  *æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»åº“ç­‰ã€‚</p><ul><li>å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡å“åº”å¼è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚</li></ul><h4 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4. customRef"></a>4. customRef</h4><ul><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶ã€‚</p></li><li><p>å®ç°é˜²æŠ–æ•ˆæœ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;keyWord&quot;</span> /&gt;</span></span><br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123; keyWord &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; customRef &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//è‡ªå®šä¹‰ä¸€ä¸ªrefâ€”â€”åä¸ºï¼šmyRef</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">myRef</span>(<span class="hljs-params">value, delay</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">let</span> timer;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">return</span> <span class="hljs-title function_">customRef</span>(<span class="hljs-function">(<span class="hljs-params">track, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººä»myRefè¿™ä¸ªå®¹å™¨ä¸­è¯»å–æ•°æ®äº†ï¼Œæˆ‘æŠŠ<span class="hljs-subst">$&#123;value&#125;</span>ç»™ä»–äº†`</span>);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-title function_">track</span>(); <span class="hljs-comment">// é€šçŸ¥Vueè¿½è¸ªvalueçš„å˜åŒ–ï¼ˆæå‰å’Œgetå•†é‡ä¸€ä¸‹ï¼Œè®©ä»–è®¤ä¸ºè¿™ä¸ªvalueæ˜¯æœ‰ç”¨çš„ï¼‰</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-keyword">return</span> value;</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">          <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººæŠŠmyRefè¿™ä¸ªå®¹å™¨ä¸­æ•°æ®æ”¹ä¸ºäº†ï¼š<span class="hljs-subst">$&#123;newValue&#125;</span>`</span>);</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-built_in">clearTimeout</span>(timer);</span></span><br><span class="language-javascript"><span class="language-xml">            timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">              value = newValue;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-title function_">trigger</span>(); <span class="hljs-comment">// é€šçŸ¥Vueå»é‡æ–°è§£ææ¨¡æ¿</span></span></span><br><span class="language-javascript"><span class="language-xml">            &#125;, delay);</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;);</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// let keyWord = ref(&#x27;hello&#x27;) //ä½¿ç”¨Vueæä¾›çš„ref</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> keyWord = <span class="hljs-title function_">myRef</span>(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">500</span>); <span class="hljs-comment">//ä½¿ç”¨ç¨‹åºå‘˜è‡ªå®šä¹‰çš„ref</span></span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123; keyWord &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li></ul><h4 id="5-provide-ä¸-inject"><a href="#5-provide-ä¸-inject" class="headerlink" title="5. provide ä¸ inject"></a>5. provide ä¸ inject</h4><p>ä½œç”¨ï¼šå®ç°ç¥–ä¸åä»£ç»„ä»¶é—´é€šä¿¡</p><p>å¥—è·¯ï¼šçˆ¶ç»„ä»¶æœ‰ä¸€ä¸ª provide é€‰é¡¹æ¥æä¾›æ•°æ®ï¼Œåä»£ç»„ä»¶æœ‰ä¸€ä¸ª inject é€‰é¡¹æ¥å¼€å§‹ä½¿ç”¨è¿™äº›æ•°æ®</p><p>å…·ä½“å†™æ³•ï¼š</p><p>ç¥–ç»„ä»¶ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>)&#123;<br>......<br>    <span class="hljs-keyword">let</span> car = <span class="hljs-title function_">reactive</span>(&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;å¥”é©°&#x27;</span>,<span class="hljs-attr">price</span>:<span class="hljs-string">&#x27;40ä¸‡&#x27;</span>&#125;)<br>    <span class="hljs-title function_">provide</span>(<span class="hljs-string">&#x27;car&#x27;</span>,car) <span class="hljs-comment">// ç»™è‡ªå·±çš„åä»£ç»„ä»¶ä¼ é€’æ•°æ®</span><br>    ......<br>&#125;<br></code></pre></td></tr></table></figure><p>åä»£ç»„ä»¶ä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">setup</span>(<span class="hljs-params">props,context</span>)&#123;<br>......<br>    <span class="hljs-keyword">const</span> car = <span class="hljs-title function_">inject</span>(<span class="hljs-string">&#x27;car&#x27;</span>) <span class="hljs-comment">// æ‹¿åˆ°ç¥–å…ˆçš„æ•°æ®</span><br>    <span class="hljs-keyword">return</span> &#123;car&#125;<br>......<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#6-å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="6. å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a>6. å“åº”å¼æ•°æ®çš„åˆ¤æ–­</h4><p>isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡</p><p>isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactive åˆ›å»ºçš„å“åº”å¼ä»£ç†</p><p>isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± readonly åˆ›å»ºçš„åªè¯»ä»£ç†</p><p>isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± reactive æˆ–è€… readonly æ–¹æ³•åˆ›å»ºçš„ä»£ç†</p><p>Composition API å·®ä¸å¤šå°±ä»‹ç»å®Œäº†ï¼Œæ­¤æ—¶å›å»å†çœ‹é‚£ä¸ªåŠ¨å›¾ï¼Œå°±ä¼šæ„Ÿè§‰Vue3çœŸé¦™ï¼</p><h3 id="6-æ–°çš„ç»„ä»¶"><a href="#6-æ–°çš„ç»„ä»¶" class="headerlink" title="6.æ–°çš„ç»„ä»¶"></a>6.æ–°çš„ç»„ä»¶</h3><h4 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1. Fragment"></a>1. Fragment</h4><p>åœ¨Vue2ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</p><p>åœ¨Vue3ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ªFragmentè™šæ‹Ÿå…ƒç´ ä¸­</p><p>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</p><h4 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2. Teleport"></a>2. Teleport</h4><p>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„ç»„ä»¶htmlç»“æ„ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;teleport to=<span class="hljs-string">&quot;ç§»åŠ¨ä½ç½®&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mask&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/teleport&gt;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸€ä¸ªå¼¹çª—ç»„ä»¶ä¸ºç¤ºä¾‹æ¥çœ‹çœ‹</p><p>æˆ‘ä»¬æ¥ä¸ªåµŒå¥—çš„ç›’å­ï¼Œç„¶ååœ¨æœ€é‡Œé¢çš„ç›’å­è®¾ç½®å¼¹çª—</p><p><strong>&gt;&gt;App</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Appç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/Child&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">Child</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.app</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: gray;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Child</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;child&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Childç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Son</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Son&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Child&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">Son</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.child</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: skyblue;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Son</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;son&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Sonç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Dialog</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Dialog</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Dialog.vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Son&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">Dialog</span> &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.son</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">position</span>: relative;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: orange;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><strong>&gt;&gt;Dialog</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = true&quot;</span>&gt;</span>ç‚¹æˆ‘å¼¹ä¸ªçª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mask&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Dialog&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> isShow = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123; isShow &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.mask</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"><span class="hljs-selector-class">.dialog</span> &#123;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">position</span>: absolute;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">text-align</span>: center;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;</span></span><br><span class="language-css"><span class="language-xml">  <span class="hljs-attribute">background-color</span>: green;</span></span><br><span class="language-css"><span class="language-xml">&#125;</span></span><br><span class="language-css"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>æˆ‘æ•…æ„ç»™æœ€é‡Œé¢çš„ç›’å­åŠ äº†å®šä½ï¼Œå› ä¸ºç›¸å¯¹å®šä½ä¼šæ‰¾ä»–å¤–å±‚æœ€è¿‘çš„å®šä½ç›’å­è¿›è¡Œå®šä½ï¼Œæ‰€ä»¥æ•ˆæœå°±æ˜¯è¿™æ ·äº†ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªå¼¹çª—æ˜¯åœ¨bodyä¸‹å‘ˆç°çš„</p><p>æˆ‘ä»¬åœ¨Dialogç»„ä»¶ä¸­åŠ ä¸€ä¸ªteleportæ ‡ç­¾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = true&quot;</span>&gt;</span>ç‚¹æˆ‘å¼¹ä¸ªçª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">teleport</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;body&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mask&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>ä¸€äº›å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">teleport</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¥½äº†</p><p><a href="https://postimg.cc/6Trbmwbc"><img src="https://i.postimg.cc/mZJxhgQv/image.png" alt="image.png"></a></p><p><a href="https://postimg.cc/CBLCrTRP"><img src="https://i.postimg.cc/76SB6qwk/image.png" alt="image.png"></a></p><h4 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3. Suspense"></a>3. Suspense</h4><p>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><p>å¼‚æ­¥å¼•å…¥ç»„ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123;defineAsyncComponent&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./components/Child.vue&#x27;</span>))<br></code></pre></td></tr></table></figure><p> ä½¿ç”¨SuspenseåŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½defaultä¸ fallback</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æˆ‘æ˜¯Appç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:default</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-slot:fallback</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>åŠ è½½ä¸­.....<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>defaultï¼šå°±æ˜¯ç»„ä»¶è¦æ˜¾ç¤ºçš„å†…å®¹</p><p>fallbackï¼šå°±æ˜¯ç»„ä»¶æ²¡åŠ è½½å®Œå…¨çš„â€œå¤‡èƒâ€</p><p>å»¶è¿ŸåŠ è½½ä»¥æµ‹è¯•æ–¹æ³•1ï¼šæ§åˆ¶å°è°ƒæ•´ç½‘é€Ÿslow</p><p>å»¶è¿ŸåŠ è½½ä»¥æµ‹è¯•æ–¹æ³•2ï¼špromise</p><h3 id="7-å…¶ä»–"><a href="#7-å…¶ä»–" class="headerlink" title="7.å…¶ä»–"></a>7.å…¶ä»–</h3><h4 id="1-å…¨å±€APIçš„è½¬ç§»"><a href="#1-å…¨å±€APIçš„è½¬ç§»" class="headerlink" title="1.å…¨å±€APIçš„è½¬ç§»"></a>1.å…¨å±€APIçš„è½¬ç§»</h4><p>Vue 2.x æœ‰è®¸å¤šå…¨å±€ API å’Œé…ç½®ã€‚</p><p>ä¾‹å¦‚ï¼šæ³¨å†Œå…¨å±€ç»„ä»¶ã€æ³¨å†Œå…¨å±€æŒ‡ä»¤ç­‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//æ³¨å†Œå…¨å±€ç»„ä»¶</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;MyButton&#x27;</span>, &#123;<br>  <span class="hljs-attr">data</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span><br>  &#125;),<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span><br>&#125;)<br><br><span class="hljs-comment">//æ³¨å†Œå…¨å±€æŒ‡ä»¤</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-attr">inserted</span>: <span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-title function_">focus</span>()<br>&#125;<br></code></pre></td></tr></table></figure><p>Vue3.0ä¸­å¯¹è¿™äº›APIåšå‡ºäº†è°ƒæ•´ï¼š</p><p>å°†å…¨å±€çš„APIï¼Œå³ï¼šVue.xxxè°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ï¼ˆappï¼‰ä¸Š</p><p><a href="https://postimg.cc/jwLcdYRW"><img src="https://i.postimg.cc/gJKTsG5K/image.png" alt="image.png"></a></p><h4 id="2-å…¶ä»–æ”¹å˜"><a href="#2-å…¶ä»–æ”¹å˜" class="headerlink" title="2.å…¶ä»–æ”¹å˜"></a>2.å…¶ä»–æ”¹å˜</h4><h5 id="1-dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°"><a href="#1-dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°" class="headerlink" title="1.dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°"></a>1.dataé€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</h5><h5 id="2-è¿‡æ¸¡ç±»åçš„æ›´æ”¹"><a href="#2-è¿‡æ¸¡ç±»åçš„æ›´æ”¹" class="headerlink" title="2.è¿‡æ¸¡ç±»åçš„æ›´æ”¹"></a>2.è¿‡æ¸¡ç±»åçš„æ›´æ”¹</h5><p>Vue2.xå†™æ³•</p><p>.v-enter,<br>.v-leave-to {<br>  opacity: 0;<br>}</p><p>.v-leave,<br>.v-enter-to {<br>  opacity: 1;<br>}</p><p>Vue3.xå†™æ³•</p><p>.v-enter-from,<br>.v-leave-to {<br>  opacity: 0;<br>}</p><p>.v-leave-from,<br>.v-enter-to {<br>  opacity: 1;<br>}</p><h5 id="3-ç§»é™¤keyCodeä½œä¸º-v-on-çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒconfig-keyCodes"><a href="#3-ç§»é™¤keyCodeä½œä¸º-v-on-çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒconfig-keyCodes" class="headerlink" title="3.ç§»é™¤keyCodeä½œä¸º v-on çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒconfig.keyCodes"></a>3.ç§»é™¤keyCodeä½œä¸º v-on çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒconfig.keyCodes</h5><h5 id="4-ç§»é™¤v-on-nativeä¿®é¥°ç¬¦"><a href="#4-ç§»é™¤v-on-nativeä¿®é¥°ç¬¦" class="headerlink" title="4.ç§»é™¤v-on.nativeä¿®é¥°ç¬¦"></a>4.ç§»é™¤v-on.nativeä¿®é¥°ç¬¦</h5><ul><li><p>åœ¨ Vue 3.x v-on çš„ .native ä¿®é¥°ç¬¦å°†è¢«ç§»é™¤ã€‚</p></li><li><p>Vue 2.x çš„ .native ä¿®é¥°ç¬¦</p><ul><li>åœ¨ Vue 2.xï¼Œå¦‚æœæƒ³è¦åœ¨ä¸€ä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šç›´æ¥ç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨v-on çš„ .native ä¿®é¥°ç¬¦ã€‚</li></ul></li></ul><p><base-input v-on:focus.native="onFocus"></base-input></p><ul><li>Vue 3.x å–æ¶ˆ .native ä¿®é¥°ç¬¦</li></ul><p>.native ä¿®é¥°ç¬¦åœ¨ Vue 3.x å·²ç»ç§»é™¤æ‰äº†ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œåœ¨æ–°å¢çš„ emits é€‰é¡¹ä¸­å®šä¹‰å½“å‰ç»„ä»¶çœŸæ­£è§¦å‘çš„äº‹ä»¶ï¼ˆå³ï¼Œç»„ä»¶äº‹ä»¶ï¼‰ã€‚æ­¤å¤–ï¼ŒVue ç°åœ¨å°†æ‰€æœ‰æœªåœ¨ç»„ä»¶emits é€‰é¡¹ä¸­å®šä¹‰çš„äº‹ä»¶ä½œä¸ºåŸç”Ÿäº‹ä»¶æ·»åŠ åˆ°å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸­ï¼ˆé™¤éå­ç»„ä»¶é€‰é¡¹ä¸­è®¾ç½®äº† inheritAttrs: falseï¼‰ã€‚</p><p><my-component  v-on:close="handleComponentEvent"  v-on:click="handleNativeClickEvent"/></p><p>MyComponent.vue</p><template>    <div>        <button v-on:click="$emit('click')">click</button>        <button v-on:click="$emit('close')">close</button>    </div></template><script>  export default {    emits: ['close']  }</script><p>ä¸Šé¢ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ï¼šclickäº‹ä»¶ä¼šè¢«è‡ªåŠ¨æ·»åŠ åˆ°<div>ä¸­ï¼Œæ‰€ä»¥å½“å­ç»„ä»¶è¢«ç‚¹å‡»æ—¶ï¼Œå°±ä¼šè§¦å‘clickäº‹ä»¶ã€‚</p><p>è‹¥æ”¹æˆè¿™æ ·ï¼š</p><template>    <div>        <button v-on:click="$emit('click')">click</button>        <button v-on:click="$emit('close')">close</button>    </div></template><script>  export default {    emits: ['close', 'click']  }</script><p>åˆ™clickäº‹ä»¶ä¸ä¼šè¢«æ·»åŠ ç»™<div>ã€‚</p><p>å¼ºçƒˆå»ºè®®ç»„ä»¶ä¸­ä½¿ç”¨çš„æ‰€æœ‰é€šè¿‡emitè§¦å‘çš„eventéƒ½åœ¨emitsä¸­å£°æ˜ã€‚</p><h5 id="5-ç§»é™¤è¿‡æ»¤å™¨ï¼ˆfilterï¼‰"><a href="#5-ç§»é™¤è¿‡æ»¤å™¨ï¼ˆfilterï¼‰" class="headerlink" title="5.ç§»é™¤è¿‡æ»¤å™¨ï¼ˆfilterï¼‰"></a>5.ç§»é™¤è¿‡æ»¤å™¨ï¼ˆfilterï¼‰</h5><p>è¿‡æ»¤å™¨è™½ç„¶è¿™çœ‹èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†å®ƒéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰è¯­æ³•ï¼Œæ‰“ç ´å¤§æ‹¬å·å†…è¡¨è¾¾å¼æ˜¯ â€œåªæ˜¯ JavaScriptâ€ çš„å‡è®¾ï¼Œè¿™ä¸ä»…æœ‰å­¦ä¹ æˆæœ¬ï¼Œè€Œä¸”æœ‰å®ç°æˆæœ¬ï¼å»ºè®®ç”¨æ–¹æ³•è°ƒç”¨æˆ–è®¡ç®—å±æ€§å»æ›¿æ¢è¿‡æ»¤å™¨ã€‚</p><p>å‚è€ƒ</p><p>Vue3å®˜æ–¹æ–‡æ¡£ <a href="https://cn.vuejs.org/">Vue3</a><br>Viteå®˜æ–¹æ–‡æ¡£ <a href="https://cn.vitejs.dev/">Vite</a><br>Vue-cliå®˜æ–¹æ–‡æ¡£ <a href="https://cli.vuejs.org/zh/">Vue-cli</a><br>å°šç¡…è°·Vue3è§†é¢‘ <a href="https://www.bilibili.com/video/BV1Zy4y1K7SH/?p=136&vd_source=366fdac7817f82df3dfc2cfe3da385cf">vue3-video</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Vue3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸŸVue2-Study</title>
    <link href="/2022/11/01/Vue2-Study/"/>
    <url>/2022/11/01/Vue2-Study/</url>
    
    <content type="html"><![CDATA[<p><img src="https://static.vue-js.com/6280b990-ff19-11ea-85f6-6fac77c0c9b3.png" alt="Vue3"></p><h1 id="vueæ ¸å¿ƒ"><a href="#vueæ ¸å¿ƒ" class="headerlink" title="vueæ ¸å¿ƒ"></a>vueæ ¸å¿ƒ</h1><h2 id="vueç®€ä»‹"><a href="#vueç®€ä»‹" class="headerlink" title="vueç®€ä»‹"></a>vueç®€ä»‹</h2><pre><code class="hljs">    â—‹ æ¦‚å¿µï¼š    åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼ JavaScript æ¡†æ¶    â—‹ ç‰¹ç‚¹ï¼š        Â§ é‡‡ç”¨ç»„ä»¶åŒ–æ¨¡å¼ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ã€ä¸”è®©ä»£ç æ›´å¥½ç»´æŠ¤        Â§ å£°æ˜å¼ç¼–ç ï¼Œè®©ç¼–ç äººå‘˜æ— éœ€ç›´æ¥æ“ä½œDOMï¼Œæé«˜å¼€å‘æ•ˆç‡        Â§ ä½¿ç”¨è™šæ‹ŸDOM+ä¼˜ç§€çš„Diffç®—æ³•ï¼Œå°½é‡å¤ç”¨DOMèŠ‚ç‚¹    â—‹ éœ€æŒæ¡åŸºç¡€ï¼š        Â§ ES6è¯­æ³•è§„èŒƒ        Â§ ES6æ¨¡å—åŒ–        Â§ åŒ…ç®¡ç†å™¨ï¼ˆnpmï¼‰        Â§ åŸå‹ã€åŸå‹é“¾        Â§ æ•°ç»„å¸¸ç”¨æ–¹æ³•        Â§ axios        Â§ Promise</code></pre><h2 id="vueå®‰è£…"><a href="#vueå®‰è£…" class="headerlink" title="vueå®‰è£…"></a>vueå®‰è£…</h2><pre><code class="hljs">    â—‹ ä¸‹è½½vue.jså¹¶å¼•å…¥    https://cn.vuejs.org/v2/guide/#%E8%B5%B7%E6%AD%A5        â—‹ å®‰è£…vue Devtools        (è®¾ç½®å…è®¸è®¿é—®æ–‡ä»¶åœ°å€)        â—‹ å¼€å‘è€…æ¨¡å¼è°ƒæ•´        </code></pre><h2 id="Vueåˆè¯†"><a href="#Vueåˆè¯†" class="headerlink" title="Vueåˆè¯†"></a>Vueåˆè¯†</h2><p>Live serveræ‰“å¼€å½“å‰æ‰€å¤„é¡µé¢ã€‚é€‰ä¸­çš„ä¸€ç¬é—´ï¼Œåœ¨æœ¬æœº5500çš„ç«¯å£å·ä¸Šå¼€é€šä¸€å°å†…ç½®çš„å°æœåŠ¡å™¨ï¼Œå¹¶ä¸”æŠŠæ•´ä¸ªå·¥ç¨‹é‡Œçš„æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½ä½œä¸ºè¿™å°æœåŠ¡å™¨çš„æ ¹èµ„æºå»ä½¿ç”¨<br>    æ³¨ï¼š<br>            è¦å®‰è£…live serveræ‰èƒ½æŠ¥é”™<br>        a. æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼›<br>        b. rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼›<br>        c. rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼›<br>        d. å®¹å™¨å’ŒVueå®ä¾‹å¯¹è±¡å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œå³ä¸€ä¸ªå®¹å™¨åªèƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„Vueï¼Œä¸€ä¸ªVueåªèƒ½æ‰¾ä¸€ä¸ªå®¹å™¨ï¼›<br>        e. å®é™…å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼›<br>        f. ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼›<br>        g. ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¼šè‡ªåŠ¨æ›´æ–°<br>        jsè¡¨è¾¾å¼ vs jsä»£ç ï¼ˆjsè¯­å¥ï¼‰</p><pre><code class="hljs">    â—‹ elçš„ä¸¤ç§å†™æ³•        Â§ ä¸€ã€new vueæ—¶é…ç½®elå±æ€§                i. ä¹Ÿå¯å†™æˆel:document.getElementById(&#39;root&#39;)        ii. elç”¨äºæŒ‡å®šå½“å‰vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ï¼Œå€¼é€šå¸¸ä¸ºcssé€‰æ‹©å™¨æ ·å¼å­—ç¬¦ä¸²        iii. dataç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ•°æ®ä¾›elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨ï¼Œå€¼æˆ‘ä»¬æš‚æ—¶å…ˆå†™æˆä¸€ä¸ªå¯¹è±¡        iv. ä¸ç”¨å†™ä¸€ä¸ªå˜é‡å»æ¥æ”¶        Â§ äºŒã€å…ˆåˆ›å»ºVueå®ä¾‹ï¼Œéšåé€šè¿‡v.$mount(&#39;#root&#39;)æŒ‡å®šelçš„å€¼            â—‹ dataçš„ä¸¤ç§å†™æ³•        Â§ ä¸€ã€å¯¹è±¡å¼                Â§ äºŒã€å‡½æ•°å¼                æ³¨ï¼š            â–¡ åç»­åº”ç”¨ç»„ä»¶ï¼Œdataå¿…é¡»ä½¿ç”¨å‡½æ•°å½¢å¼ï¼Œè´Ÿè´£ä¼šæŠ¥é”™ï¼›            â–¡ ç”±vueç®¡ç†çš„å‡½æ•°ï¼Œä¸€å®šä¸è¦å†™æˆç®­å¤´å‡½æ•°ï¼Œä¸€æ—¦å†™æˆç®­å¤´å‡½æ•°ï¼Œthisçš„æŒ‡å‘å°±ä¼šä¸ºwindowï¼Œè‹¥å†™æˆæ™®é€šå‡½æ•°ï¼Œthisçš„æŒ‡å‘ä¸ºvueå®ä¾‹å¯¹è±¡    â—‹ MVVMæ¨¡å‹        Â§ M:æ¨¡å‹(Model) ï¼šå¯¹åº” data ä¸­çš„æ•°æ®        Â§ Vï¼šè§†å›¾(View) ï¼šæ¨¡        Â§ VMï¼šè§†å›¾æ¨¡å‹(ViewModel) ï¼š Vue å®ä¾‹å¯¹è±¡             æ³¨ï¼š        Â§ dataä¸­æ‰€æœ‰çš„å±æ€§ï¼Œæœ€åéƒ½å‡ºç°åœ¨vmèº«ä¸Š        Â§ vmèº«ä¸Šæ‰€æœ‰çš„å±æ€§ä»¥åŠvueåŸå‹ä¸Šæ‰€æœ‰çš„å±æ€§ï¼Œåœ¨Vueæ¨¡æ¿ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨                        â€¢ æ¨¡æ¿è¯­æ³•    â—‹ æ’å€¼è¯­æ³•ï¼ˆåŒå¤§æ‹¬å·è¡¨è¾¾å¼ï¼‰        Â§ åŠŸèƒ½ï¼šç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹        Â§ è¯­æ³•: &#123;&#123;xxx&#125;&#125; ï¼Œxxxx æ˜¯jsè¡¨è¾¾å¼ï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­æ‰€æœ‰å±æ€§    â—‹ æŒ‡ä»¤è¯­æ³•        Â§ åŠŸèƒ½ï¼šè§£ææ ‡ç­¾å±æ€§ã€è§£ææ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶        Â§ ä¸¾ä¾‹ï¼šv-bind:href = &#39;xxxx&#39; ï¼Œç®€å†™ä¸ºï¼š:href=â€œxxxâ€ï¼Œxxxx ä¼šä½œä¸º js è¡¨è¾¾å¼è¢«è§£æï¼Œä¸”å¯ä»¥ç›´æ¥è¯»å–åˆ°dataä¸­æ‰€æœ‰å±æ€§        Â§ è¯´æ˜ï¼šVue ä¸­æœ‰æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œä¸”å½¢å¼éƒ½æ˜¯v-ï¼Ÿï¼Ÿï¼Ÿï¼Œæ­¤å¤„åªæ˜¯æ‹¿v-bindä¸¾ä¾‹å­        â€¢ æ•°æ®ç»‘å®š    â—‹ å•å‘æ•°æ®ç»‘å®šï¼ˆv-bindï¼‰æ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢    â—‹ åŒå‘æ•°æ®ç»‘å®šï¼ˆv-modelï¼‰æ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘data    æ³¨ï¼š        Â§ åŒå‘ç»‘å®šä¸€èˆ¬éƒ½åº”ç”¨äºè¡¨å•ç±»å…ƒç´ ä¸Šï¼ˆå¦‚ï¼šinputã€selectç­‰ï¼‰        Â§ v-modelï¼švalueå¯ä»¥ç®€å†™ä¸ºv-modelï¼Œå› ä¸ºv-modelé»˜è®¤æ”¶é›†çš„å°±æ˜¯valueçš„å€¼        â€¢ æ•°æ®ä»£ç†    â—‹ Object.defineProperty        â—‹ æ•°æ®ä»£ç†        Â§ æ¦‚å¿µï¼š        é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰                Â§ Vueä¸­çš„æ•°æ®ä»£ç†        é€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œ            â–¡ Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„            æ›´åŠ æ–¹ä¾¿æ“ä½œdataä¸­çš„æ•°æ®            â–¡ åŸºæœ¬åŸç†                Â® é€šè¿‡Object.defineProperty()æŠŠdataä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Š                Â® ä¸ºæ¯ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetterå’Œsetter                Â® åœ¨getterå’Œsetterå†…éƒ¨æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§                                Â® (ä¸ªäººæµ…è°ˆ)ï¼šç¬¬ä¸‰å¤„çš„name,addressæ˜¯ä¸ºäº†ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨ä¾‹å¦‚â€œnameâ€ï¼Œè¿™æ ·çš„è€Œä¸å¿…ä½¿ç”¨_data.name;                                            â€¢ äº‹ä»¶å¤„ç†    â—‹ äº‹ä»¶çš„åŸºæœ¬ä½¿ç”¨        Â§ ä½¿ç”¨v-onï¼šxxxæˆ–@xxx ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶åç§°ï¼›        Â§ äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Šï¼›        Â§ methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ŒthisæŒ‡å‘æ˜¯vmæˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡;        Â§ @click=â€œdemoâ€å’Œ@click=â€œdemoï¼ˆ$eventï¼‰æ•ˆæœä¸€è‡´ï¼Œä½†æ˜¯åè€…å¯ä»¥ä¼ å‚.            â—‹ äº‹ä»¶ä¿®é¥°ç¬¦        Â§ preventï¼šé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼ˆå¸¸ç”¨ï¼‰        Â§ stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰        Â§ onceï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰        Â§ captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼ˆæ•è·-å†’æ³¡ï¼Œå¯ç”¨äºè¦æ±‚å…ˆæ•è·ï¼‰        Â§ selfï¼šåªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼ˆä¸ä¼šå†’æ³¡å•¦ï¼‰        Â§ passiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•                æ³¨ï¼šä¿®é¥°ç¬¦å¯ä»¥è¿å†™ï¼š@click.stop.prevent = &quot;showInfo&quot;    â—‹ é”®ç›˜äº‹ä»¶        Â§ Vueä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«å            â–¡ å›è½¦ï¼šenter            â–¡ åˆ é™¤ï¼šdeleteï¼ˆæ•è·â€åˆ é™¤â€œå’Œâ€é€€æ ¼â€œï¼‰            â–¡ é€€å‡ºï¼šesc            â–¡ ç©ºæ ¼ï¼šspace            â–¡ æ¢è¡Œï¼štabï¼ˆç‰¹æ®Šï¼šå¿…é¡»é…åˆkeydownä½¿ç”¨ï¼‰ï¼ˆåˆ‡æ¢ç„¦ç‚¹ï¼‰            â–¡ ä¸Šï¼šup            â–¡ ä¸‹ï¼šdown            â–¡ å·¦ï¼šleft            â–¡ å³ï¼šright                    æ³¨ï¼š            â–¡ Vueæœªæä¾›åˆ«åçš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„keyå€¼å»ç»‘å®šï¼Œä½†è¦æ³¨æ„è¦è½¬ä¸ºkebab-caseï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰            â–¡ ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€shiftã€mataï¼ˆwinï¼‰                Â® é…åˆkeyupä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘                Â® é…åˆkeydownä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶            â–¡ ä¹Ÿå¯ä»¥ä½¿ç”¨keyCodeå»æŒ‡å®šå…·ä½“çš„æŒ‰é”®ï¼ˆä¸æ¨èï¼‰ä¾‹å¦‚ï¼š@keyup.13            â–¡ Vue.config.keyCodes.è‡ªå®šä¹‰é”®å = é”®ç ï¼ˆ13ï¼‰ï¼Œå¯ä»¥å»å®šåˆ¶æŒ‰é”®åˆ«å            â–¡ å½“éœ€è¦æŒ‰ä¸‹ctrl+yæ‰èƒ½è§¦å‘äº‹ä»¶å¯ä»¥è¿™æ ·å†™ï¼š@keyup.ctrl.y=&quot;showInfo&quot;ï¼ˆåŒç†å¯ç»„åˆï¼‰    â—‹ è®¡ç®—å±æ€§ä¸ç›‘è§†        Â§ è®¡ç®—å±æ€§            â–¡ å®šä¹‰ï¼šè¦ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡å·²æœ‰çš„å±æ€§è®¡ç®—å¾—æ¥ï¼ˆé€šè¿‡dataä¸­çš„æ•°æ®è®¡ç®—å¾—æ¥ï¼‰            â–¡ åŸç†ï¼šåº•å±‚å€ŸåŠ©Object.definePropertyæ–¹æ³•æä¾›çš„getterå’Œsetterã€‚            â–¡ getå‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿ                Â® åˆæ¬¡è¯»å–æ—¶ä¼šæ‰§è¡Œä¸€æ¬¡                Â® å½“ä¾èµ–çš„å‡½æ•°æ”¹å˜æ—¶ä¼šå†æ¬¡è°ƒç”¨            â–¡ ä¼˜åŠ¿ï¼šä¸methodsç›¸æ¯”ï¼Œå†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰æ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿            â–¡ å¤‡æ³¨ï¼š                Â® è®¡ç®—å±æ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Šï¼Œç›´æ¥è¯»å–ä½¿ç”¨å³å¯                Â® å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®æ”¹ï¼Œå¿…é¡»å†™setå‡½æ•°å»å“åº”ä¿®æ”¹ï¼Œä¸”setä¸­è¦å¼•èµ·è®¡ç®—æ—¶ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜ã€‚                è®¡ç®—å±æ€§ï¼š(å­˜vm â‘ è°ƒgetâ‘¡å­˜returnäºvmâ‘¢åä¸ºfullname)(è¡¨é¢ä¸Šæ˜¯fullname()å®é™…ä¸Šæ‰§è¡Œååœ¨vmä¸Šæ”¾å€¼)                            â–¡ ç®€å†™ï¼šï¼ˆåªæœ‰getï¼Œæ²¡æœ‰setæ‰èƒ½ç®€å†™ï¼‰                    Â§ ç›‘è§†å±æ€§            â–¡ æ³¨ï¼š                Â® å½“è¢«ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œè¿›è¡Œç›¸å…³æ“ä½œ                Â® ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼ˆè‹¥ä¸å­˜åœ¨åˆ™æ˜¯undefinedï¼‰                Â® dataä¸­çš„å±æ€§å¯ä»¥è¢«ç›‘è§†ï¼Œè®¡ç®—å±æ€§computedä¸­çš„å±æ€§ä¹Ÿå¯ä»¥è¢«ç›‘è§†                Â® ç›‘è§†çš„ä¸¤ç§å†™æ³•ï¼š                    â—Š new Vueæ—¶ä¼ å…¥watché…ç½®                    â—Š é€šè¿‡vm.$watchç›‘è§†                                        â–¡ æ·±åº¦ç›‘è§†                Â® Vueä¸­çš„watché»˜è®¤ä¸ç›‘è§†å¯¹è±¡å†…éƒ¨å€¼å¾—æ”¹å˜ï¼ˆä¸€å±‚ï¼‰                Â® é…ç½®watché‡Œé¢çš„deepï¼štrueå¯ä»¥ç›‘æµ‹åˆ°å¯¹è±¡å†…éƒ¨å€¼å¾—æ”¹å˜ï¼ˆå¤šå±‚ï¼‰                Â® Vueè‡ªèº«å¯ä»¥è¯»å–åˆ°æˆ–è€…æ”¹å˜å¤šå±‚çš„å†…éƒ¨å€¼ï¼Œä½†æ˜¯Vueæä¾›çš„watché»˜è®¤ä¸èƒ½ç›‘è§†åˆ°                Â® ä½¿ç”¨watchæ—¶æ ¹æ®æ•°æ®çš„å…·ä½“ç»“æ„ï¼Œå†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†                            â–¡ ç›‘è§†ç®€å†™                Â® new Vueç›´æ¥é…ç½®æ—¶ç®€å†™ç¬¬ä¸€ç§                                Â® vm.$watchç›‘è§†ç®€å†™                            æ³¨ï¼šç›‘è§†å¯ä»¥ç®€å†™çš„å‰ææ¡ä»¶æ˜¯è¢«ç›‘è§†è¿™ä¸ªå±æ€§é‡Œé¢åªæœ‰handlerï¼ˆï¼‰&#123;&#125;            â–¡ watchå’Œcomputedçš„åŒºåˆ«                Â® computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½å¯ä»¥å®Œæˆ                Â® watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œ                Â® ä¸¤ä¸ªé‡è¦çš„åŸåˆ™ï¼š                    â—Š æ‰€æœ‰è¢«Vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡                    â—Š æ‰€æœ‰ä¸è¢«Vueç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨å‡½æ•°ã€AJAXçš„å›è°ƒå‡½æ•°ï¼ŒPromiseçš„å›è°ƒå‡½æ•°ï¼‰æœ€å¥½å†™æˆç®­å¤´å‡½æ•°ï¼Œè¿™æ ·thisçš„æŒ‡å‘æ‰æ˜¯vmæˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚                â—‹ ç»‘å®šæ ·å¼        Â§ ç»‘å®šclassæ ·å¼            â–¡ å†™æ³•            ï¼šclass=&quot;xxx&quot; xxxå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„                Â® å­—ç¬¦ä¸²å†™æ³•ï¼Œé€‚ç”¨äºï¼šåªé€‰æ‹©ä¸€ä¸ªæ ·å¼ï¼ˆå¤šé€‰ä¸€ï¼‰ï¼Œæ ·å¼çš„ç±»åä¸ç¡®å®šï¼Œéœ€è¦åŠ¨æ€æŒ‡å®š                Â® æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šã€åå­—ä¹Ÿä¸ç¡®å®š                Â® æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®šã€åå­—ä¹Ÿç¡®å®š,ä½†æ˜¯ä¸ç¡®å®šç”¨ä¸ç”¨                        Â§ ç»‘å®šstyleæ ·å¼            â–¡ å†™æ³•            ï¼šstyle=&quot;xxx&quot; xxxå¯ä»¥æ˜¯å¯¹è±¡ã€æ•°ç»„                Â® ï¼šstyle=&quot;&#123;fontSizeï¼šxxx&#125;&quot; å…¶ä¸­xxxæ˜¯åŠ¨æ€å€¼                                Â® ï¼šstyle=&quot;[aï¼Œb]&quot; å…¶ä¸­aã€bæ˜¯æ ·å¼å¯¹è±¡ã€‚                    â—‹ æ¡ä»¶æ¸²æŸ“        Â§ v-if            â–¡ å†™æ³•ï¼š                Â® v-if=â€œè¡¨è¾¾å¼â€                Â® v-else-if=â€œè¡¨è¾¾å¼â€                Â® v-else            â–¡ é€‚ç”¨åœºæ™¯ï¼šåˆ‡æ¢é¢‘ç‡è¾ƒä½çš„åœºæ™¯            â–¡ ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ ç›´æ¥è¢«ç§»é™¤            â–¡ æ³¨æ„ï¼šv-ifå¯ä»¥å’Œv-else-ifã€v-elseä¸€èµ·ä½¿ç”¨ï¼Œä½†è¦æ±‚ç»“æ„ä¸èƒ½è¢«â€œæ‰“æ–­â€        Â§ v-show            â–¡ å†™æ³•ï¼šv-show=â€œè¡¨è¾¾å¼â€            â–¡ é€‚ç”¨åœºæ™¯ï¼šåˆ‡æ¢é¢‘ç‡è¾ƒé«˜çš„åœºæ™¯            â–¡ ç‰¹ç‚¹ï¼šä¸å±•ç¤ºçš„DOMå…ƒç´ æœªè¢«ç§»é™¤ï¼Œä»…ä»…æ˜¯ä½¿ç”¨æ ·å¼éšè—æ‰        Â§ æ³¨ï¼š            â–¡ ä½¿ç”¨v-ifæ—¶ï¼Œå…ƒç´ å¯èƒ½æ— æ³•è¢«è·å–åˆ°ï¼Œè€Œæ˜¯ç”¨v-showä¸€å®šå¯ä»¥è¢«è·å–åˆ°            â–¡ templateä¸´æ—¶å®¹å™¨ï¼Œä¸ä¼šåœ¨ç»“æ„ä¸­æ˜¾ç¤º            â—‹ åˆ—è¡¨æ¸²æŸ“        Â§ v-foræŒ‡ä»¤ï¼ˆå¾ªç¯ï¼‰ï¼š            â–¡ ç”¨äºå±•ç¤ºåˆ—è¡¨æ•°æ®            â–¡ è¯­æ³•ï¼šv-for=â€œï¼ˆitemï¼Œindexï¼‰ inï¼ˆæˆ–è€…ofï¼‰ xxxâ€ ï¼škey=â€œyyyâ€            â–¡ å¯éå†ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰ã€æŒ‡å®šæ¬¡æ•°ï¼ˆç”¨çš„å¾ˆå°‘ï¼‰                                Â§ keyä½œç”¨ä¸åŸç†ï¼ˆreactã€vueä¸­çš„keyæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿï¼‰            â–¡ è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š            keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š                Â® æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š                    â—Š è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼                    â—Š è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚                Â® æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key                    â—Š åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚            â–¡ ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š                Â® è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚                Â® å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼šä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚            â–¡ å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:                Â® æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚                Â® å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚                                        æ³¨ï¼šå½“æœªç»™v-forä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‡å®šï¼škeyçš„å€¼æ—¶ï¼Œvueè‡ªåŠ¨å°†ï¼škeyçš„å€¼æŒ‡å®šä¸ºindex        Â§ åˆ—è¡¨è¿‡æ»¤ï¼ˆå…ˆæ”¶é›†ã€å†æ¯”å¯¹ï¼‰        ç”¨watchå®ç°                ç”¨è®¡ç®—å±æ€§å®ç°                Â§ åˆ—è¡¨æ’åº                                è¿™é‡Œçš„P1ã€P2æ˜¯å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ•°å­—ï¼Œæ‰€ä»¥è¦å†™æˆå¦‚ä¸Šå›¾çš„å½¢å¼VU    â—‹ Vueç›‘æµ‹æ•°æ®çš„åŸç†        Â§ é—®é¢˜        åˆ†å¼€æ”¹å±æ€§å¥æ•ˆ                ä¸€èµ·æ”¹å±æ€§ä¸å¥æ•ˆ                Â§ æ€»ç»“ï¼š            â–¡ Vueä¼šç›‘æµ‹dataä¸­æ‰€æœ‰å±‚æ¬¡çš„æ•°æ®            â–¡ Vueå¦‚ä½•ç›‘æµ‹å¯¹è±¡ä¸­çš„æ•°æ®            é€šè¿‡setterå®ç°ç›‘æµ‹ï¼Œä¸”è¦åœ¨new Vueæ—¶å°±ä¼ å…¥è¦ç›‘æµ‹çš„æ•°æ®ã€‚                Â® å¯¹è±¡ä¸­ååŠ å…¥çš„å±æ€§ï¼ŒVueé»˜è®¤ä¸åšå“åº”å¼å¤„ç†                Â® å¦‚éœ€è¦ç»™å¯¹è±¡ä¸­ååŠ å…¥çš„å±æ€§åšå“åº”å¼ï¼Œè¦ä½¿ç”¨å¦‚ä¸‹APIå»æ·»åŠ å¯¹è±¡ä¸­æ–°çš„å±æ€§                    â—Š Vue.set(target,propertyName/index,value)                    â—Š vm.$set(target,propertyName/index,value)            â–¡ Vueå¦‚ä½•ç›‘æµ‹æ•°ç»„ä¸­çš„æ•°æ®            é€šè¿‡åŒ…è£¹æ•°ç»„æ›´æ–°å…ƒç´ çš„æ–¹æ³•å®ç°ï¼Œæœ¬è´¨ä¸Šåšäº†ä¸¤ä»¶äº‹ï¼š                1.è°ƒç”¨åŸç”Ÿå¯¹åº”æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ›´æ–°ï¼›                2.é‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢                Â® æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹æ²¡æœ‰å•ç‹¬ä¸ºå…¶æœåŠ¡çš„setterï¼Œæ‰€ä»¥æ•´ä½“ä¿®æ”¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹Vueä¸ä¼šç›‘æµ‹ï¼Œå³arr[0] = â€¦æ²¡æœ‰æ•ˆæœ                Â® å¦‚éœ€åœ¨Vueä¿®æ”¹æ•°ç»„ä¸­æŸä¸ªå…ƒç´ ä¸€å®šè¦ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š                    â—Š ä½¿ç”¨è¿™äº›æ•°ç»„æœ¬æ¥çš„APIï¼špushï¼ˆï¼‰ã€popï¼ˆï¼‰ã€shiftï¼ˆï¼‰ã€unshiftï¼ˆï¼‰ã€spliceï¼ˆï¼‰ã€sortï¼ˆï¼‰ã€reverseï¼ˆï¼‰                    â—Š Vue.setï¼ˆï¼‰æˆ–è€…vm.$setï¼ˆï¼‰            æ³¨ï¼šVue.setï¼ˆï¼‰æˆ–è€…vm.$setï¼ˆï¼‰ä¸èƒ½ç»™vmæˆ–è€…vmçš„æ ¹æ•°æ®å¯¹è±¡æ·»åŠ å±æ€§ï¼Œä¹Ÿå°±æ˜¯æ‹¬å·å†…ç¬¬ä¸€ä¸ªå€¼ä¸èƒ½æ˜¯vm                    Â§ ç¤ºä¾‹ï¼š                            â—‹ æ”¶é›†è¡¨å•æ•°æ®        Â§ è‹¥ï¼š&lt;input type=&quot;text&quot;/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚        Â§ è‹¥ï¼š&lt;input type=&quot;radio&quot;/&gt;ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚        Â§ è‹¥ï¼š&lt;input type=&quot;checkbox&quot;/&gt;            â–¡ æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰            â–¡ é…ç½®inputçš„valueå±æ€§:                Â® v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰                Â® v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„        Â§ å¤‡æ³¨ï¼šv-modelçš„ä¸‰ä¸ªä¿®é¥°ç¬¦ï¼š            â–¡ lazyï¼šå¤±å»ç„¦ç‚¹å†æ”¶é›†æ•°æ®            â–¡ numberï¼šè¾“å…¥å­—ç¬¦ä¸²è½¬ä¸ºæœ‰æ•ˆçš„æ•°å­—            â–¡ trimï¼šè¾“å…¥é¦–å°¾ç©ºæ ¼è¿‡æ»¤        Â§ ç¤ºä¾‹ï¼š                    â—‹ è¿‡æ»¤å™¨        Â§ å®šä¹‰ï¼šå¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤ºï¼ˆé€‚ç”¨äºä¸€äº›ç®€å•é€»è¾‘çš„å¤„ç†ï¼‰ã€‚        Â§ è¯­æ³•ï¼š            â–¡ æ³¨å†Œè¿‡æ»¤å™¨ï¼šVue.filter(name,callback)ã€å…¨å±€è¿‡æ»¤å™¨ã€‘ æˆ– new Vue&#123;filters:&#123;&#125;&#125;ã€å±€éƒ¨è¿‡æ»¤å™¨ã€‘            â–¡ ä½¿ç”¨è¿‡æ»¤å™¨ï¼š&#123;&#123; xxx | è¿‡æ»¤å™¨å&#125;&#125;  æˆ–  v-bind:å±æ€§ = &quot;xxx | è¿‡æ»¤å™¨å&quot;        Â§ å¤‡æ³¨ï¼š            â–¡ è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥æ¥æ”¶é¢å¤–å‚æ•°ã€å¤šä¸ªè¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ä¸²è”            â–¡ å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®ï¼Œæ‰€ä»¥è¦return        Â§ ç¤ºä¾‹ï¼š                    â—‹ Vueå†…ç½®æŒ‡ä»¤        Â§ å¸¸ç”¨å†…ç½®æŒ‡ä»¤            â–¡  v-text : æ›´æ–°æ•´ä¸ªDOMå…ƒç´ çš„ textContentï¼ˆä¸ä¼šè§£ææ ‡ç­¾ï¼‰                                                â–¡  v-html : æ›´æ–°æ•´ä¸ªDOMå…ƒç´ çš„ innerHTMLï¼ˆä¼šè§£ææ ‡ç­¾ï¼‰            é™¤äº†ä¼šè§£ææ ‡ç­¾ä¹‹å¤–ä¸v-textä¸€æ ·                                                æ³¨ï¼šv-htmlæœ‰å®‰å…¨æ€§é—®é¢˜ï¼åœ¨ç½‘ç«™ä¸ŠåŠ¨æ€æ¸²æŸ“ä»»æ„HTMLæ˜¯éå¸¸å±é™©çš„ï¼Œå®¹æ˜“å—åˆ°XSSæ”»å‡»ï¼Œä¸€å®šè¦åœ¨å¯ä¿¡çš„å†…å®¹ä¸Šä½¿ç”¨v-htmlï¼Œä¸è¦ç”¨åœ¨ç”¨æˆ·æäº¤çš„å†…å®¹ä¸Šã€‚            â–¡  v-if : å¦‚æœä¸º true, å½“å‰æ ‡ç­¾æ‰ä¼šè¾“å‡ºåˆ°é¡µé¢             â–¡ v-else: å¦‚æœä¸º false, å½“å‰æ ‡ç­¾æ‰ä¼šè¾“å‡ºåˆ°é¡µé¢             â–¡ v-show : é€šè¿‡æ§åˆ¶ display æ ·å¼æ¥æ§åˆ¶æ˜¾ç¤º/éšè—             â–¡ v-for : éå†æ•°ç»„/å¯¹è±¡             â–¡  v-on : ç»‘å®šäº‹ä»¶ç›‘å¬, ä¸€èˆ¬ç®€å†™ä¸º@             â–¡ v-bind : ç»‘å®šè§£æè¡¨è¾¾å¼, å¯ä»¥çœç•¥ v-bind             â–¡ v-model : åŒå‘æ•°æ®ç»‘å®š             â–¡ v-cloak : ã€æ²¡æœ‰å€¼ã€‘é˜²æ­¢é—ªç°, ä¸ css é…åˆ: [v-cloak] &#123; display: none&#125;ï¼ˆç½‘é€Ÿæ…¢çš„æ—¶å€™ï¼Œé˜²æ­¢æœªç»è§£æçš„æ¨¡æ¿æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼‰                Â® æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVueå®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ æ‰v-cloakå±æ€§ã€‚                Â® ä½¿ç”¨cssé…åˆv-cloakå¯ä»¥è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤ºå‡º&#123;&#123;xxx&#125;&#125;çš„é—®é¢˜ã€‚            â–¡ v-onceï¼šã€æ²¡æœ‰å€¼ã€‘                Â® v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹äº†ã€‚                Â® ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚                                                            â–¡ v-preï¼šã€æ²¡æœ‰å€¼ã€‘                Â® è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚                Â® å¯åˆ©ç”¨å®ƒè·³è¿‡ï¼šæ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚    â—‹ Vueè‡ªå®šä¹‰æŒ‡ä»¤ï¼ˆç”¨vueå®ä¾‹é‡Œé¢çš„directivesï¼š&#123;&#125;é…ç½®ï¼‰    å‡½æ•°å½¢å¼        å¯¹è±¡å½¢å¼ï¼ˆé€‚ç”¨äºè·å–ç„¦ç‚¹ã€è·å–çˆ¶å…ƒç´ ï¼›åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šç»‘å®šé˜¶æ®µã€æ’å…¥é¡µé¢é˜¶æ®µã€æ›´æ–°ä¾èµ–æ•°æ®é˜¶æ®µï¼‰            Â® å®šä¹‰è¯­æ³•ï¼š                Â® é…ç½®å¯¹è±¡ä¸­å¸¸ç”¨çš„3ä¸ªå›è°ƒ:            â–¡ bind:æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶è°ƒç”¨ã€‚            â–¡ inserted:æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ã€‚            â–¡ update:æŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿ç»“æ„è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ã€‚        Â® å¤‡æ³¨ï¼š            â–¡ æŒ‡ä»¤å®šä¹‰æ—¶ä¸åŠ v-ï¼Œä½†ä½¿ç”¨æ—¶è¦åŠ v-ï¼›            â–¡ æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨kebab-caseå‘½åæ–¹å¼ï¼Œä¸è¦ç”¨camelCaseå‘½åï¼Œåé¢å®šä¹‰çš„æ—¶å€™è¦åŠ å¼•å·â€™kebab-caseâ€˜ã€‚    â—‹ ç”Ÿå‘½å‘¨æœŸ        Â® åˆåï¼šç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ï¼ˆæ²¡è°ƒç”¨ï¼Œä½†æ˜¯æ‰§è¡Œäº†ï¼‰ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­        Â® æ¦‚å¿µï¼šVueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°        Â® ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„        Â® ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯vmæˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡        Â® å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š            â–¡ mountedï¼šå‘é€AJAXè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰ã€åˆå§‹åŒ–æ“ä½œã€‘            â–¡ beforeDestroyï¼šæ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘        Â® å…³äºé”€æ¯Vueå®ä¾‹            â–¡ é”€æ¯åå€ŸåŠ©Vueå¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•æ¶ˆæ¯            â–¡ é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆ            â–¡ ä¸€èˆ¬ä¸ä¼šåœ¨beforeDestroyæ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹äº†ã€‚                                        8ä¸ªé’©å­                            é”€æ¯å®šæ—¶å™¨å’Œvm                æ­¤å¤„çš„äº‹ä»¶æ˜¯æŒ‡è‡ªå®šä¹‰äº‹ä»¶ï¼Œç±»ä¼¼äº@clickè¿™ç§äº‹ä»¶ä¸å¥æ•ˆï¼ˆåŸç”Ÿäº‹ä»¶ï¼‰                        å­—ä½“é€æ˜åº¦å˜åŒ–        â‘ vm.$destory()        â‘¡&lt;template&gt;&lt;/template&gt;ä¸èƒ½ä½œä¸ºæ ¹å…ƒç´         â‘¢template:`        &lt;div&gt;***&lt;/div&gt;        `        å¦‚æœ‰&lt;div id=&quot;root&quot;,åˆ™ä¼šè¢«æ›¿ä»£</code></pre>]]></content>
    
    
    
    <tags>
      
      <tag>Vue2</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
